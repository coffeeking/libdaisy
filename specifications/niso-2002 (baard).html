<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US"><head><!-- March 15, 2002 --><title>Specifications for the Digital Talking Book</title>




<meta name="subject" content="Digital Audio-based Information Systems,
DAISY Consortium, digital talking book, DTB, talking book, dtbook, dtbook DTD,
NISO, National Information Standards Organization, XML application,
DTB package file, audio file formats, image file formats, digital rights
management, DRM, time-scale modification, distribution information DTD, 
SMIL application, DTB-specific SMIL DTD, navigation control file, NCX,
NCX DTD, portable bookmarks, portable bookmarks DTD, highlights,
resource file, resource file DTD, packaging files for distribution,
distributeion information DTD, presentation styles, style sheets for DTBs,
types of DTB, conformance">
<meta name="dc.Creator" content="NISO Committee AQ on Digital Talking Books">
<meta name="dc.Subject" content="digital talking books">
<meta name="dc.Subject" content="Specifications for the Digital Talking Book">
<meta name="dc.Description" content="This standard defines the format and content of the electronic file set that comprises a digital talking book (DTB) and establishes a limited set of requirements for DTB playback devices.  It uses established and new specifications to delineate the structure of DTBs whose content can range from XML text only, to text with corresponding spoken audio, to audio with little or no text.  DTBs are designed to make print material accessible and navigable for blind or otherwise print-disabled persons.">
<meta name="dc.Publisher" content="National Information Standards Organization, Bethesda, Maryland
NISO Press, Bethesda, Maryland, U.S.A.">

<meta name="dc.Contributor" content="Draft American National Standard Developed by the National Information Standards Organization">
<meta name="dc.Contributor" content="DAISY Consortium DTD Work Team">
<meta name="dc.Contributor" content="DAISY Consortium Specifications and
Guidelines Work Team">
<meta name="dc.Date" content="2002-02-27">
<meta name="dc.Type" content="interactive">
<meta name="dc.Format" content="text/html">
<meta name="dc.Identifier" content="ANSI/NISO Z39.86-2002">
<meta name="dc.Identifier" content="1041-5653 National Information Standard Series">
<meta name="dc.Identifier" content="1-880124-52-1">
<meta name="dc.Language" content="en-US">
<meta name="dc.Rights" content="American National Standards Institute">
<meta name="dc.Rights" content="Copyright © 2002 by
National Information Standards Organization">
</head><body>
<h3 id="h3_1">ANSI/NISO Z39.86-2002<br>
ISSN: 1041-5653</h3>
<br>
<br>
<br>
<br>
<br>
<h1 style="text-align: center;" id="h1_1">
Specifications for the Digital Talking Book</h1>
<br>
<br>
<br>
<br>
<br>
<br>
<p id="para_1">Abstract: This standard defines the format and content
of the electronic file set that comprises a digital talking book (DTB)
and establishes a limited set of requirements for DTB playback devices.
It uses established and new specifications to delineate the structure
of DTBs whose content can range from XML text only, to text with
corresponding spoken audio, to audio with little or no text. DTBs are
designed to make print material accessible and navigable for blind or
otherwise print-disabled persons.</p>
<br>
<br>
<br>
<br>
<br>
<br>
<p id="para_2">An American National Standard Developed by the National Information Standards Organization<br>
Approved March 6, 2002, by the American National Standards Institute<br><br>
</p>

<p id="para_2b">Published by<br>
NISO Press<br>
4733 Bethesda Avenue, Suite 300<br>
Bethesda, MD 20814<br>
www.niso.org</p>

<p id="para_2c">Copyright ©2002 by the National Information Standards Organization.<br>
All rights reserved under international and Pan-American Copyright
Conventions. For noncommercial purposes only this publication may be
reproduced or transmitted in any form or by any means without prior
permission in writing from the publisher. All inquiries regarding
commercial reproduction or distribution should be addressed to NISO
Press, 4733 Bethesda Avenue, Suite 300, Bethesda, MD 20814 USA.</p>

<p id="para_2d">ISSN: 1041-5653 National Information Standards Series<br>
ISBN: 1-880124-52-1</p>

<h1 id="h1_2"><a name="toc">Contents</a></h1>
<ul id="ul_1">
	<li id="li_1"><a href="#Foreword">Foreword</a>
		<ul id="ul_2">
			<li id="li_2"><a href="#Vote">NISO Voting Members</a></li>
			<li id="li_3"><a href="#BoD">NISO Board of Directors</a></li>
			<li id="li_4"><a href="#AQ">Standards Committee AQ</a></li>
			
      <li id="li_5"><a href="#Ack">Acknowledgments</a></li>
		</ul>
	</li>
</ul>

<ol id="ol_1">
	<li id="li_6"><a href="#GenInfo">General Information</a> 
		<ul id="ul_3">
			<li style="list-style-type: none;" id="li_7">1.1 <a href="#Purpose">Purpose and Scope of Standard</a></li>
			<li style="list-style-type: none;" id="li_8">1.2 <a href="#Def">Definitions</a></li>
			<li style="list-style-type: none;" id="li_9">1.3 <a href="#Strategy">Strategy</a></li>
			<li style="list-style-type: none;" id="li_10">1.4 <a href="#Access">Accessibility Issues</a></li>
			<li style="list-style-type: none;" id="li_11">1.5 <a href="#Rel">Relationship to Other Specifications</a>
			<ul id="ul_4">
				<li style="list-style-type: none;" id="li_12">1.5.1 <a href="#Uni">Relationship to Unicode</a></li>
			</ul></li>
			<li style="list-style-type: none;" id="li_13">1.6 <a href="#Patents">Patent Rights</a></li>
			<li style="list-style-type: none;" id="li_14">1.7 <a href="#Maint">Maintenance Agency</a></li>
		</ul>
	</li>
	<li id="li_15"><a href="#Over">Overview</a></li>
	<li id="li_16"><a href="#OPF">The DTB Package File</a>
		<ul id="ul_5">
			<li style="list-style-type: none;" id="li_17">3.1 <a href="#PkgId">Package Identity</a></li>
			<li style="list-style-type: none;" id="li_18">3.2 <a href="#PubMed">Publication Metadata</a>
				<ul id="ul_6">
					<li style="list-style-type: none;" id="li_19">3.2.1 <a href="#DCM">Dublin Core Metadata</a></li>
					<li style="list-style-type: none;" id="li_20">3.2.2 <a href="#DTBID">DTB ID Scheme</a></li>
					<li style="list-style-type: none;" id="li_21">3.2.3 <a href="#XMeta">X-Metadata</a></li>
				</ul></li>
			<li style="list-style-type: none;" id="li_22">3.3 <a href="#Manifest">Manifest</a></li>
			<li style="list-style-type: none;" id="li_23">3.4 <a href="#Spine">Spine</a></li>
			<li style="list-style-type: none;" id="li_24">3.5 <a href="#Tours">Tours</a></li>
			<li style="list-style-type: none;" id="li_25">3.6 <a href="#Guide">Guide</a></li>
		</ul>
	</li>
	<li id="li_26"><a href="#Text">Content Format for Text</a> 
		<ul id="ul_7">
			<li style="list-style-type: none;" id="li_27">4.1 <a href="#TextIntro">Introduction</a></li>
			<li style="list-style-type: none;" id="li_28">4.2 <a href="#Using">Using the DTBook Element Set</a> 
				<ul id="ul_8">
					<li style="list-style-type: none;" id="li_29">4.2.1 <a href="#SMILMark">DTBook Markup Related to SMIL</a></li>
					<li style="list-style-type: none;" id="li_30">4.2.2 <a href="#ModExt">Modular Extension of the DTD</a></li>
				</ul></li>
			</ul>
	</li>
	<li id="li_32"><a href="#Audio">Audio File Formats</a> 
		<ul id="ul_9">
			<li style="list-style-type: none;" id="li_33">5.1 <a href="#AudFormats">Distribution Formats</a></li>
			<li style="list-style-type: none;" id="li_34">5.2 <a href="#AudNotes">Formats for Audio Notes</a></li>
		</ul>
	</li>
	<li id="li_35"><a href="#Image">Image File Formats</a></li>
	<li id="li_36"><a href="#SMIL">Synchronization of Media Files</a> 
		<ul id="ul_10">
			<li style="list-style-type: none;" id="li_37">7.1 <a href="#SMILIntro">Introduction</a>
				<ul id="ul_11">
					<li style="list-style-type: none;" id="li_38">7.1.1 <a href="#SMILBack">Background</a></li>
					<li style="list-style-type: none;" id="li_39">7.1.2 <a href="#SMILMods">SMIL Modules</a></li>
				</ul>
			</li>
			<li style="list-style-type: none;" id="li_40">7.2 <a href="#SMILApp">Application of SMIL to DTBs</a></li>
			<li style="list-style-type: none;" id="li_41">7.3 <a href="#SMILElem">SMIL Elements</a>
				<ul id="ul_12">
			<li style="list-style-type: none;" id="li_42">7.3.1 <a href="#CommAtt">Core Attributes</a></li>
				</ul></li>
<li style="list-style-type: none;" id="li_43">7.4 <a href="#SMILProd">SMIL Requirements for DTBs</a>
<ul id="ul_13">
<li style="list-style-type: none;" id="li_44">7.4.1 <a href="#Escape">"Escapable" Structures</a></li>
<li style="list-style-type: none;" id="li_45">7.4.2 <a href="#AutoInv">Automatic Invocation of Special Navigation Modes</a></li>
<li style="list-style-type: none;" id="li_46">7.4.3 <a href="#Skip">"Skippable" Structures</a></li>
<li style="list-style-type: none;" id="li_47">7.4.4 <a href="#SMILDist">Packaging Files across Several Media Units</a></li>
<li style="list-style-type: none;" id="li_48">7.4.5 <a href="#SMILLinks">Links</a></li>
<li style="list-style-type: none;" id="li_49">7.4.6 <a href="#Layout">Layout Syntax</a></li>
<li style="list-style-type: none;" id="li_50">7.4.7 <a href="#Par">Content of &lt;par&gt;s</a></li>
<li style="list-style-type: none;" id="li_52">7.4.8 <a href="#Notes">Notes and Annotations in SMIL</a></li>
<li style="list-style-type: none;" id="li_53">7.4.9 <a href="#Images">Images in SMIL</a></li>
<li style="list-style-type: none;" id="li_54">7.4.10 <a href="#T-O">Text Only DTBs</a></li>
</ul></li>
<li style="list-style-type: none;" id="li_55">7.5 <a href="#SMILMeta">SMIL Metadata</a></li>
<li style="list-style-type: none;" id="li_56">7.6 <a href="#SMILEx">Examples</a></li>
<li style="list-style-type: none;" id="li_57">7.7 <a href="#Clock">Clock Values</a></li>
</ul></li>
<li id="li_58"><a href="#NCX">Navigation Control File (NCX)</a>
<ul id="ul_14">
<li style="list-style-type: none;" id="li_59">8.1 <a href="#NCXIntro">Introduction</a></li>
<li style="list-style-type: none;" id="li_60">8.2 <a href="#NCXReq">Key NCX Requirements</a></li>
<li style="list-style-type: none;" id="li_61">8.3 <a href="#NCXElem">NCX Elements</a></li>
<li style="list-style-type: none;" id="li_62">8.4 <a href="#FileReq">Other File Requirements</a>
<ul id="ul_15">
<li style="list-style-type: none;" id="li_63">8.4.1 <a href="#NavMeta">Navigation Metadata</a></li>
<li style="list-style-type: none;" id="li_64">8.4.2 <a href="#NCXSpan">DTBs Spanning Multiple Media Units</a></li>
          <li style="list-style-type: none;" id="li_65">8.4.3 <a href="#NCXMapref">mapRef Attribute</a></li>
<li style="list-style-type: none;" id="li_66">8.4.4 <a href="#NCXCustom">smilCustomTest Element</a></li>
</ul></li>
<li style="list-style-type: none;" id="li_67">8.5 <a href="#NCXWorks">How the NCX Works</a></li>
<li style="list-style-type: none;" id="li_68">8.6 <a href="#NCXEx">Example</a></li>
</ul></li>
<li id="li_69"><a href="#Bkmk">Portable Bookmarks and Highlights</a>
<ul id="ul_16">
<li style="list-style-type: none;" id="li_70">9.1 <a href="#BkmkIntro">Introduction</a></li>
<li style="list-style-type: none;" id="li_71">9.2 <a href="#BkmkElem">Bookmark/Highlight Elements</a></li>
<li style="list-style-type: none;" id="li_72">9.3 <a href="#BkmkEx">Examples</a></li>
</ul></li>
<li id="li_73"><a href="#Resource">Resource File</a>
<ul id="ul_17">
<li style="list-style-type: none;" id="li_74">10.1 <a href="#ResIntro">Introduction</a></li>
<li style="list-style-type: none;" id="li_75">10.2 <a href="#ResElem">Resource Elements</a></li>
<li style="list-style-type: none;" id="li_76">10.3 <a href="#ResReq">Resource File Requirements</a></li>
<li style="list-style-type: none;" id="li_77">10.4 <a href="#ResEx">Examples</a></li>
</ul></li>
<li id="li_78"><a href="#Dist">Packaging Files for Distribution</a> 
<ul id="ul_18">
<li style="list-style-type: none;" id="li_79">11.1 <a href="#DistIntro">Introduction</a></li>
<li style="list-style-type: none;" id="li_80">11.2 <a href="#DistReq">Distribution Requirements</a></li>
<li style="list-style-type: none;" id="li_81">11.3 <a href="#DistElem">Distinfo Elements</a></li>
<li style="list-style-type: none;" id="li_82">11.4 <a href="#DistEx">Examples</a></li>
</ul></li>
<li id="li_83"><a href="#Style">Presentation Styles</a> 
<ul id="ul_19">
<li style="list-style-type: none;" id="li_84">12.1 <a href="#StyleIntro">Introduction</a></li>
<li style="list-style-type: none;" id="li_85">12.2 <a href="#ImpStyles">Implementing Style Sheets for DTBs</a></li>
</ul></li>
<li id="li_86"><a href="#Type">Types of DTB</a>
<ul id="ul_20">
<li style="list-style-type: none;" id="li_87">13.1 <a href="#Types">Types</a></li>
<li style="list-style-type: none;" id="li_88">13.2 <a href="#ReqFiles">Required Files</a></li>
<li style="list-style-type: none;" id="li_89">13.3 <a href="#Render">Content Rendering</a></li>
</ul></li>
<li id="li_90"><a href="#DRM">Digital Rights Management</a></li>
<li id="li_91"><a href="#TSM">Time-Scale Modification</a></li>
<li id="li_92"><a href="#Conform">Conformance</a></li>
<li id="li_93"><a href="#Ref">References to Other Specifications/Documents</a>
<ul id="ul_20a">
<li style="list-style-type: none;" id="li_93a">17.1 <a href="#Norm-Ref">Normative References</a></li>
<li style="list-style-type: none;" id="li_93b">17.2 <a href="#Inform-Ref">Informative References</a></li>
</ul>
</li> 
</ol>
<ul id="ul_21">
<li id="li_94"><a href="#DTBookDTD">Appendix 1 - DTBook110 DTD</a></li>
<li id="li_95"><a href="#DTBSMILDTD">Appendix 2 - DTB-Specific SMIL DTD</a></li>
<li id="li_96"><a href="#NCXDTD">Appendix 3 - NCX DTD</a></li>
<li id="li_97"><a href="#BKMKDTD">Appendix 4 - DTD for Portable Bookmarks/Highlights</a></li>
<li id="li_98"><a href="#RESDTD">Appendix 5 - DTD for Resource File</a></li>
<li id="li_99"><a href="#Distinfo">Appendix 6 - Distribution Information DTD</a></li>
<li id="li_100"><a href="#MaintDes">Appendix 7 - Designation of Maintenance Agency</a></li>
</ul>


<h1 id="h1_3"><a name="Foreword">Foreword</a></h1>

<p id="para_3"> (This foreword is not a part of ANSI/NISO Z39.86-2002,
Specifications for the Digital Talking Book. It is included for
information only.)</p> 


<p id="para_4"> This standard presents specifications for digital talking books (DTBs) for blind, visually
impaired, physically handicapped, learning-disabled, or otherwise print-disabled readers.  For many years, "talking
books" have been made available to print-disabled readers on analog media such as phonograph
records and audiocassettes.  These media serve their users well in providing human-speech
recordings of a wide array of print material in increasingly robust and cost-effective formats. 
However, analog media are limited in several respects when compared to a print book.  First,
they are by their nature linear presentations, which leave much to be
desired when reading reference works, textbooks, magazines, and other materials that are often
accessed randomly.  In contrast, digital media offer readers the ability to move around in a book or magazine as
freely as (and more efficiently than) a sighted reader flips through a print book.  Second, analog
recordings do not allow users to interact with the book by placing bookmarks or highlighting
material.  A DTB offers this capability, storing the bookmarks and highlights
separate from, but associated with,  the DTB itself.  Third, talking book users have long
complained that they do not have access to the spelling of the words they hear.  As will be
explained below, some DTBs will include a file containing the full text of the work,
synchronized with the audio presentation, thereby allowing readers to locate specific words and
hear them spelled.   Finally, analog audio offers readers only one version of the document.  If, for
example, a book contains footnotes, they are either read where referenced, which burdens the
casual reader with unwanted interruptions, or grouped at a location out of the flow of the text,
making them difficult for interested readers to access.  A DTB allows the user to easily skip
over or read footnotes.  The Digital Talking Book offers the print-disabled user a significantly
enhanced reading experience -- one that is much closer to that of the sighted reader using a print
book.</p> 


<p id="para_5">The DTB goes far beyond the limits imposed on analog audio books because it 
  can include not just the audio rendition of the work, but the full textual content 
  and images as well. Because the textual content file is synchronized with the 
  audio file, a DTB offers multiple sensory inputs to readers, a great benefit 
  to, for example, learning-disabled readers. Some visually impaired readers may 
  choose to listen to most of the book, but find that inspecting the images provides 
  information not available in the narrative flow. Others may opt to skip the 
  audio presentation altogether and instead view the text file via screen-enlarging 
  software. Braille readers may prefer to read some or all of the document via 
  a refreshable Braille display device connected to their DTB player and accessing 
  the textual content file.</p> 


<p id="para_6"> Digital Talking Books are not tied to a single distribution medium.  CD-ROMs will be used first
but DTBs will be portable to any digital distribution medium capable of handling the large files
associated with digital audio recordings. Regardless of how a DTB is distributed, however, it
will normally be in the context of a digital rights management system.</p>

<p id="para_7"> This standard describes the various files that make up a DTB and specifies
  how each must be formatted. The initiative behind this document grew from a desire to
  standardize DTB file structures in the hope that it might prevent a recurrence of the
  multiple formats currently used for talking books throughout the world. This document 
  benefited greatly from the work of the <a href="#DAISY">DAISY Consortium</a>, 
  whose members had broken much of the ground covered in this standard and who 
  contributed enormously to the solution of the many problems encountered. </p> 


<h2 id="h2_2"><a name="Vote">NISO Voting Members</a></h2>

<p id="para_a1"><strong>3M</strong><br>
Jerry Karel<br>
Susan Boettcher (Alt)</p>

<p id="para_a3"><strong>American Association of Law Libraries</strong><br>
Robert L. Oakley<br>
Mary Alice Baish (Alt)</p>

<p id="para_a4"><strong>American Chemical Society</strong><br>
Robert S. Tannehill, Jr.</p>

<p id="para_a5"><strong>American Library Association</strong><br>
Paul J. Weiss</p>

<p id="para_a6"><strong>American Society for Information Science and Technology</strong><br>
Mark H. Needleman</p>

<p id="para_a7"><strong>American Society of Indexers</strong><br>
Judith Gibbs<br>
Jacqueline Rodebaugh (Alt) </p>

<p id="para_a8"><strong>American Theological Library Association</strong><br>
Myron Chace</p>

<p id="para_a9"><strong>ARMA International</strong><br>
Diane Carlisle</p>

<p id="para_a10"><strong>Armed Forces Medical Library</strong><br>
Diane Zehnpfennig<br>
Emily Court (Alt)</p>

<p id="para_a11"><strong>Art Libraries Society of North America</strong><br> 
David L. Austin</p>

<p id="para_a12"><strong>AIIM International</strong><br> 
Betsy A. Fanning </p>

<p id="para_a14"><strong>Association of Jewish Libraries</strong><br>
Caroline R. Miller<br>
Elizabeth Vernon (Alt)</p>

<p id="para_a15"><strong>Association of Research Libraries</strong><br>
Duane E. Webster<br>
Julia Blixrud (Alt)</p>

<p id="para_a17"><strong>BiblioMondo Inc.</strong><br>
Martin Sach</p>

<p id="para_a18"><strong>Book Industry Communication</strong><br>
Brian Green</p>

<p id="para_a20"><strong>Cambridge Scientific Abstracts</strong><br>
Michael Cairns<br>
Matthew Dunie (Alt)</p>

<p id="para_a21"><strong>Checkpoint Systems, Inc.</strong><br>
Paul Simon</p>

<p id="para_a22"><strong>College Center for Library Automation</strong><br>
J. Richard Madaus<br>
Ann Armbrister (Alt)</p>

<p id="para_a24"><strong>Congressional Information Service, Inc.</strong><br>
Robert Lester</p>

<p id="para_a25"><strong>devine, Inc.</strong><br>
Robert Boissy</p>

<p id="para_a26"><strong>Elsevier Science</strong><br>
Anthony Ross<br>
John Mancia (Alt)</p>

<p id="para_a27"><strong>Endeavor Information Systems, Inc.</strong><br>
Verne Coppi<br>
Cindy Miller (Alt)</p>

<p id="para_a28"><strong>epixtech, Inc.</strong><br>
John Bodfish<br>
Ricc Ferante (Alt)</p>

<p id="para_a29"><strong>Ex Libris</strong><br>
James Steenbergen<br>
Carl Grant (Alt)</p>

<p id="para_a30"><strong>Follett Corporation</strong><br>
D. Jeffrey Blumenthal<br>
Don Rose (Alt)</p>

<p id="para_a31"><strong>Fretwell-Downing Informatics</strong><br>
Robin Murray</p>

<p id="para_a32"><strong>Gale Group</strong><br>
Katherine Gruber<br>
Justine Carson (Alt)</p>

<p id="para_a33"><strong>Gaylord Information Systems</strong><br>
William Schickling<br> 
Linda Zaleski (Alt)</p>

<p id="para_a34"><strong>GCA Research Institute</strong><br>
Jane Harnad </p>

<p id="para_a36"><strong>H.W. Wilson Company</strong><br>
Ann Case</p> 

<p id="para_a38"><strong>Information Use Management &amp; Policy Institute</strong><br>
Charles McClure<br>
John Carlo Bertot (Alt)</p>

<p id="para_a39"><strong>Infotrieve</strong><br>
Jan Peterson</p>

<p id="para_a40"><strong>Innovative Interfaces, Inc.</strong><br>
Gerald M. Kline<br>
Sandy Westall (Alt)</p>

<p id="para_a41"><strong>Institute for Scientific Information</strong><br>
</p>

<p id="para_a42"><strong>The International DOI Foundation</strong><br>
Norman Paskin</p>

<p id="para_a44"><strong>Library Binding Institute</strong><br>
Donald Dunham</p>

<p id="para_a45"><strong>The Library Corporation</strong><br>
Mark Wilson<br>
Nancy Capps (Alt)</p>

<p id="para_a46"><strong>Library of Congress</strong><br>
Winston Tabb<br>
Sally H. McCallum (Alt)</p>

<p id="para_a47"><strong>Los Alamos National Laboratory</strong><br>
Richard E. Luce</p>

<p id="para_a48"><strong>Lucent Technologies</strong><br>
M.E. Brennan</p>

<p id="para_a49"><strong>Medical Library Association</strong><br>
Nadine P. Ellero<br>
Carla J. Funk (Alt)</p>

<p id="para_a50"><strong>MINITEX</strong><br>
Cecelia Boone<br>
William DeJohn (Alt)</p>

<p id="para_a51"><strong>Modern Language Association</strong><br>
Daniel Bokser<br>
Cameron Bardrick (Alt)</p>

<p id="para_a52"><strong>Motion Picture Association of America</strong><br>
William M. Baker<br>
Axel aus der Muhlen (Alt)</p>

<p id="para_a53"><strong>Music Library Association</strong><br>
Lenore Coral<br>
Mark McKnight (Alt)</p>

<p id="para_a54"><strong>National Agricultural Library</strong><br>
Gary K. McCone</p> 

<p id="para_a55"><strong>National Archives and Records Administration</strong><br>
Mary Ann Hadyka</p>

<p id="para_a56"><strong>National Federation of Abstracting and Information Services</strong><br> 
Marion Harrell</p>

<p id="para_a57"><strong>National Library of Medicine</strong><br>
Betsy L. Humphreys</p>

<p id="para_a59"><strong>Nylink</strong><br>
Mary-Alice Lynch<br>
Jane Neale (Alt)</p>

<p id="para_a60"><strong>OASIS</strong><br></p>

<p id="para_a61"><strong>OCLC, Inc.</strong><br>
Donald J. Muccino</p>

<p id="para_a62"><strong>Openly Informatics</strong><br>
Eric Hellman (Alt)</p>

<p id="para_a63"><strong>Proquest Information and Learning</strong><br>
Todd Fegan<br>
James Brei (Alt)</p>

<p id="para_a65"><strong>Recording Industry Association of America</strong><br>
Linda R. Bocchi<br>
Michael Williams (Alt)</p>

<p id="para_a66"><strong>Research Libraries Group</strong><br>
Lennie Stovel<br>
Joan Aliprand (Alt)</p>

<p id="para_a68"><strong>SIRS Mandarin, Inc.</strong><br>
Leonardo Lazo<br>
Harry Kaplanian (Alt)</p>

<p id="para_a69"><strong>Sirsi Corporation</strong><br>
Greg Hathorn<br>
Slavko Manojlovich (Alt)</p>

<p id="para_a70"><strong>Society for Technical Communication</strong><br>
Annette Reilly<br>
Kevin Burns (Alt)</p>

<p id="para_a71"><strong>Society of American Archivists</strong><br>
Lisa Weber</p>

<p id="para_a72"><strong>Special Libraries Association</strong><br> 
Marcia Lei Zeng</p>

<p id="para_a74"><strong>Triangle Research Libraries Network</strong><br>
Jordan M. Scepanski<br>
Mona C. Couts (Alt)</p>

<p id="para_a75"><strong>U.S. Department of Commerce<br>
National Institute of Standards and Technology<br> 
Office of Information Services</strong></p> 

<p id="para_a76"><strong>U.S. Department of Defense<br> 
Defense Technical Information Center</strong><br> 
Gopalakrishnan Nair<br> 
Jane L. Cohen (Alt)</p>

<p id="para_a77"><strong>U.S. National Commission on Libraries and Information Science</strong><br> 
Denise Davis</p>

<p id="para_a78"><strong>VTLS Inc.</strong><br>
Vinod Chachra</p>



<p id="para_a79">At the time NISO approved this standard, the following individuals served on its Board of Directors:</p>
<h2 id="h2_3"><a name="BoD">NISO Board of Directors</a></h2>

<p id="para_a80"><strong>Beverly P. Lynch, Chair</strong><br>
University of California, Los Angeles</p>

<p id="para_a81"><strong>Jan Peterson, Vice Chair/Chair-Elect</strong><br>
Infotrieve, Inc.</p>

<p id="para_a82"><strong>Donald J. Muccino, Immediate Past Chair</strong><br>
OCLC, Inc.</p>

<p id="para_a83"><strong>Jan Peterson, Treasurer</strong><br>
Infotrieve, Inc.</p>

<p id="para_a84"><strong>Patricia R. Harris, Executive Director</strong><br>
National Information Standards Organization</p>

<p id="para_a85"><strong>Pieter S. H. Bolman</strong><br>
Elsevier Science</p>

<p id="para_a86"><strong>Priscilla Caplan</strong><br>
Florida Center for Library Automation</p>

<p id="para_a87"><strong>Carl Grant</strong><br>
Ex Libris (USA), Inc.</p>

<p id="para_a88"><strong>Brian Green</strong><br>
BIC/EDItEUR</p>

<p id="para_a89"><strong>Jose-Marie Griffiths</strong><br>
University of Pittsburgh</p>

<p id="para_a90"><strong>Richard E. Luce</strong><br>
Los Alamos National Laboratory</p>

<p id="para_a91"><strong>Sally McCallum</strong><br>
Library of Congress</p>

<p id="para_a92"><strong>Norman Paskin</strong><br>
The International DOI Foundation</p>

<p id="para_a93"><strong>Steven Puglia</strong><br>
U.S. National Archives and Records Administration</p>

<p id="para_a94"><strong>Albert Simmonds</strong><br>
OCLC, Inc.</p>

<h2 id="h2_4"><a name="AQ">Standards Committee AQ</a></h2>

<p id="para_a95">Standards Committee AQ on Digital Talking Books had the following members at
the time this standard was approved:</p>

                               
<p id="para_a96"><strong>Mr. Donald J. Breda</strong><br>
American Council of the Blind</p>

<p id="para_a97"><strong>Mr. George Brummell</strong><br>
Blinded Veterans Association</p>

<p id="para_a98"><strong>Mr. John Bryant</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>      

<p id="para_a99"><strong>Mr. Glen Cavanaugh</strong><br>
Telex Communications, Inc.</p>

<p id="para_a100"><strong>Mr. Curtis Chong</strong><br>
World Blind Union</p>

<p id="para_a101"><strong>Mr. Thomas Kjellberg Christensen</strong><br>
<a href="#DAISY">DAISY</a> Consortium and the Danish National Library for 
    the Blind</p>

<p id="para_a102"><strong>Mr. John Cookson</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a103"><strong>Mr. Keith Creasy</strong><br>
American Printing House for the Blind</p>

<p id="para_a104"><strong>Mr. Frank Kurt Cylke</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a105"><strong>Mr. Jack Decker</strong><br>
American Printing House for the Blind</p>

<p id="para_a106"><strong>Dr. Judith Dixon</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a107"><strong>Mr. Jim Dust</strong><br>
Telex Communications, Inc.</p>

<p id="para_a108"><strong>Dr. Michael Gosse</strong><br>
National Federation of the Blind</p>

<p id="para_a109"><strong>Mr. Luis Gutierrez</strong><br>
American Foundation for the Blind</p>

<p id="para_a110"><strong>Mr. Mark Hakkinen</strong><br>
Japanese Society for the Rehabilitation of Persons with Disabilities
</p>

<p id="para_a111"><strong>Mr. John Hedges</strong><br>
American Printing House for the Blind</p>

<p id="para_a112"><strong>Ms. Vivian Seki</strong><br>
Hadley School for the Blind</p>

<p id="para_a113"><strong>Ms. Rosemary Kavanagh</strong><br>
Canadian National Institute for the Blind</p>
                         
<p id="para_a114"><strong>Mr. George Kerscher</strong><br>
Recording for the Blind and Dyslexic and <a href="#DAISY">DAISY</a> Consortium</p>

<p id="para_a115"><strong>Mr. Wells "Brad" Kormann</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a116"><strong>Ms. Kathie Korpolinski</strong><br>
Recording for the Blind and Dyslexic</p>

<p id="para_a117"><strong>Mr. Dominic Labbé</strong><br>
VisuAide, Inc.</p> 

<p id="para_a118"><strong>Ms. Mary-Frances Laughton</strong><br>
Assistive Devices Industry Office<br>
Industry Canada</p>

<p id="para_a119"><strong>Mr. Thomas McLaughlin</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>                     

<p id="para_a120"><strong>Mr. Michael Moodie, Chair</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>     

<p id="para_a121"><strong>Ms. Freddie Peaco</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a122"><strong>Mr. Gilles Pepin</strong><br>
VisuAide, Inc.</p>

<p id="para_a123"><strong>Mr. Lloyd Rasmussen</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a124"><strong>Ms. Janina Sajka</strong><br>
American Foundation for the Blind</p>

<p id="para_a125"><strong>Mr. Rudy Savage</strong><br>
Talking Book Publishers, Inc.</p>

<p id="para_a126"><strong>Mr. Larry Skutchan</strong><br>
American Printing House for the Blind</p>
                                 
<p id="para_a127"><strong>Ms. Linda Stetson</strong><br>
Association of Specialized and Cooperative Library Agencies<br>
American Library Association</p>

<p id="para_a128"><strong>Mr. George Stockton</strong><br>
National Library Service for the Blind and Physically Handicapped<br>
Library of Congress</p>

<p id="para_a129"><strong>Ms. Karen Taylor</strong><br>
Canadian National Institute for the Blind</p>

<p><a href="#toc">Contents</a></p>
<h2 id="h2_5"><a name="Ack">Acknowledgements</a></h2>

<p id="para_11">Standards Committee AQ gratefully acknowledges the contributions made by the 
  <a href="#DAISY"> DAISY Consortium</a> (www.daisy.org) to this work. The Consortium 
  created a series of open international specifications (DAISY 2.0 ©1998, DAISY 
  2.01 ©1999, and DAISY 2.02 ©2001) that formed the foundation on which this standard 
  is built. DAISY representatives served on Committee AQ since its inception 
  and knowledge gained in their work on DAISY projects greatly informed the complex 
  discussions and decisions leading to the creation of this document. In addition, 
  they hosted several list-servs on which many issues critical to DTB work in 
  general, and to this standard specifically, were discussed and resolved. It 
  is no exaggeration to state that without their groundbreaking efforts and their 
  ongoing contributions to Committee work, this standard would not exist in anything 
  like its current level of sophistication.</p>

<p id="para_12">In addition, the Committee wishes to thank the following individuals for their 
  substantial assistance to the process of creating the standard: Robert Berkovitz, 
  Sensimetrics Corporation; Harvey Bingham; Mike Brown; John Churchill, Recording 
  for the Blind and Dyslexic; Manon Gaudet, VisuAide, Inc.; Al Gilman; Markus 
  Gylling, Swedish Library of Talking Books and Braille; Steve Jacobs, NCR Corporation; 
  Lynn Leith, Canadian National Institute for the Blind; Tatsu Nishizawa, Plextor 
  Corporation; Dave Pawson, Royal National Institute for the Blind; James Pritchett, 
  Recording for the Blind and Dyslexic; Dr. Gregg Vanderheiden, TRACE Research 
  and Development Center, University of Wisconsin; Mr. Paul Vassallo, National 
  Institute of Standards &amp; Technology; with special thanks to members of the 
  DAISY Consortium's Specifications and Guidelines Work Team and DTD Work Team. 
  Thanks also to these members of the W3C Synchronized Multimedia (SYMM) Working 
  Group: Dick Bulterman, Oratrix; Wo Chang, NIST; Lloyd Rutledge, CWI; Patrick 
  Schmitz, Microsoft.</p>

<p><a href="#toc">Contents</a></p>

<h1 id="h1_4"><a name="GenInfo">1. General Information</a></h1>

<h2 id="h2_6"><a name="Purpose">1.1 Purpose and Scope of Standard</a></h2>
<h3 id="h3_2">(This section is <a href="#d-inform">informative</a>.)</h3>
<p id="para_13">This standard establishes specifications for digital talking books (<a href="#d-dtb">DTB</a>s) 
  for blind, visually impaired, physically handicapped, learning-disabled, or 
  otherwise print-disabled <a href="#d-reader">reader</a>s. Its purpose is to 
  ensure interoperability across service organizations and vendors providing content 
  and <a href="#d-playsys">playback systems</a> to the <a href="#d-targetpop">target 
  population</a>.</p>
<p id="para_14">This standard provides specifications primarily for DTB
files and their interrelationships. It also includes specifications for
DTB <a href="#d-playback">playback</a> devices in two areas: player
performance related to file requirements and player behavior in areas
defined in user requirements.</p>
<p><a href="#toc">Contents</a></p>

<h2 id="h2_7"><a name="Def">1.2 Definitions</a></h2>
<h3 id="h3_3">(This section is <a href="#d-norm">normative</a>.)</h3>

<p id="para_15">The following abbreviations, acronyms, phrases, and
terms are used in this standard as defined below. In the following
definitions and throughout the standard, bracketed items correspond to
entries in <a href="#Ref">section 17, "References to Other Specifications/Documents,"</a> where the full URL is provided for each reference.</p>

<dl id="dl_1">
<dt id="dt_1"><a name="d-access">Accessible</a></dt>
  <dd id="dd_1">Fully usable by the target population.</dd>
<dt id="dt_2"><a name="d-css">CSS</a></dt>  
  <dd id="dd_2"><a href="#CSS">Cascading Style Sheets</a> <a href="#CSS">[CSS]</a> is a 
    mechanism for adding style (e.g. fonts, colors, spacing, formatting) to HTML 
    or <a href="#d-xml">XML</a> documents.</dd>
<dt id="dt_3"><a name="d-drm">DRM</a></dt>
  <dd id="dd_3"><em>Digital Rights Management</em> is a system of tools and processes that protect intellectual property when it is encoded and distributed in digital form.</dd>
<dt id="dt_4"><a name="d-dtb">DTB</a></dt>
  <dd id="dd_4">The <em>Digital Talking Book</em> content data set that
  complies with the specifications in this standard.</dd>
<dt id="dt_5"><a name="d-dtbook">DTBook</a></dt>
  <dd id="dd_5">An <a href="#d-xml">XML</a> element set (dtbook.dtd) that defines the markup 
    for the textual content of a <a href="#d-dtb">DTB</a>.</dd>
<dt id="dt_6"><a name="d-dtd">DTD</a></dt>
  <dd id="dd_6">The <em>Document Type Definition</em> file contains machine- and human-readable 
    rules that define allowable <a href="#d-xml">XML</a> markup for a particular 
    application.</dd>
<dt id="dt_7"><a name="d-fixed">FIXED</a></dt>
  <dd id="dd_7">When used in definitions of XML element attributes, means that the attribute has a single, 
    fixed value specified in the <a href="#d-dtd">DTD</a>. 
    See <a href="#d-implied">IMPLIED</a> and <a href="#d-required">REQUIRED.</a></dd>
<dt id="dt_8"><a name="d-fragid">Fragment Identifier</a></dt>
  <dd id="dd_8">A means to address a named place in a document. For reference within the 
    current document, the reference part is to a named target and begins with 
    "#". See <a href="#d-uri">URI</a> for addressing into another document.</dd>
<dt id="dt_9"><a name="d-globalnav">Global navigation</a></dt>
  <dd id="dd_9">Movement to user-selected portions of a document, with that movement enabled 
    by the <a href="#d-ncx">NCX</a>. Navigation targets <a href="#d-may">may</a> 
    be headings representing the hierarchical structure of the document or specific 
    points such as pages, notes, sidebars, etc.</dd>
<dt id="dt_11"><a name="d-implied">IMPLIED</a></dt>
  <dd id="dd_11">When
used in definitions of XML element attributes, means that the attribute
is optional and that no default value is supplied. See <a href="#d-fixed">FIXED</a> and <a href="#d-required">REQUIRED</a>.</dd>
<dt id="dt_12"><a name="d-inform">Informative</a></dt>
  <dd id="dd_12">Supplying background or explanation. Contrast with <em><a href="#d-norm">Normative</a></em>.</dd>
<dt id="dt_13"><a name="d-locnav">Local navigation</a></dt>
  <dd id="dd_13">Movement within a document at a granularity finer than that provided by 
    the <a href="#d-ncx">NCX</a>. For example, navigation by paragraph or sentence, 
    or within a table or nested list. Precise local navigation can be controlled 
    by the <a href="#d-tcf">textual content file</a> or the <a href="#d-smil">SMIL</a> 
    file(s); the granularity is limited by the degree to which the textual content 
    file has been marked up or the level to which synchronization has been applied 
    in the <a href="#d-smil">SMIL</a> file(s). Time-based movement through a document 
    (similar to fast-forward and rewind on an analog cassette) may also be implemented.</dd>
<dt id="dt_14"><a name="d-manifest">Manifest</a></dt>
  <dd id="dd_14">A component of the Package File, the <em>Manifest</em> lists all files included 
    in the <a href="#d-dtb">DTB</a>.</dd>
<dt id="dt_15"><a name="d-may">May</a></dt>
  <dd id="dd_15">In normative sections, the word <em>may</em> means that a course of action is optional.</dd> 
<dt id="dt_16"><a name="d-medunit">Media Unit</a></dt>
  <dd id="dd_16">A single object on which a <a href="#d-dtb">DTB</a> is stored for distribution 
    to the <a href="#d-reader">reader</a>. For example, a single CD-ROM disk.</dd>
  <dt id="dt_17"><a name="d-must">Must</a></dt>
  <dd id="dd_17">In normative sections, the word <em>must</em> is to be interpreted as a mandatory 
    requirement on the content or implementation. The term <em><a href="#d-shall">shall</a></em> 
    has the same definition as <em>must</em>.</dd>  <dt id="dt_18"><a name="d-ncx">NCX</a></dt>
  <dd id="dd_18">The <em>Navigation Control file for <a href="#d-xml">XML</a> applications</em> 
    (<em>NCX</em>) provides the reader efficient and flexible access to the hierarchical 
    structure of a <a href="#d-dtb">DTB</a> as well as direct access to selected 
    elements such as page numbers, notes, figures, etc.</dd>
<dt id="dt_19"><a name="d-norm">Normative</a></dt>
  <dd id="dd_19">Setting
forth requirements that must be met to establish conformance with this
standard; or providing recommendations or optional courses of action.
For recommended or optional features, conformance is not dependent on
the fact of implementation, but, if implemented, that implementation is
as prescribed in this standard. Contrast with <em><a href="#d-inform">Informative</a></em>. 
    Notes within a normative section may be informative.</dd>
<dt id="dt_20"><a name="d-oebf">OEBF</a></dt>
  <dd id="dd_20">The Open eBook Forum&#8482; <a href="#OEBF">[OEBF]</a> is an organization formed 
    to create and maintain standards and promote the successful adoption of electronic 
    books. The <em>Open eBook Publication Structure Version 1.0.1</em> provides 
    a specification for representing the content of a book when it is converted 
    from print to electronic form. This <a href="#d-dtb">DTB</a> standard uses 
    a subset (the Package File) of that specification.</dd>
<dt id="dt_21"><a name="d-opf">OPF</a></dt>
  <dd id="dd_21">Open eBook Forum Package File. See <em><a href="#d-pacfile">Package File</a></em>.</dd>
<dt id="dt_22"><a name="d-pacfile">Package File</a></dt>
  <dd id="dd_22">The <em>Open eBook Forum Package File</em> (OPF) is an <a href="#d-xml">XML</a> 
    file conforming to the oebpkg101.dtd that contains administrative information 
    about the <a href="#d-dtb">DTB</a>, the files that comprise it, and how these 
    files interrelate.</dd>
<dt id="dt_23"><a name="d-playback">Playback</a></dt>
  <dd id="dd_23">With regard to implementations, <em>playback</em> refers to the methods 
    used to render the <a href="#d-dtb">DTB</a> content. <em>Playback</em> may 
    include audio, Braille, large print, and synthetic speech as appropriate for 
    the content and as supported by the playback system.</dd>
  <dt id="dt_24"><a name="d-playsys">Playback System</a></dt>
  <dd id="dd_24">The hardware/software platform that renders the contents of a <a href="#d-dtb">DTB</a> 
    to a <a href="#d-reader">reader</a>. Synonymous with <em>Player</em>.</dd>
<dt id="dt_25"><a name="d-player">Player</a></dt>
  <dd id="dd_25">See <em><a href="#d-playsys">Playback System</a></em>.</dd>
<dt id="dt_26"><a name="d-reader">Reader</a></dt>
<dd id="dd_26">The person reading the digital talking book.  Synonymous with <em>User</em>.</dd>
<dt id="dt_27"><a name="d-required">REQUIRED</a></dt>
  <dd id="dd_27">When used in definitions of XML element attributes, means that the attribute must always be provided. See <a href="#d-fixed">FIXED</a> and <a href="#d-implied">IMPLIED</a>.</dd>
<dt id="dt_28"><a name="d-shall">Shall</a></dt>
  <dd id="dd_28">See <em><a href="#d-must">Must</a></em></dd>
<dt id="dt_29"><a name="d-should">Should</a></dt>
  <dd id="dd_29">In normative sections, the word <em>should</em> means that a course of action is recommended but not required.</dd>
  <dt id="dt_30"><a name="d-smil">SMIL</a></dt>
  <dd id="dd_30">The Synchronized Multimedia Integration Language <a href="#ref-SMIL">
[SMIL]</a>
is a W3C recommendation (SMIL 2.0) used in this standard to control the
synchronized presentation of content in multiple media.</dd>
<dt id="dt_31"><a name="d-spine">Spine</a></dt>
  <dd id="dd_31">A component of the Package File, the <em>Spine</em> lists in default reading 
    order the <a href="#d-smil">SMIL</a> files included in the <a href="#d-dtb">DTB</a>.</dd>
<dt id="dt_32"><a name="d-targetpop">Target population</a></dt>
  <dd id="dd_32">The <em>target population</em> consists of blind, visually impaired, physically handicapped, learning-disabled, and otherwise print-disabled readers.</dd>
  <dt id="dt_33"><a name="d-tcf">Textual Content File</a></dt>
  <dd id="dd_33">The content of the subject document in a character set specified by ISO/IEC 
    10646 <a href="#ISO10646">[ISO 10646]</a> to which <a href="#d-xml">XML</a> 
    markup valid to the <a href="#d-dtbook">DTBook</a> <a href="#d-dtd">DTD</a> 
    has been applied.</dd>
<dt id="dt_34"><a name="d-tsm">TSM</a></dt>
  <dd id="dd_34">Time-scale modification varies playback rate (both slower and faster than real time) while maintaining constant pitch.</dd>
<dt id="dt_35"><a name="d-uri">URI</a></dt>
  <dd id="dd_35">A <em>Uniform Resource Identifier</em> is a compact string of characters
for identifying resources:  documents, images, audio files, etc.  Within
a DTB, URIs are most likely to appear as attribute values for various
XML elements, used as a way of identifying other documents or files
either in whole or part.  For the purposes of this specification, URIs
must adhere to the syntax defined in RFC 2396 <a href="#RFC2396">[RFC 2396]</a>.  A <em><a href="#d-uri">URI</a></em> may include a <a href="#d-fragid">fragment 
    identifier</a> suffix beginning with "#" that matches some named 
    anchor in the target document. See <em><a href="#d-fragid">Fragment Identifier</a></em>.</dd>
<dt id="dt_36"><a name="d-user">User</a></dt>
  <dd id="dd_36">See <em><a href="#d-reader">Reader</a></em>.</dd>
<dt id="dt_37"><a name="d-xml">XML</a></dt>
  <dd id="dd_37">The Extensible Markup Language <a href="#XML">[XML]</a> is a standardized language for marking up files containing structured information.</dd>
  <dt id="dt_38"><a name="d-xsl">XSL</a></dt>

  <dd id="dd_38">The Extensible Stylesheet Language is a series of recommendations by the Worldwide 
    Web Consortium that describes how <a href="#d-xml">XML</a> documents can 
    be transformed and rearranged [<a href="#d-xslt">XSLT</a>], then formatted 
    <a href="#XSL">[XSL]</a> for screen, handheld device, paper, or audio presentation.</dd>
<dt id="dt_39"><a name="d-xslt">XSLT</a></dt> 
  <dd id="dd_39">A language for transforming <a href="#d-xml">XML</a> documents into other XML documents. <a href="#XSLT">[XSLT]</a> 
    is designed for use as part of XSL. See <em><a href="#d-xsl">XSL</a></em>.</dd>
</dl>

<p id="para_15n"><a href="#toc">Contents</a></p>

<h2 id="h2_8"><a name="Strategy">1.3 Strategy</a></h2>
<h3 id="h3_4">(This section is informative.)</h3>

<p id="para_16">This standard is based primarily on a variety of widely
used standards and specifications, including several from the World
Wide Web Consortium and the Open eBook Forum&#8482;. Wherever applicable and
appropriate standards or specifications existed
they were used. The use of these specifications and technologies is
intended to promote a fast and consistent adoption of this standard for
the target population, while encouraging its extension into mainstream
use.</p>

<p id="para_16n"><a href="#toc">Contents</a></p>

<h2 id="h2_9">1.4 <a name="Access">Accessibility Issues</a></h2>
<h3 id="h3_5">(This section is informative.)</h3>
<p id="para_17">Digital Talking Book files, streams, transformation processes, and <a href="#d-player">player</a>s 
  have been designed to present their content to people with a wide range of abilities 
  and disabilities. They are designed to allow presentation in forms other than 
  conventional print, due to the inaccessibility of printed documents to these 
  <a href="#d-user">users</a>.
It is in the best interest of users that, to the greatest extent
possible, files, streams, transformation processes, and players make
information available in as many presentation modes as practical,
including human-narrated audio, Braille, synthesized speech, large
print with <a href="#d-user">user</a>-specifiable size and text
re-wrapping for players with visual display, and text and audio
synchronization and other enhancements for persons with learning
disabilities. Users will also be greatly benefited if controls on
players are readily usable by people with a wide range of manual
dexterity.</p>
<p id="para_18">During the development of this standard, an advisory document, <a href="#Playfeat">DTB 
  Playback Device Features List,</a> was created. Although it is not a <a href="#d-norm">normative</a> 
  part of this standard, player developers will find useful 
  accessibility concepts embodied in it.</p>
<p id="para_19">In addition to the provisions of this standard, valuable supplemental information 
  is available from the guidelines and techniques produced 
  by the Worldwide Web Consortium's Web Accessibility Initiative. At this time, 
  these documents include:</p>
<ul id="ul_23">
<li id="li_135"><a href="#WCAG">Web Content Accessibility Guidelines</a>,</li>
<li id="li_136"><a href="#ATAG">Authoring Tool Accessibility Guidelines</a>, and</li>
<li id="li_137"><a href="#UAAG">User Agent Accessibility Guidelines</a>.</li>
</ul>
<h3 id="h3_6">(This section is normative.)</h3>
<p id="para_20"> Not all modes of presentation will be available in all 
  players and documents, but it is strongly recommended that multiple equivalent 
  presentations be made available to users whenever possible. Historically, products 
  marketed to specific user groups with disabilities have sometimes proven unusable. 
  Not all players need to be <a href="#d-access">accessible</a> to all target 
  groups, but any device compliant with this standard <a href="#d-must">must</a> 
  be accessible to the target group for which it is advertised. It is also strongly 
  recommended that DTB production tools and processes be made accessible to persons 
  with disabilities.</p>

<p id="para_20n"><a href="#toc">Contents</a></p>

<h2 id="h2_10"><a name="Rel">1.5 Relationship to Other Specifications</a></h2>
<h3 id="h3_7">(This section is normative.)</h3>
<p id="para_21">This standard is based on the specific versions of the
standards and specifications referenced herein, which are used as
defined except as noted by this document. Any refinement or replacement
of a referenced specification by a newer or different version is not
directly applicable to this standard. Conformance to this standard is
based on the versions of the standards and specifications in effect at
the time of this writing.
</p>
<h3 id="h3_8"><a name="Uni">1.5.1 Relationship to Unicode</a></h3>
<h3 id="h3_9">(This section is normative.)</h3>
<p id="para_22">Playback systems must support at least UTF-8 and UTF-16 encodings. See section 2.2 of the XML specification <a href="#XML">[XML]</a>.  
</p>

<p id="para_22n"><a href="#toc">Contents</a></p>

<h2 id="h2_11">1.6 <a name="Patents">Patent Rights</a></h2>
<h3 id="h3_10">(This section is informative.)</h3>
    
<p id="para_23">Implementation of this standard may involve the use of
one or more inventions covered by patent rights. It is believed that
all companies claiming such rights have agreed to grant a license under
such rights as they hold on reasonable and nondiscriminatory terms and
conditions to any applicant. </p>
    <p id="para_24">Producers of DTB systems or any component
thereof are responsible for obtaining the appropriate licenses for any
and all technology they use that is defined by the relevant standards
and specifications referenced by this standard. There may be applicable
patents of which this standards committee is unaware; it is the
responsibility of the implementer to ensure that the implementation is
non-infringing. </p>
    <p id="para_25">Issues surrounding the protection of
intellectual property embodied in the works distributed as digital
talking books are discussed in <a href="#DRM">section 14, "Digital Rights Management"</a>.
</p>
<p id="para_25n"><a href="#toc">Contents</a></p>

<h2 id="h2_12">1.7 <a name="Maint">Maintenance Agency</a></h2>
<h3 id="h3_11">(This section is informative.)</h3>
<p id="para_26">The maintenance agency designated in Appendix 7 will be
responsible for reviewing and acting upon suggestions for modifications
to this standard. Questions concerning the implementation of this
standard and requests for information should be sent to the maintenance
agency.</p>

<p id="para_27">A list of errata relating to this standard will be maintained at http://www.loc.gov/nls/z3986/v100/errata.html.</p>

<p id="para_27n"><a href="#toc">Contents</a></p>

<h1 id="h1_5"><a name="Over">2. Overview</a></h1>
<h3 id="h3_12">(This section is informative.)</h3>
<p id="para_28">A digital talking book (DTB) is a collection of electronic files arranged to 
  present information to the target population via alternative media, namely, 
  human or synthetic speech, refreshable Braille, or visual display, e.g., large 
  print. When these files are created and assembled into a DTB in accordance with 
  this standard, they make possible a wide range of features such as rapid, flexible 
  navigation; bookmarking and highlighting; keyword searching; spelling of words 
  on demand; and user control over the presentation of selected items (e.g., footnotes, 
  page numbers, etc.). Such features enable readers with visual and physical disabilities 
  to access the information in DTBs flexibly and efficiently, and allow sighted 
  users with learning or reading disabilities to receive the information through 
  multiple senses. For a full discussion of these capabilities, see the "<a href="#Navfeat">Document 
  Navigation Features List" [Navigation Features]</a>, the user 
  requirements document on which this standard was based. A document written during 
  the development of this standard, <a href="#Theory">Theory Behind the DTBook 
  DTD [DTBook Theory]</a>, also describes the navigational capabilities of a DTB 
  in some detail. The content of DTBs will range from audio alone, through a combination 
  of audio, text, and images, to text alone. <a href="#Type">Section 13</a> describes these various 
  types of DTBs.</p>  

<p id="para_29">DTB players will also be produced with a variety of capabilities. The simplest 
  might be portable devices with audio-only capabilities. More complex portable 
  players could include text-to-speech capabilities as well as audio output for 
  recorded human speech. The most comprehensive playback systems are expected 
  to be PC-based, supporting visual and audio output, text-to-speech capability, 
  and output to a Braille display. The <a href="#Playfeat">Playback Device Features 
  List [Player Features]</a> mentioned above presents the committee's priorities 
  for a range of functions across three types of playback devices.</p>

<p id="para_30">The files comprising a DTB fall into ten categories, as described below:</p>
<dl id="dl_2">
  <dt id="dt_40"><a href="#d-pacfile">Package File</a></dt>  
  <dd id="dd_40">The Package File, drawn from the Open eBook Publication Structure 1.0.1, 
    contains administrative information about the DTB and the files that comprise 
    it. A valid <a href="#d-xml">XML</a> version 1.0 file, it contains a set of 
    metadata describing the DTB, a list (the <em><a href="#d-manifest">manifest</a></em>) 
    of the files that make up the DTB, and a <em><a href="#d-spine">spine</a></em> 
    that defines the default reading order of the document. See section 3, "<a href="#OPF">Package 
    File</a>."</dd>
  <dt id="dt_41"><a href="#d-tcf">Textual Content File</a></dt>  
  <dd id="dd_41">A DTB can contain part or all of the text of the document as an XML 1.0 
    file marked up in accordance with the document type definition (<a href="#d-dtd">DTD</a>) 
    defined for this standard, <a href="#d-dtbook">dtbook</a>.dtd. (See Appendix 
    1, "<a href="#DTBookDTD">DTBook DTD</a>.") The textual content file 
    enables properly-configured playback devices to spell words on demand, carry 
    out keyword searches, and permit finely-grained navigation. It can also be 
    accessed directly via refreshable Braille display, synthetic speech, or screen-enlarging 
    software. See section 4, "<a href="#Text">Content Format for Text</a>."</dd>

<dt id="dt_42">Audio Files</dt>
<dd id="dd_42">A DTB can include human or synthetic speech recordings
of the document embodied in audio files encoded in one of a specified
group of audio formats. Section 5, "<a href="#Audio">Audio File Formats</a>," presents the formats specified by this standard.</dd>

<dt id="dt_43">Image Files</dt>
<dd id="dd_43">In addition to text and audio, DTBs can include images that can be presented on players with visual displays.  Section 6, "<a href="#Image">Image File Formats</a>," lists the formats specified by this standard.</dd>

<dt id="dt_44">Synchronization Files</dt>
  <dd id="dd_44">To synchronize the different media files of a DTB during playback, this 
    standard specifies the use of the World Wide Web Consortium's (W3C) Synchronized 
    Multimedia Integration Language (<a href="#d-smil">SMIL</a>), <a href="#ref-SMIL">SMIL 
    2.0</a> version, an XML 1.0 application. The DTB SMIL files define a sequence 
    of media events. During each event, text elements and corresponding audio 
    clips as well as any additional visual elements are presented simultaneously. 
    DTB players use the synchronization information to both access points in the 
    audio presentation and to track, during audio playback, the corresponding 
    position in the textual content file. This standard uses a subset of the 
    full <a href="#ref-SMIL">SMIL 2.0</a> specification. See section 7, "<a href="#SMIL">Synchronization 
    of Media Files</a>," for discussion of these issues and Appendix 2, "<a href="#DTBSMILDTD">DTB-Specific 
    SMIL DTD</a>," for the DTD that defines the DTB SMIL application.</dd>

<dt id="dt_45">Navigation Control File</dt>
  <dd id="dd_45">The DTB system supports two modes of navigation, global and local. <a href="#d-globalnav">Global 
    navigation</a> -- movement by structure (chapter, section, subsection) and 
    by other selected points such as pages, figures, or notes -- is effected through 
    the Navigation Control file for XML applications (<a href="#d-ncx">NCX</a>). 
    The NCX presents a dynamic view of the document's hierarchical structure, 
    allowing the user to move through the document in large steps corresponding 
    to its major divisions or in progressively smaller steps down to a limit 
    set by the document's detail. Text, audio, and image elements present to the 
    user the document's headings, and id-based links point to the SMIL presentation 
    at the corresponding locations. Appendix 3 contains the XML 1.0 DTD for the 
    NCX. Local, more finely-grained, navigation is not handled by the NCX but 
    is enabled through the textual content file or SMIL file(s) or through time-based 
    movement through the audio presentation, depending on the document and on 
    the player. See section 8, "<a href="#NCX">Navigation Control File (NCX)</a>," 
    and Appendix 3, "<a href="#NCXDTD">NCX DTD</a>" for specifications related 
    to the NCX.</dd>

<dt id="dt_46">Bookmark/Highlight File</dt>
<dd id="dd_46">This standard supports user-set, exportable bookmarks
and highlights to which text and audio notes can be applied.
Specifications for the XML 1.0 file for portable bookmarks and
highlights are presented in section 9, "<a href="#Bkmk">Portable Bookmarks and Highlights</a>" and Appendix 4, "<a href="#BKMKDTD">DTD for Portable Bookmarks/Highlights</a>."</dd>

<dt id="dt_47">Resource File</dt>
<dd id="dd_47">The resource file contains or references various text
segments, audio clips, and/or images that provide alternative
representations of navigational information -- for example, feedback on
the user's current location in the document. It supplies information
normally presented in a print book via typographical clues. See section
10, "<a href="#Resource">Resource File</a>," and Appendix 5, "<a href="#RESDTD">DTD for Resource File</a>" for file specifications.</dd>

<dt id="dt_48">Distribution Information File</dt>
  <dd id="dd_48">Given the great size of audio files even when heavily compressed, it will 
    be common for large books to span several <a href="#d-medunit">media unit</a>s. 
    Section 11, "<a href="#Dist">Packaging Files for Distribution</a>," describes 
    how the "distInfo" file maps the location of each SMIL file to a specific 
    media unit, e.g., disk 1 of 3. It also explains how, when several books are 
    distributed on the same media unit, the distInfo file stores information about 
    each book for presentation to the reader . Appendix 6, "<a href="#Distinfo">Distribution 
    Information DTD</a>," presents the document type definition for "distInfo" 
    files.</dd>

<dt id="dt_49">Presentation Styles</dt>
<dd id="dd_49">Section 12, "<a href="#Style">Presentation Styles</a>," discusses how the presentation of a DTB in various media can be controlled through the use of optional style sheets.</dd>
</dl>
<p id="para_30n"><a href="#toc">Contents</a></p>

<h1 id="h1_6">3. <a name="OPF">The DTB Package File</a></h1>
<h3 id="h3_13">(This section is informative.)</h3>

<p id="para_31">The Package File, drawn from the Open eBook Forum&#8482; (<a href="#d-oebf">OEBF</a>) Publication Structure 
  1.0.1, contains administrative information about the DTB, the files that comprise 
  it, and how these files interrelate. This section, drawn largely from the Publication 
  Structure, provides only a brief summary of the function of each section with 
  an example illustrating how it is applied to the DTB. See section 2 of 
  the full <a href="#OEBF">OEBF</a> Publication Structure 1.0.1 for complete details 
  on the Package File.</p> 

<p id="para_32">The Publication Structure describes the major parts of the Package File as follows:</p>
<blockquote>
<ul id="ul_25">
<li id="li_140"><b>PACKAGE IDENTITY</b> - a unique identifier for the OEB publication as a whole.</li>
<li id="li_141"><b>METADATA</b> - Publication metadata (title, author, publisher, etc.).</li>
<li id="li_142"><b>MANIFEST</b> - A list of files (documents, images,
style sheets, etc.) that make up the publication. The manifest also
includes fallback declarations for files of types not supported by this
specification.</li>
<li id="li_143"><b>SPINE</b> - An arrangement of documents providing a linear reading order.</li>
<li id="li_144"><b>TOURS</b> - A set of alternate reading sequences
through the publication, such as selective views for various reading
purposes, reader expertise levels, etc.</li>
<li id="li_145"><b>GUIDE</b> - A set of references to fundamental
structural features of the publication, such as table of contents,
foreword, bibliography, etc.</li>
</ul>
</blockquote>


<p id="para_33">Here is an informal outline of the package file:</p>

<pre><samp id="smp_1">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE package PUBLIC "+//ISBN 0-9673008-1-9//DTD OEB 1.0.1 Package//EN"
"http://openebook.org/dtds/oeb-1.0.1/oebpkg101.dtd"&gt;
          
&lt;package&gt;
         &lt;metadata&gt;...&lt;/metadata&gt;
         &lt;manifest&gt;...&lt;/manifest&gt;
         &lt;spine&gt;...&lt;/spine&gt;
         &lt;tours&gt;...&lt;/tours&gt;
         &lt;guide&gt;...&lt;/guide&gt;
&lt;/package&gt;
</samp></pre>   

<h3 id="h3_14">(This section is normative.)</h3>

<p id="para_34">A DTB conforming to this standard must include exactly one Package File which 
  must be a valid XML 1.0 document conforming to the <a href="#OEBF">OEBF</a> Publication Structure 1.0.1 package DTD (oebpkg101.dtd) and its associated entity reference (oeb1.ent). 
  The full specification, DTD, and entity reference for the <a href="#OEBF">OEBF</a> 
  package file are available for download from the OEBF site <a href="#OEBF">[OEBF]</a>. The Package File must be named with the extension 
  ".<a href="#d-opf">opf</a>".  If a DTB spans multiple media units, the identical Package File must be  present on each media unit.</p>

<p id="para_35">A Package File conforming to this standard must comply with all aspects of 
  section 2 of the <a href="#OEBF">OEBF</a> Publication Structure 1.0.1, with 
  the following two exceptions:</p> 
<ul id="ul_24">
  <li id="li_138">1. Section 2.3.1 does not apply. Specifically, there is no requirement on 
    DTB authors or playback devices to implement the fallback mechanism for files 
    that are not of the <a href="#OEBF">OEBF</a> core MIME media types.</li>
<li id="li_139">2. Section 2.4 of the Publication Structure states that the <code>spine</code> element may refer only to <code>item</code> elements of media type <em>text/x-oeb1-document</em>.  In DTB applications, the <code>spine</code> must only reference <code>item</code>s of media type <em>application/smil</em>.</li></ul>

<h2 id="h2_13">3.1 <a name="PkgId">Package Identity</a></h2>
<h3 id="h3_15">(This section is normative.)</h3>

<p id="para_37">The <code>package</code> must include a value for its <code>unique-identifier</code> 
  attribute. This is required because more than one <code>dc:Identifier</code> may 
  be present in a DTB's Package File metadata and the <code>unique-identifier</code> 
  specifies which <code>dc:Identifier</code> element provides the package's primary 
  identifier. The value of <code>unique-identifier</code> must match the id attribute 
  of one and only one <code>dc:Identifier</code> element, which is a descendant of 
  the <code>package</code> element.</p>

<p id="para_38">The primary identifier of the DTB must be globally unique.</p>

<h3 id="h3_16">(This example is informative.)</h3>
<p id="para_39">Example 3.1:</p>
<pre><samp id="smp_2">
     
&lt;package unique-identifier="uid"&gt;
    &lt;metadata&gt;
        &lt;dc-metadata...&gt;
            &lt;dc:Identifier id="uid" scheme="DTB"&gt;uk-rnib-db02006
            &lt;/dc:Identifier&gt;
...
&lt;/package&gt;
</samp></pre>
     
<h2 id="h2_14">3.2 <a name="PubMed">Publication Metadata</a></h2>
<h3 id="h3_17">(This section is normative.)</h3>

<p id="para_40">This portion of the Package File contains the
information about a DTB that would normally be found in a library
catalog record. It includes data about the DTB itself (e.g., title,
author, producer, format, and narrator) as well as information about
the source publication (usually a print book) such as publisher,
edition, copyright statement, etc. </p>

<p id="para_41">The Package File must contain exactly one <code>metadata</code> element, which must contain 
  one and only one <code>dc-metadata</code> element holding Dublin Core <a href="#DC">[DC]</a> 
  metadata and must contain supplemental metadata in an <code>x-metadata</code> element. 
  The <code>x-metadata</code> element must contain at least one instance of the <code>meta</code> 
  element, which uses <code>name</code> and <code>content</code> attributes to define 
  its value. (See section 3.2.3, "<a href="#XMeta">X-Metadata</a>.")</p>

<h3 id="h3_18">3.2.1 <a name="DCM">Dublin Core Metadata</a></h3>
<h3 id="h3_19">(This section is normative.)</h3>


<p id="para_42">The use of Dublin Core metadata within a compliant DTB must conform to the 
  following description from the <a href="#OEBF">OEBF</a> Publication Structure 
  1.0.1:</p>
<blockquote>
  <p id="para_43">The dc-metadata element contains specific publication-level metadata as defined 
    by the Dublin Core initiative (<a href="http://purl.org/dc/">http://purl.org/dc/</a>). 
    The descriptions below are included for convenience, and the Dublin Core's 
    own definitions take precedence (see <a href="http://www.ietf.org/rfc/rfc2413.txt">http://www.ietf.org/rfc/rfc2413.txt</a>).</p>  
  <p id="para_44">The dc-metadata element can contain any number of instances of any Dublin 
    Core elements. Dublin Core element names begin with the "dc:" prefix followed 
    by a leading uppercase letter. Dublin Core metadata elements may occur in 
    any order; in fact, multiple instances of the same element type (multiple 
    dc:Creator elements, for example) can be interspersed with other metadata 
    elements without change of meaning.</p>
  <p id="para_45">For
upwards-compatibility, the element metadata in an OEB package is
required to have an attribute of
xmlns:dc="http://purl.org/dc/elements/1.0/" and
xmlns:oebpackage="http://openebook.org/namespaces/oeb-package/1.0/".</p>

</blockquote>

<p id="para_46">Following are brief definitions of the Dublin Core elements. See 
  the Publication Structure and the <a href="#DC">Dublin Core</a> itself for more complete descriptions. 
  The attributes "xml:lang" and "id" can be applied to all "dc:..." elements. 
  Additional attributes can be used with several elements as detailed below. Note 
  that all Dublin Core element types may be repeated (occur more than once) within 
  <code>dc-metadata</code>.</p>

<ul id="ul_26">
  <li id="li_146">dc:Title 
    <ul id="ul_27"><li id="li_147">Content: The title of the DTB.</li>
<li id="li_148">Occurrence: Required</li></ul></li> 
  <li id="li_149">dc:Creator 
    <ul id="ul_28"><li id="li_150">Content: Names of primary author or creator of the intellectual content of the publication.</li>
<li id="li_151">Occurrence: Optional (not all documents have known creators) - recommended.</li>
<li id="li_152">Added attributes: 
   <ul id="ul_29"><li id="li_153">role
-- (optional) The function performed by the creator (e.g., author,
editor). See Publication Structure for details on normative list of
values.</li>
   <li id="li_154">file-as -- (optional) A normalized form of the contents suitable for machine processing.</li>
   </ul></li>
</ul></li>  
  <li id="li_155">dc:Subject 
    <ul id="ul_30"><li id="li_156">Content: The topic of the content of the publication.</li>
<li id="li_157">Occurrence: Optional - recommended.</li></ul></li> 
  <li id="li_158">dc:Description 
    <ul id="ul_31"><li id="li_159">Content: Plain text describing the publication's content.</li>
<li id="li_160">Occurrence: Optional</li></ul></li> 
  <li id="li_161">dc:Publisher 
    <ul id="ul_32"><li id="li_162">Content: The agency responsible for making the DTB available.  (Compare dtb:sourcePublisher and dtb:producer.)</li>
<li id="li_163">Occurrence: Required</li></ul></li> 
  <li id="li_164">dc:Contributor 
    <ul id="ul_33">
      <li id="li_165">Content: A party whose contribution to the publication is secondary 
        to those named in dc:Creator.</li>
<li id="li_166">Occurrence: Optional</li> 
<li id="li_167">Added attributes: 
   <ul id="ul_34"><li id="li_168">role
-- (optional) The function performed by the contributor (e.g.,
translator, compiler). See Publication Structure for details on
normative list of values.</li>
   <li id="li_169">file-as -- (optional) A normalized form of the contents suitable for machine processing.</li>
   </ul></li>
 </ul></li>
  <li id="li_170">dc:Date 
    <ul id="ul_35"><li id="li_171">Content: Date of publication of the DTB.  (Compare dtb:sourceDate and dtb:producedDate.)  In format from <a href="#ISO8601">[ISO8601]</a>;
the syntax is YYYY[-MM[-DD]] with a mandatory 4-digit year, an optional
2-digit month, and, if the month is present, an optional 2-digit day of
month.</li>
<li id="li_172">Occurrence: Required</li> 
<li id="li_173">Added attributes: 
   <ul id="ul_36">
          <li id="li_174">event -- (optional) Significant occurrence related to publication 
            of the DTB. Allows repetition of dc:Date to describe, for example, 
            multiple revisions. Best practice is to use dtb:revision and dtb:revisionDate 
            instead.</li>
   </ul></li>
   </ul></li>
  <li id="li_175">dc:Type 
    <ul id="ul_37"><li id="li_176">Content:
The nature of the content of the DTB (i.e., sound, text, image). Best
practice is to draw from the Dublin Core's enumerated list <a href="#DC-Type">[DC-Type]</a>.</li>
<li id="li_177">Occurrence: Optional</li></ul></li>  
  <li id="li_178">dc:Format 
    <ul id="ul_38">
      <li id="li_179">Content: The standard or specification to which the DTB was produced. 
        Values of dc:Format in a DTB conforming to this standard are valid only 
        if they read "ANSI/NISO Z39.86-2002".</li>
<li id="li_180">Occurrence: Required</li></ul></li>   
  <li id="li_181">dc:Identifier 
    <ul id="ul_39"><li id="li_182">Content: A string or number identifying the DTB.  One instance of this element, that which is referenced from the <code>package</code> <code>unique-identifier</code> attribute, must include an id.</li>
<li id="li_183">Occurrence: Required</li>  
<li id="li_184">Added attributes: 
   <ul id="ul_40"><li id="li_185">scheme
-- (optional) The name of the system or authority that generated or
assigned the identifier. For example, "DOI", "ISBN", or "DTB".</li>
   </ul></li></ul></li>
  <li id="li_186">dc:Source 
    <ul id="ul_41"><li id="li_187">Content:
A reference to a resource (e.g., a print original, ebook, etc.) from
which the DTB is derived. Best practice is to use the ISBN when
available.</li>
<li id="li_188">Occurrence: Optional - recommended.</li></ul></li>
  <li id="li_189">dc:Language 
    <ul id="ul_42"><li id="li_190">Content: Language of the content of the publication.  An <a href="#RFC1766">[RFC 1766]</a> language code. For Sweden: "sv" or "sv-SE"; for UK: "en" or "en-GB"; for US: "en" or "en-US"; etc.</li>
<li id="li_191">Occurrence: Required</li>
</ul></li>  
  <li id="li_192">dc:Relation 
    <ul id="ul_43"><li id="li_193">Content: A reference to a related resource.</li>
<li id="li_194">Occurrence: Optional</li></ul></li>   
  <li id="li_195">dc:Coverage 
    <ul id="ul_44"><li id="li_196">Content: The extent or scope of the content of the resource.  Not expected to be used for DTBs.</li>
<li id="li_197">Occurrence: Optional</li></ul></li>   
  <li id="li_198">dc:Rights 
    <ul id="ul_45"><li id="li_199">Content: Information about rights held in and over the DTB.  (Compare dtb:sourceRights.)</li>
<li id="li_200">Occurrence: Optional</li></ul></li> 
</ul>

<h3 id="h3_20">3.2.2 <a name="DTBID">DTB ID Scheme</a></h3>
<h3 id="h3_21">(This section is informative.)</h3>

<p id="para_47">Various schemes are available for identifying digital
publications. In the DTB domain, the requirements for an identifier are
simply to identify the publication in a manner that is highly likely to
be globally unique. A major purpose of the uniqueness requirement is to
prevent filename collisions among bookmark files.</p>  

<p id="para_48">To meet this base requirement, a simple DTB id scheme
might be used. A DTB identifier under this scheme consists of a
hyphen-separated string consisting of a two-letter country code drawn
from <a href="#ISO3166">[ISO 3166]</a>, an agency code unique within its country, and an identifier unique within the agency.  For example, us-afb-x12345.</p>

<p id="para_49">This scheme will provide a simple solution to the
uniqueness requirement that will serve DTB-publishers' needs in the
short term. In the longer term, as the requirements of a global library
of alternative format materials become more important, other more
sophisticated mechanisms will doubtless be employed.</p>

<h3 id="h3_22">3.2.3 <a name="XMeta">X-Metadata</a></h3>
<h3 id="h3_23">(This section is normative.)</h3>

<p id="para_50">The following names were developed for the DTB
application to supply information that the Dublin Core element set does
not cover. These names may only appear within the <code>x-metadata</code> containing element, as values of the <code>name</code> attribute on the <code>meta</code>
element. Each x-metadata name below is shown as either "Repeatable" (it
may be used more than once) or "Not repeatable". Content producers may
introduce other metadata within <code>x-metadata</code> besides those
listed below, if needed. However, metadata names shall not begin with
the prefix "dtb:" unless defined in this standard. Players must not
fail when encountering unknown metadata but must, at a minimum, ignore
it.</p>

<ul id="ul_46">

<li id="li_201">dtb:sourceDate
<ul id="ul_47"><li id="li_202">Content: Date of publication of the
resource (e.g., a print original, ebook, etc.) from which the DTB is
derived. In format from <a href="#ISO8601">[ISO8601]</a>; the syntax
is YYYY[-MM[-DD]] with a mandatory 4-digit year, an optional 2-digit
month, and, if the month is present, an optional 2-digit day of month.</li>
<li id="li_203">Occurrence: Optional - recommended.  Not repeatable.</li>
</ul></li> 

<li id="li_204">dtb:sourceEdition 
<ul id="ul_48"><li id="li_205">Content: A string describing the edition of the resource (e.g., a print original, ebook, etc.) from which the DTB is derived.</li>
<li id="li_206">Occurrence: Optional - recommended.  Not repeatable.</li></ul></li> 


<li id="li_207">dtb:sourcePublisher
<ul id="ul_49">
      <li id="li_208">Content: The agency responsible for making available the resource (e.g., 
        a print original, ebook, etc.) from which the DTB is derived. (Compare 
        dc:Publisher.)</li>
<li id="li_209">Occurrence: Optional - recommended.  Not repeatable.</li></ul></li> 


<li id="li_210">dtb:sourceRights 
<ul id="ul_50">
      <li id="li_211">Content: Information about rights held in and over the resource (e.g., 
        a print original, ebook, etc.) from which the DTB is derived. (Compare 
        dc:Rights.)</li>
<li id="li_212">Occurrence: Optional - recommended.  Not repeatable.</li></ul></li> 

<li id="li_213">dtb:sourceTitle
<ul id="ul_51">
      <li id="li_214">Content: The title of the resource (e.g., a print original, ebook, etc.) 
        from which the DTB is derived. To be used only if different from dc:Title.</li>
<li id="li_215">Occurrence: Optional.  Not repeatable.</li></ul></li> 

<li id="li_216">dtb:multimediaType
<ul id="ul_52"><li id="li_217">Content: One of the six types of DTB described in <a href="#Type">section 13</a>.  Values are: audioOnly, audioNCX, audioPartText, audioFullText, textPartAudio, textNCX.</li>
<li id="li_218">Occurrence: Required.  Not repeatable.</li></ul></li> 

<li id="li_219">dtb:narrator 
<ul id="ul_53"><li id="li_220">Content: Name of the person whose recorded voice is embodied in the DTB.</li>
<li id="li_221">Occurrence: Optional - recommended.  Repeatable.</li></ul></li> 

<li id="li_222">dtb:producer 
<ul id="ul_54">
      <li id="li_223">Content: Name of the organization/production unit that created the DTB. 
        (Compare dc:Publisher.)</li>
<li id="li_224">Occurrence: Optional.  Repeatable.</li></ul></li> 

<li id="li_225">dtb:producedDate 
<ul id="ul_55">
      <li id="li_226">Content: Date of first generation of the complete DTB, i.e. Production completion date.  (Compare dc:Date.)  In format from <a href="#ISO8601">[ISO8601]</a>;
the syntax is YYYY[-MM[-DD]] with a mandatory 4-digit year, an optional
2-digit month, and, if the month is present, an optional 2-digit day of
month.</li>
<li id="li_227">Occurrence: Optional.  Not repeatable.</li></ul></li> 

<li id="li_228">dtb:revision 
<ul id="ul_56"><li id="li_229">Content: Non-negative integer value of the specific version of the DTB.  Incremented each time the DTB is revised.</li>
<li id="li_230">Occurrence: Optional.  Not repeatable.</li></ul></li> 

<li id="li_231">dtb:revisionDate
<ul id="ul_57"><li id="li_232">Content: Date associated with the specific dtb:revision.  In format from <a href="#ISO8601">[ISO8601]</a>;
the syntax is YYYY[-MM[-DD]] with a mandatory 4-digit year, an optional
2-digit month, and, if the month is present, an optional 2-digit day of
month.</li>
<li id="li_233">Occurrence: Optional.  Not repeatable.</li></ul></li> 

<li id="li_231a">dtb:revisionDescription
<ul id="ul_57a"><li id="li_232a">Content: A string describing the changes introduced in a  specific dtb:revision.</li>
<li id="li_233a">Occurrence: Optional.  Not repeatable.</li></ul></li> 

<li id="li_234">dtb:totalTime
<ul id="ul_58"><li id="li_235">Content: Total playing time of all SMIL
files comprising the content of the DTB. Clock Values from SMIL 2.0
Timing and Synchronization Module <a href="#ref-SMIL">[SMIL].</a>  See section 
        7.7, "<a href="#Clock">Clock Values</a>."</li>
<li id="li_236">Occurrence: Required.  Not repeatable.</li>
</ul></li> 

<li id="li_237">dtb:audioFormat
<ul id="ul_59"><li id="li_238">Content: A string describing the format
in which the audio files in the DTB file set are written. If more than
one audio format is used, this element may be repeated. </li>
<li id="li_239">Occurrence: Optional, recommended for audio DTBs.  Repeatable.</li>
<li id="li_240">Formats specified in <a href="#Audio">section 5</a> are shown below, followed by the normative value for dtb:audioFormat:<br>
        <a href="#MPEG">MPEG</a>-4 AAC: MP4-AAC<br>
        <a href="#MPEG">MPEG</a>-1/2 Layer III: MP3<br>
Linear PCM,RIFF WAVE format:   WAV<br>
(Values are not case-sensitive.)</li></ul></li>
</ul>

<h3 id="h3_24">(This example is informative.)</h3>
<p id="para_51">Example 3.2:</p>
<pre><samp id="smp_3">
...
&lt;metadata&gt; 
     &lt;dc-metadata xmlns:dc="http://purl.org/dc/elements/1.0/"
     xmlns:oebpackage="http://openebook.org/namespaces/oeb-package/1.0/"&gt;
          &lt;dc:Title&gt;Revised Standards and Guidelines of
          Service for the Library of Congress Network of Libraries for the 
          Blind and Physically Handicapped 1995&lt;/dc:Title&gt;
          &lt;dc:Subject&gt;library information networks&lt;/dc:Subject&gt; 
          &lt;dc:Subject&gt;libraries and the physically
          handicapped--standards--U.S.&lt;/dc:Subject&gt;
          &lt;dc:Subject&gt;libraries and the 
          blind--standards--U.S.&lt;/dc:Subject&gt; 
          &lt;dc:Identifier id="uid" 
          scheme="DTB"&gt;us-nls-db00001&lt;/dc:Identifier&gt;
          &lt;dc:Identifier  
          scheme="DOI"&gt;10.1000/DX44998&lt;/dc:Identifier&gt;
          &lt;dc:Creator role="aut"&gt;American Library Association. 
          Association of Specialized and Cooperative Library 
          Agencies&lt;/dc:Creator&gt;
          &lt;dc:Publisher&gt;National Library Service for the Blind 
          and Physically Handicapped, Library of Congress&lt;/dc:Publisher&gt;
          &lt;dc:Date&gt;2000-06-22&lt;/dc:Date&gt;
          &lt;dc:Source&gt;0-8389-7797-9&lt;/dc:Source&gt;
          &lt;dc:Language&gt;en&lt;/dc:Language&gt;
          &lt;dc:Format&gt;ANSI/NISO Z39.86-2002&lt;/dc:Format&gt;
          &lt;dc:Description&gt;A document developed to improve library 
          service for blind and physically disabled persons by providing a 
          tool for assessing the current status of those services
          and for developing long-range plans.&lt;/dc:Description&gt;
     &lt;/dc-metadata&gt;
     &lt;x-metadata&gt;
          &lt;meta name="dtb:sourceDate" content="1995" /&gt;  
          &lt;meta name="dtb:sourcePublisher" 
          content="American Library Association" /&gt;
          &lt;meta name="dtb:sourceRights" content="copyright 1995, 
          American Library Association" /&gt;
          &lt;meta name="dtb:narrator" content="Lowenstein, Ralph" /&gt;
          &lt;meta name="dtb:producer" 
          content="American Foundation for the Blind" /&gt;
          &lt;meta name="dtb:multimediaType" content="audioNcx" /&gt;
          &lt;meta name="dtb:totalTime" content="06:22:34.143" /&gt;
     &lt;/x-metadata&gt;

&lt;/metadata&gt;
...
</samp></pre>

<h2 id="h2_15">3.3 <a name="Manifest">Manifest</a></h2>
<h3 id="h3_25">(This section is normative.)</h3>

<p id="para_52">The <code>manifest</code>, which is a child of the <code>package</code> element, must 
  contain a complete list of all of the files (documents, audio files, images, 
  style sheets, etc.) that make up a given DTB including the package file itself. 
  The distInfo file and any associated audio <code>changeMsgs</code> are not considered 
  part of the DTB and thus <a href="#d-shall">shall</a> not be listed (See section 
  11, "<a href="#Dist">Packaging Files for Distribution</a>.") Each file is referenced 
  by an <code>item</code> element. Each <code>item</code> must have an <code>href</code> attribute 
  that is the <a href="#d-uri">URI</a> of the referenced file and is unique within 
  the manifest. This URI must not include <a href="#d-fragid">fragment identifier</a>s; 
  if relative, it is interpreted as relative to the package file itself. Further, 
  any relative URIs contained within an XML file listed in the manifest are considered 
  to be relative to the referring file.</p> 

<p id="para_53">In addition, each <code>item</code> must have a <code>media-type</code> attribute containing 
  the MIME media type of the file, and an <code>id</code> attribute. The <code>id</code> 
  is used primarily when a manifest <code>item</code> is referenced by the <code>spine</code>. 
  The <code>manifest</code> also includes fallback declarations for files of types 
  not supported by this standard. (See <a href="#OEBF">OEBF</a> Publication Structure 
  for details.) Support for the fallback mechanism is not required by this standard. 
  The NCX entry in the Package File manifest must have an id value equal to "ncx". 
  The Resource File entry in the Package File manifest must have an id value equal 
  to "resource". The <code>item</code> elements listing SMIL files in the <code>manifest</code> 
  must have a media-type attribute of "application/smil". The <code>item</code>
elements for the NCX, textual content file(s), Package File, and
Resource File must have media-type attribute values of "text/xml". The
order of <code>item</code> 
  elements within the <code>manifest</code> is not significant.</p> 
<h3 id="h3_26">(This example is informative.)</h3>

<p id="para_54">A sample 
<code>manifest</code> for a DTB with audio, structure, and text (multimediaType=audioFullText)  follows:</p>
<p id="para_55">Example 3.3:</p>

<pre><samp id="smp_4">
...
&lt;manifest&gt;
     
     &lt;item id="opf" href="rs.opf" media-type="text/xml" /&gt;
     &lt;item id="text" href="rs.xml" media-type="text/xml" /&gt;
     &lt;item id="text_style" href="dtbbase.css" media-type="text/css2" /&gt;
     &lt;item id="ncx" href="rs.ncx" media-type="text/xml" /&gt;
     &lt;item id="ncx_style" href="ncx16.css" media-type="text/css2" /&gt; 
     &lt;item id="SMIL" href="rs.smil" media-type="application/smil" /&gt; 
     &lt;item id="foreword" href="rs_fwdx.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="standards" href="rs_stdx.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="appendices" href="rs_app.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="index" href="rs_index.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="fig_01" href="fig1.png" media-type="image/png" /&gt;
     &lt;item id="resource" href="rs.res" media-type="text/xml" /&gt;
     &lt;item id="resource_audio" href="res.mp3" media-type="audio/mp3" /&gt;


&lt;/manifest&gt;
...
</samp></pre>

<p id="para_56">Here is a <code>manifest</code> for an audio-only
version of the above DTB (multimediaType=audioNcx) where separate SMIL
files were created for each segment of the book.</p>

<p id="para_57">Example 3.4:</p>

<pre><samp id="smp_5">
...
&lt;manifest&gt;
     &lt;item id="opf" href="rs.opf" media-type="text/xml" /&gt;
     &lt;item id="ncx" href="rs.ncx" media-type="text/xml" /&gt; 
     &lt;item id="foreword" href="rs_fwdx.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="standards" href="rs_stdx.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="appendices" href="rs_app.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="index" href="rs_index.mp3" media-type="audio/mp3" /&gt;
     &lt;item id="SMIL1" href="rsfwd.smil" media-type="application/smil" /&gt;
     &lt;item id="SMIL3" href="rsapp.smil" media-type="application/smil" /&gt;
     &lt;item id="SMIL4" href="rsind.smil" media-type="application/smil" /&gt; 
     &lt;item id="SMIL2" href="rsstd.smil" media-type="application/smil" /&gt; 

&lt;/manifest&gt;
...
</samp></pre>

<h2 id="h2_16">3.4 <a name="Spine">Spine</a></h2>
<h3 id="h3_27">(This section is normative.)</h3>

<p id="para_58">The <code>spine</code>, a child of the <code>package</code> element, shall 
  consist of a list of one or more <code>itemref</code> elements whose order defines 
  the default linear reading order for the DTB. Each <code>itemref</code> must 
  contain an <code>idref</code> which points to the <code>id</code> of a SMIL file 
  listed in the <code>manifest</code>. Only SMIL files can be referenced by <code>itemref</code>s in the <code>spine</code>. The <code>itemref</code>s must be listed in the <code>spine</code> in the order in which the SMIL files are to be presented. A player must consult the 
  <code>spine</code> when it reaches the end of a SMIL file to determine which file 
  to render next.</p>

<h3 id="h3_28">(The following examples are informative.)</h3>
<p id="para_59">The first
of the following examples shows the <code>spine</code> that corresponds to the first of the two 
<code>manifest</code> examples above.<br>
Example 3.5:</p>

<pre><samp id="smp_6">
&lt;spine&gt;

     &lt;itemref idref="SMIL" /&gt;

&lt;/spine&gt;
</samp></pre> 

<p id="para_60">The following <code>spine</code> matches the second <code>manifest</code> example above.  The correct
reading order is presented here.  Note that it does not match the order of files in the
<code>manifest</code> where order is not significant.</p>
<p id="para_61">Example 3.6:</p>


<pre><samp id="smp_7">
&lt;spine&gt;

      &lt;itemref idref="SMIL1" /&gt; 
      &lt;itemref idref="SMIL2" /&gt;
      &lt;itemref idref="SMIL3" /&gt;
      &lt;itemref idref="SMIL4" /&gt; 

&lt;/spine&gt;

</samp></pre>

<h2 id="h2_17">3.5 <a name="Tours">Tours</a></h2>

<h3 id="h3_29">(This section is informative.)</h3>

<p id="para_62">The <code>tours</code> element is an optional child of the <code>package</code> element. 
  The <a href="#OEBF">OEBF</a> Publication Structure describes <code>tours</code> 
  as follows: "Much as a tour guide might assemble points of interest into a set 
  of sightseers' tours, a content provider may assemble selected parts of a publication 
  into a set of tours to enable convenient navigation. ... Reading systems may 
  use tours to provide various access sequences to parts of the publication, such 
  as selective views for various reading purposes, reader expertise levels, etc." 
  Because of inherent differences between the structures of a DTB and the <a href="#OEBF">OEBF</a> 
  <code>tours</code>, it is not feasible to implement <code>tours</code> in a DTB prepared 
  in accordance with this standard. If a producer wishes to provide the functionality 
  described above, it may partially achieve it by producing customized <code>navList</code>s 
  in the NCX.</p>

<h3 id="h3_30">(This section is normative.)</h3>

<p id="para_63">Compliant players are not required to support <code>tours</code>.</p>

<h2 id="h2_18">3.6 <a name="Guide">Guide</a></h2>

<h3 id="h3_31">(This section is informative.)</h3>

<p id="para_64">As specified in the <a href="#OEBF">OEBF</a> Publication Structure, the <code>guide,</code> 
  a child of the <code>package</code> element, lists the key structural features 
  of the DTB, such as the table of contents, introduction, bibliography, etc. 
  to enable playback devices to provide convenient access to them. Because DTBs 
  include a mandatory NCX that satisfies a more rigorous and detailed access requirement, 
  the <code>guide</code> is not expected to be used in DTBs.</p> 

<h3 id="h3_33">(This section is normative.)</h3>

<p id="para_65">Compliant players are not required to support <code>guide</code>s.</p>

<p id="para_66"><a href="#toc">Contents</a></p> 
<h1 id="h1_7">4. <a name="Text">Content Format for Text</a></h1>
<h2 id="h2_19">4.1 <a name="TextIntro">Introduction</a></h2>
<h3 id="h3_33a">(This section is normative.)</h3>

<p id="para_67">This standard defines an <a href="#XML">XML</a> 1.0 Document Type Definition 
  -- DTBook -- for markup of the textual content files of books and other publications 
  presented in digital talking book format. To be compliant with this standard, 
  a textual content file of a DTB must be a valid <a href="#XML">XML</a> file 
  conforming to dtbook110.dtd, which can be found in Appendix 1, "<a href="#DTBookDTD">DTBook 
  DTD</a>." The <code>version</code> attribute on the <code>dtbook</code> element must 
  be present and contain the value drawn from the above-named DTD.</p>

<p id="para_68">A DTB that includes textual content will, in most
cases, contain only one textual content file. However, when necessary
(with a very large book, for example), a DTB can contain multiple
textual content files, each of which must be valid to the DTBook DTD.</p>

<p id="para_69">DTB content producers may extend the base DTD by including one or more new 
  elements or full modules for special situations. To remain conformant with this 
  standard, such extensions of the DTD must employ the mechanisms specified by 
  <a href="#XML">XML</a> 1.0. See section 4.2.2, "<a href="#ModExt">Modular Extension of the DTD</a>."</p>

<h2 id="h2_20">4.2 <a name="Using">Using the DTBook Element Set</a></h2>
<h3 id="h3_34">(This section is informative.)</h3>

<p id="para_70">A document developed during the creation of this standard, <a href="#Theory">Theory Behind the DTBook DTD [DTBook Theory]</a>, discusses the rationale underlying the DTBook element set and the benefits it provides to digital talking book applications.</p>

<p id="para_71">Two documents external to this standard provide
detailed information on the use of the element set. First, an expanded
version of the DTD, in HTML format, (see <a href="#Dtbookhtm">[DTBook HTML]</a>) provides full detail on each element, describing where it can be used
and which elements can be used within it, along with an expanded list of attributes.</p>

<p id="para_72">Second, a comprehensive set of guidelines for applying DTBook markup is 
  available from <a href="#DAISY">the DAISY Consortium</a>. These Structure Guidelines 
  <a href="#StructGuide">[StructGuide]</a> describe the correct application of 
  the DTBook element set, emphasize the importance of capturing the structure 
  of the text content, and provide detailed examples of the use of all DTBook 
  elements.</p>

<p id="para_73">The DTBook element set has considerable application outside of the digital 
  talking book as well. It was designed to enable the production of documents 
  in a variety of accessible formats. At least one U.S. Braille translation software 
  package has implemented a facility that imports DTBook documents and automatically 
  translates and formats them in Grade 2 Braille. It is expected that similar 
  automated processes will be developed for converting properly marked-up documents 
  into large print and for rendering DTBook documents in Braille, synthetic speech, 
  and large print "on the fly." Finally, an attribute called "showin" 
  is incorporated in the DTBook element set to control the display of selected 
  segments of a DTBook document. For example, descriptions of a graph might vary 
  between Braille and large print editions; "showin" could allow only 
  the appropriate version to show in each edition, although both would be present 
  in the DTBook document.</p>

<p id="para_74">This standard does not mandate the degree of markup to
be applied to a textual content file. However, the richer the markup,
the greater the functionality available to the reader.</p>

<p id="para_75">For more information on XML 1.0 markup and DTD usage, see the W3C XML site <a href="#XML">[XML]</a>.</p>  

<h3 id="h3_35">4.2.1 <a name="SMILMark">DTBook Markup Related to SMIL</a></h3>
<h3 id="h3_36">(This section is normative.)</h3>

<p id="para_76">To ensure efficient player operation with DTBs containing textual content files, the <code>smilref</code> attribute must be present and non-empty for each element in the textual content file referenced by a SMIL file. The <code>smilref</code> value shall normally be the URI of the SMIL time container (<code>par</code> or <code>seq</code>)
containing the media object that references a given element. However,
in a text-only DTB consisting of a sequence of text media objects, <code>smilref</code> contains the URI of the media object that references the element.  The <code>smilref</code> attribute permits the DTB player to resume SMIL-based playback following text-based navigation, full-text searches, etc. </p>

<h3 id="h3_37">4.2.2 <a name="ModExt">Modular Extension of the DTD</a></h3>
<h3 id="h3_38">(This section is informative.)</h3>

<p id="para_77">The DTBook DTD includes a base set of elements for use
in marking up a broad range of material. Additional modules containing
elements for specialized applications such as poetry, plays,
dictionaries, mathematics, etc. can be "invoked" from within a DTBook
document when needed, as described below.</p>

<p id="para_78">A DTBook document is an <a href="#XML">XML</a> application. Therefore it should 
  begin with the XML declaration identifying the version of XML, and the optional 
  character set encoding. (See Appendix 1, "<a href="#DTBookDTD">DTBook DTD</a>" 
  for more information.)<br><br>
  <code>
  &lt;?xml version="1.0" encoding="UTF-8" ?&gt;</code></p>

<p id="para_79">This is followed by the document type declaration:</p>
<pre><samp id="smp_8">
&lt;!DOCTYPE dtbook SYSTEM "dtbook110.dtd"
&gt;
</samp></pre>

<p id="para_80">For discussion of other ways of expressing the DOCTYPE, see section 2.3 of Appendix 1, "<a href="#DTBookDTD">DTBook DTD</a>."</p>

<p id="para_81">A book can invoke other DTDs or modules to augment the
DTBook DTD by adding instructions in square brackets before the
concluding "&gt;" of the document type declaration. Such instructions
in square brackets are called the "internal subset of declarations."
For example:</p>

<pre><samp id="smp_9">
&lt;!DOCTYPE dtbook SYSTEM "dtbook110.dtd"
        [
            &lt;!ENTITY % dramaModule SYSTEM "drama.dtd" &gt;
            %dramaModule;
            &lt;!ENTITY % externalblock "| drama"&gt;
            &lt;!ENTITY % externalinline "| stagedir"&gt;
        ]&gt; 
</samp></pre>

<p id="para_82">The first line of the internal subset declares an
entity known as "dramaModule" and provides the URI where that module
can be found. The second line invokes this entity, that is "brings it
into" the current document, just as the DOCTYPE declaration invoked the
base DTD (dtbook110.dtd). The third line declares the entity "%
externalblock" and gives it the value "drama". Since dtbook110.dtd
contains an entity of the same name, and the internal subset overrules
the base (external) DTD (dtbook110.dtd) in areas of conflict,
everywhere in dtbook110.dtd where "%externalblock;" appears (that is,
wherever block elements are allowed), the value "drama" is added. Since
<code>drama</code> is the root element in the drama module, the full
drama module can be used there. Similarly, the last line effectively
allows the element <code>stagedir</code> to be used anywhere "%externalinline;" is allowed in dtbook110.dtd (that is, wherever inline elements can be used).</p>

<p id="para_83">More than one module may be needed and included in a
book. In the following example, both a poetry and drama module are
invoked, as well as one inline element (<code>stagedir</code>) from the drama module.</p>
<pre><samp id="smp_10">
        [ 
            &lt;!ENTITY % poemModule "http://www.xyz.org/poem.dtd" &gt;
            %poemModule;
            &lt;!ENTITY % dramaModule "http://www.xyz.org/drama.dtd" &gt;
            %dramaModule;
            &lt;!ENTITY % externalblock "| poem | drama" &gt;
            &lt;!ENTITY % externalinline "| stagedir"&gt;
        ]&gt;
</samp></pre>
<p id="para_83n">See section 3 of Appendix 1, "<a href="#DTBookDTD">DTBook DTD</a>" for a more detailed discussion of this issue.</p>

<p id="para_84n"><a href="#toc">Contents</a></p>

<h1 id="h1_8">5. <a name="Audio">Audio File Formats</a></h1>

<h2 id="h2_22">5.1 <a name="AudFormats">Distribution Formats</a></h2>
<h3 id="h3_40">(This section is normative.)</h3>

<p id="para_85">A set of audio file formats is listed below. A
compliant audio player must be capable of decoding at least one of the
formats listed. It is strongly recommended that players be able to
decode all listed formats. Content compliant with this standard must be
delivered in one of the formats below, or any mixture of them. The file
extensions shown for each format must be used in audio filenames in
compliant DTBs. Values are not case-sensitive. </p>

<p id="para_86">It is permissible for parts of a single book to be
encoded in different audio formats. For example, a producer may choose
to encode a lengthy bibliography at a lower bit rate or with a
different codec than the main body of the book. Players must support
transitions between differently encoded sections smoothly. There is no
restriction on the granularity of these parts, i.e. they may occur at
any point in the SMIL presentation.
</p>
<p id="para_87">Support for multi-channel rendering is not required.
Stereo signals must be recognized and rendered at least in monaural
format.
</p>
<p id="para_88">A compliant DTB player that provides audio output should be capable of decoding the following audio formats:</p>
<ul id="ul_60">
  <li id="li_241">MPEG-4 AAC <a href="#MPEG">[MPEG]</a> - <a href="#MPEG">ISO/IEC 14496-3</a>. 
    File extension: .aac<br>
  </li>
  <li id="li_242">MPEG-1/2 Layer III (MP3) <a href="#MPEG">[MPEG]</a> - <a href="#MPEG">ISO/IEC 
    11172-3</a>, <a href="#MPEG">ISO/IEC 13818-3</a>. File extension: .mp3<br>
  </li>
<li id="li_243">Linear PCM - RIFF WAVE format <a href="#RIFFWAV">[RIFFWAV]</a>.  File extension: .wav<br>
File header contains information about sample rate, number of channels, etc.<br>Players
are required to handle monaural WAVE files with single "fmt" and "data"
subchunks only, and are not required to support any other RIFF media
types.</li>
</ul>
<p id="para_89">While the ISO standards for MP3 and AAC require support
for variable bit rate playback, players compliant with this standard
are only required to support constant bit rate playback.
</p>
<p id="para_90">Players must support sample rates of 44.1, 22.05, and
11.025 kHz at a depth of 16 bits per sample. Compressed audio must be
encoded such that the output sampling rate is restricted to one of the
above three rates.</p>

<h2 id="h2_23">5.2 <a name="AudNotes">Formats for Audio Notes</a></h2>
<h3 id="h3_41">(This section is normative.)</h3>
<p id="para_91">Audio players capable of recording and exporting audio
notes for bookmarks and highlights must support encoding in the
following format or one of the formats specified in section 5.1. Audio
players capable of importing bookmarks and highlights must support
decoding of the following format. </p>
<ul id="ul_61">
<li id="li_244">ADPCM - ITU-T G.726 <br>
Communication quality at 40,32,24 or 16 kbps. Encoder and decoder are
simple to implement.  File extension shall be: .726</li>
</ul>

<p id="para_91n"><a href="#toc">Contents</a></p>

<h1 id="h1_9">6. <a name="Image">Image File Formats</a></h1>
<h3 id="h3_42">(This section is normative.)</h3>

<p id="para_92">Images included in DTBs must be presented in one or more of the following formats: JPEG (JFIF V 1.02) <a href="#JPEG">[JPEG]</a> (extension: .jpg), PNG <a href="#RFC2083">[RFC 2083]</a> (extension: .png), or Scalable Vector Graphics 
  <a href="#SVG">[SVG]</a>
(extension: .svg). Filenames must use the file extensions specified;
values are not case-sensitive. Compliant playback devices that support
image display must be capable of displaying JPEG and PNG; support for
SVG is recommended. Appendix 8 of the SVG specification addresses
accessibility issues.</p>

<p id="para_92n"><a href="#toc">Contents</a></p>

<h1 id="h1_10">7. <a name="SMIL">Synchronization of Media Files</a></h1>
<h2 id="h2_24">7.1 <a name="SMILIntro">Introduction</a></h2>

<h3 id="h3_43">7.1.1 <a name="SMILBack">Background</a></h3>
<h3 id="h3_44">(This section is informative.)</h3>

<p id="para_93">The Synchronized Multimedia Integration Language (<a href="#ref-SMIL">SMIL 
  2.0</a>) <a href="#ref-SMIL">[SMIL]</a> was developed by the World Wide Web 
  Consortium as a standard for definition and playback of multimedia presentations 
  over the Internet. SMIL defines the sequence of playback for one or more media 
  objects. In the case of DTBs, the primary media objects are audio and textual 
  content files; SMIL provides for their parallel and synchronized presentation. 
  Any DTB constructed using SMIL, and utilizing content encoded in standard text 
  and audio media types, is playable on any device or platform which has implemented 
  a SMIL-conformant player of the same or later SMIL version, so long as the necessary 
  audio and textual rendering decoders are present and no system for intellectual property protection restricts access.</p>
<p id="para_94">What distinguishes a DTB playback system from a basic SMIL player is the inclusion of specific
navigation and presentational capabilities set out in the user requirements for DTBs (<a href="#Navfeat">[Navigation Features]</a>). These capabilities can use
information from an NCX file, from the textual content, and/or from the SMIL file itself. The key
to this information is the inclusion of unique identifiers within the textual content (when present) and SMIL
files. Audio files are indexed by time-based positions and in themselves contain no embedded
semantic structure. To provide semantic structure to audio content, it is necessary to associate
time-points in the audio file with the corresponding position within the textual content. This is
achieved using SMIL through the pairing of a pointer to a specific position within a textual content file
(referenced by a URI) with its corresponding time position in the
audio content. In the case of the DTB SMIL application, each synchronization point within the
SMIL file is assigned a unique identifier. The presence of these identifiers within both the textual
content and the SMIL allows navigation to occur by several different methods, as determined by
the playback system.</p>  

<p id="para_95">SMIL incorporates a control structure called <code>customTest</code>s,
which allows SMIL authors to identify by class selected elements of a
document (e.g., notes, page numbers, line numbers). The playback device
can then expose to the user the presence of these classes and allow the
user to select whether a given class of elements is to be read or
skipped over during sequential playback.</p>

<p id="para_96">The DTB producer determines granularity of the synchronization events. Synchronization events
can be limited to the primary structural elements (those indicated in the NCX) or can be augmented in books with full
textual content to include synchronization down to paragraph, sentence, or even word level.
The requirement for this level of synchronization is that the textual content includes mark-up
tags for the desired elements and that those elements include unique identifiers that can be
referenced in the SMIL files.</p>

<p id="para_97">The SMIL file for a DTB typically will consist of a sequence of parallel events 
  (e.g., text and audio (and possibly image) events occurring simultaneously). 
  SMIL represents this structure through the use of the "time containers" <code>seq</code> 
  (sequence of media objects) and <code>par</code> (parallel time grouping in which 
  multiple media objects play back at the same time). A simple form of DTB SMIL 
  file would be as follows, where the three <code>par</code>s shown are played one 
  after the other, and the text and audio content referenced in each <code>par</code> are rendered simultaneously:<br></p>
  
  <pre><samp id="smp_11">
&lt;smil&gt;
 ...
&lt;seq&gt;
  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;/par&gt;
  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;/par&gt;
  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;img.../&gt;&lt;/par&gt;
&lt;/seq&gt;
...
&lt;/smil&gt;
</samp></pre> 


<h3 id="h3_45">7.1.2 <a name="SMILMods">SMIL Modules</a></h3>
<h3 id="h3_46">(This section is informative.)</h3>

<p id="para_98">Synchronization of media objects in this standard is based on the <a href="#ref-SMIL">SMIL 
  2.0</a> specification. Developers are requested to reference <a href="#ref-SMIL">SMIL 
  2.0</a> <a href="#ref-SMIL">[SMIL]</a> for complete background and details. 
  Only a small subset of the SMIL specification is used in this implementation, 
  drawing from the following modules, which are grouped by functional area. Modules 
  marked with asterisks are used in whole or in part in this application; the 
  others are not used but are included because they are part of a core set 
  of modules required for <em>host language conformance</em> under W3C modularization 
  guidelines.</p>
<ul id="ul_62">
<li id="li_245">Timing
<ul id="ul_63">
<li id="li_246">*BasicInlineTiming</li>
<li id="li_247">MinMaxTiming</li>
<li id="li_248">SyncbaseTiming</li>
<li id="li_249">EventTiming</li>
<li id="li_250">*BasicTimeContainers</li>
</ul></li>
<li id="li_251">Content Control
<ul id="ul_64">
<li id="li_252">*BasicContentControl</li>
<li id="li_253">*CustomTestAttributes</li>
<li id="li_254">SkipContentControl</li>
</ul>
</li>

<li id="li_255">Layout
<ul id="ul_65">
<li id="li_256">*BasicLayout</li>
</ul>
</li>

<li id="li_257">Linking
<ul id="ul_66">
<li id="li_258">*BasicLinking</li>
<li id="li_259">*LinkingAttributes</li>
</ul>
</li>

<li id="li_260">Media Objects
<ul id="ul_67">
<li id="li_261">*BasicMedia</li>
<li id="li_262">*MediaClipping</li>
</ul>
</li>

<li id="li_263">Metainformation
<ul id="ul_68">
<li id="li_264">*Metainformation</li>
</ul>
</li>

<li id="li_265">Structure
<ul id="ul_69">
<li id="li_266">*Structure</li>
</ul>
</li>
</ul>

<p id="para_99">The modules mentioned above can be combined, using W3C modularization guidelines, 
  to form a <em>profile</em> specific to DTB applications. Section 2 of the SMIL 
  specification, "The <a href="#ref-SMIL">SMIL 2.0</a> Modules," describes this 
  process in detail.</p>

<h2 id="h2_25">7.2 <a name="SMILApp">Application of SMIL to DTBs</a></h2>
<h3 id="h3_47">(This section is normative.)</h3>

<p id="para_100">To simplify validation using commonly available parsers and to lessen the complexity 
  of determining content models and applicable attribute lists, a <a href="#DTBSMILDTD">DTB-Specific 
  SMIL DTD</a> is included in this standard in Appendix 2. This DTD includes only 
  those elements and attributes from the modules listed above that are required 
  for the DTB application. In addition, it is more restrictive than the SMIL modules 
  in that id attributes are often required in the DTB application when they are 
  <a href="#d-implied">implied</a> in the SMIL modules.</p>  

<p id="para_101">A compliant DTB must contain at least one SMIL file. All SMIL files included 
  in a DTB must be valid <a href="#XML">XML</a> documents conforming to dtbsmil110.dtd.</p>

<p id="para_102">Time containers (<code>seq</code>s or <code>par</code>s) within SMIL files must contain 
  <code>id</code>s. Media objects (<code>audio</code>, <code>text</code>, and <code>img</code>) may also 
  contain <code>id</code>s, although this practice will generally be limited to single-medium 
  DTBs. See section 7.4.10, "<a href="#T-O">Text-Only DTBs.</a>"</p> 

<p id="para_103">In the textual content file, each segment to be synchronized (e.g., heading, 
  paragraph, list item, etc.) must be contained within an element carrying a unique 
  id to which the corresponding SMIL segment points. In addition, any textual 
  content file element referenced by a SMIL file must include a smilref attribute 
  specifying the URI of the time container or media object that references it. 
  The <code>smilref</code> value shall normally be the URI of the SMIL time container 
  containing the media object that references a given element. However, in a text-only 
  DTB consisting of a sequence of text media objects, <code>smilref</code> shall contain 
  the URI of the referencing media object itself. See section 4.2.1, "<a href="#SMILMark">DTBook 
  Markup Related to SMIL.</a>"</p> 

<p id="para_105">It is strongly recommended that the SMIL file(s) have
a level of granularity matching that of the textual content file. That
is, if the textual content file is marked up to the paragraph level,
the SMIL file(s) should include synchronization to the paragraph level.</p>

<p id="para_106">All time offsets in SMIL files (and all other applicable DTB files, e.g., NCX <code>clipBegin</code>/<code>clipEnd</code>, bookmark <code>timeOffset</code>s,
etc.), are based on normal play speed. In order to maintain
synchronization, a player must process time offsets independently of
actual playback speed.</p>

<h2 id="h2_26">7.3 <a name="SMILElem">SMIL Elements</a></h2>
<h3 id="h3_48">(This section is informative.)</h3>

<p id="para_107">As mentioned above, the DTB application uses only a
portion of the elements and attributes that make up the modules in the
DTB SMIL Profile. Playback devices compliant with this standard need
support only the following SMIL elements and attributes, which make up
the DTB-Specific SMIL DTD.</p>

<ul id="ul_70">
  <li id="li_267"><b>&lt;smil&gt;</b><br>
    <b>Description:</b> The root element of a <a href="#ref-SMIL">SMIL 2.0</a> 
    file is <code>smil</code>. The <code>smil</code> element contains exactly one <code>head</code> and exactly one <code>body</code>.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT smil (head, body) &gt;</code><br>
    <b>Syntax:</b> <code>&lt;smil&gt;</code>...content...<code>&lt;/smil&gt; </code><br>
    <b>Attributes:</b><br>
    <ul id="ul_71">
      <li id="li_269"><b>%Core.attrib;</b> See section 7.3.1, "<a href="#CommAtt">Core 
        Attributes.</a>"</li>
      <li id="li_270"><b>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</b></li>
    </ul>
    <b>Valid inside:</b> None<br>
    <br>
    <br>
  </li>
  <li id="li_271"><b>&lt;head&gt;</b><br>
    <b>Description:</b> Contains information not directly related to the temporal 
    presentation: metadata (using <code>meta</code> element), optional <code>layout</code>, 
    and optional <code>customAttributes</code>, in that order. <br>
    <b>Declaration:</b><code>&lt;!ELEMENT head ((meta)*, (layout)?, (customAttributes)? 
    ) &gt;</code><br>
    <b>Syntax:</b> <code>&lt;head&gt;</code>...content...<code>&lt;/head&gt;</code><br>
    <b>Attributes:</b><br>
    <ul id="ul_72">
      <li id="li_272"><b>%Core.attrib;</b> See section 7.3.1, "<a href="#CommAtt">Core 
        Attributes.</a>"</li>
      <li id="li_273"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
    </ul>
    <b>Valid inside:</b> <code>&lt;smil&gt; </code><br>
    <br>
  </li>
  <li id="li_274"><b>&lt;meta&gt;</b><br>
    <b>Description:</b> Contains information describing the SMIL document.<br>
    <b>Syntax:</b> <code>&lt;meta</code> ...attributes... <code>/&gt;</code><br>
    <b>Declaration:</b><code>&lt;!ELEMENT meta EMPTY &gt;</code><br>
    <b>Attributes:</b><br>
    <ul id="ul_73">
      <li id="li_275"><b>content (CDATA, #IMPLIED)</b></li>
      <li id="li_276"><b>name (CDATA, #<a href="#d-required">REQUIRED</a>)</b></li>
    </ul>
    <b>Valid inside:</b> <code>&lt;head&gt; </code><br>
    <b>Comments:</b> See section 7.5, "<a href="#SMILMeta">SMIL Metadata</a>" 
    for normative content. <br>
    <br>
  </li>
  <li id="li_277"><b>&lt;layout&gt;</b><br>
    <b>Description:</b> Controls (through the <code>region</code> elements it 
    contains) where on a visual, audio, or tactile rendering space various producer-defined 
    elements, e.g., figures, text, footnotes, etc. are displayed.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT layout (region)+ &gt;</code><br>
    <b>Syntax:</b> <code>&lt;layout&gt;</code>...content...<code>&lt;/layout&gt;</code><br>
    <b>Attributes:</b><br>
    <ul id="ul_74">
      <li id="li_278"><b>%Core.attrib;</b></li>
      <li id="li_279"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
    </ul>
    <b>Valid inside:</b> <code>&lt;head&gt;</code><br>
    <b>Comments:</b> Syntax is restricted. See section 7.4.6, "<a href="#Layout">Layout 
    Syntax</a>" for normative content. <br>
    <br>
  </li>
  <li id="li_280"><b>&lt;region&gt;</b><br>
    <b>Description:</b> Controls the position, size, and scaling of media objects 
    (e.g., text, img).<br>
    <b>Declaration:</b><code>&lt;!ELEMENT region EMPTY &gt;</code><br>
    <b>Syntax:</b> <code>&lt;region</code> ...attributes... <code>/&gt;</code><br>
    <b>Attributes:</b> <br>
    <ul id="ul_75">
      <li id="li_281"><b>id (ID, REQUIRED)</b> Value of <code>region</code> attribute on media 
        object references the id on appropriate <code>region</code> element.</li>
      <li id="li_282"><b>bottom (CDATA, 'auto')</b> Locates <code>region</code> in display 
        space. See <a href="#ref-SMIL">SMIL 2.0</a> for details.</li>
      <li id="li_283"><b>left (CDATA, 'auto' )</b> Locates <code>region</code> display space. 
        See <a href="#ref-SMIL">SMIL 2.0</a> for details.</li>
      <li id="li_284"><b>right (CDATA, 'auto') </b> Locates <code>region</code> in display 
        space. See <a href="#ref-SMIL">SMIL 2.0</a> for details.</li>
      <li id="li_285"><b>top (CDATA, 'auto')</b> Locates <code>region</code> in display space. 
        See <a href="#ref-SMIL">SMIL 2.0</a> for details.</li>
      <li id="li_286"><b>height (CDATA, 'auto') </b> Locates <code>region</code> in display 
        space. See <a href="#ref-SMIL">SMIL 2.0</a> for details. </li>
      <li id="li_287"><b>width (CDATA, 'auto')</b> Locates <code>region</code> in display 
        space. See <a href="#ref-SMIL">SMIL 2.0</a> for details.</li>
      <li id="li_288"><b>fit ((hidden|fill|meet|scroll|slice) 'hidden')</b> Specifies behavior 
        if the intrinsic height and width of a visual media object differ from 
        those of the <code>region</code> in which it is displayed. See <a href="#ref-SMIL">SMIL 
        2.0</a> for definitions of attribute values.</li>
      <li id="li_289"><b>backgroundColor (CDATA, IMPLIED)</b> Sets background color of the 
        area of the <code>region</code> that is not covered by the media object(s) being displayed.</li>
      <li id="li_290"><b>showBackground ((always|whenActive) 'always')</b> Controls whether 
        the <code>backgroundColor</code> of a <code>region</code> is shown when 
        no media is being rendered to the <code>region</code>. See <a href="#ref-SMIL">SMIL 
        2.0</a> for definitions of attribute values.</li>
      <li id="li_291"><b>z-index (CDATA, IMPLIED)</b> Used for control of multilayered displays.</li>
    </ul>
    <b>Valid inside:</b> <code>&lt;layout&gt;</code><br>
    <b>Comments:</b> All media objects whose <code>region</code> attribute references 
    the <code>id</code> on a given <code>region</code> element will be displayed in that <code>region</code>. 
    <br>
    <br>
  </li>
  <li id="li_292"><b>&lt;customAttributes&gt;</b><br>
    <b>Description:</b> Contains one or more <code>customTests</code> that allow 
    the producer to specify kinds of structures that the user can choose to have 
    automatically rendered or skipped.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT customAttributes (customTest)+ &gt;</code><br>
    <b>Syntax:</b> <code>&lt;customAttributes&gt;</code>...content...<code>&lt;/customAttributes&gt;</code><br>
    <b>Attributes:</b> <br>
    <ul id="ul_76">
      <li id="li_293"><b>%Core.attrib;</b> See section 7.3.1, "<a href="#CommAtt">Core 
        Attributes.</a>"</li>
      <li id="li_294"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
    </ul>
    <b>Valid inside:</b> <code>&lt;head&gt;</code><br>
    <b>Comments:</b> See section 7.4.3, "<a href="#Skip">'Skippable' Structures</a>" 
    for normative content.<br>
    <br>
    <br>
  </li>
  <li id="li_295"><b><a name="custtest">&lt;customTest&gt;</a></b><br>
    <b>Description:</b> Defines the kinds of structures (e.g., page numbers, notes, 
    line numbers, etc.) that the user can choose to have presented or skipped 
    during normal playback of a DTB. See definition of <code>customTest</code> attribute 
    for <code>par</code> and <code>seq</code> below.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT customTest EMPTY &gt;</code><br>
    <b>Syntax:</b> <code>&lt;customTest</code> ...attributes... <code>/&gt;</code><br>
    <b>Attributes:</b><br>
    <ul id="ul_77">
      <li id="li_296"><b>id (ID, REQUIRED)</b> Id here serves as a unique identifier referenced 
        by a <code>customTest</code> attribute on <code>par</code> or <code>seq</code> in 
        <code>body</code> of SMIL. </li>
      <li id="li_297"><b>class (CDATA, IMPLIED)</b></li>
      <li id="li_298"><b>title (CDATA, IMPLIED)</b></li>
      <li id="li_299"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
      <li id="li_300"><b>defaultState ((true|false) 'false')</b> Specifies whether player 
        will render (<code>value = true</code>) or skip (<code>value = false</code>) 
        the structure during sequential playback. If no value is present, the 
        default is false and the content is skipped.</li>
      <li id="li_301"><b>override ((visible|hidden) 'hidden')</b> Specifies whether the playback 
        device should present to (<code>value= "visible"</code>) or hide from (<code>value 
        = "hidden"</code>) the reader the ability to override the setting of <code>defaultState</code>. 
        See section 7.4.3, "<a href="#Skip">'Skippable' Structures</a>" for normative 
        content.</li>
    </ul>
    <b>Valid inside:</b> <code>&lt;customAttributes&gt;</code><br>
    <br>
    <br>
  </li>
  <li id="li_302"><b>&lt;body&gt;</b><br>
    <b>Description:</b> Contains the time containers that define the temporal 
    presentation.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT body (par|seq|text|audio|img|a)+ &gt;</code><br>
    <b>Syntax:</b> <code>&lt;body&gt;</code>...content...<code>&lt;/body&gt;</code><br>
    <b>Attributes:</b><br>
    <ul id="ul_78">
      <li id="li_303"><b>%Core.attrib;</b> See section 7.3.1, "<a href="#CommAtt">Core 
        Attributes.</a>."</li>
      <li id="li_304"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
    </ul>
    <b>Valid inside:</b> <code>&lt;smil&gt;</code><br>
    <b>Comments:</b> The <code>body</code> contains zero or more <code>seq</code>s 
    or <code>par</code>s and may also directly contain zero or more media objects 
    (<code>text</code>, <code>audio</code>, <code>img</code>), or links (<code>a</code>). <br>
    <br>
  </li>
  <li id="li_305"><b>&lt;seq&gt;</b><br>
    <b>Description:</b> Container for a sequence of SMIL events, e.g., a series 
    of <code>par</code>s and <code>seq</code>s.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT seq (par|seq|text|audio|img|a)+ &gt;</code><br>
    <b>Syntax:</b> <code>&lt;seq&gt;</code>...content...<code>&lt;/seq&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_79">
      <li id="li_306"><b>id (ID, REQUIRED):</b></li>
      <li id="li_307"><b>class (CDATA, IMPLIED):</b> Used for several purposes: First, to 
        identify structures such as tables, lists, and notes from which a reader 
        can "escape" with a single action. Second, to identify structures such 
        as tables and lists for which special navigation functions should be automatically 
        invoked when entered. To support these functionalities, the class 
        attribute will be valued with element names drawn from the DTBook DTD, 
        e.g., "table", "list", and "note".</li>
      <li id="li_308"><b>customTest (IDREF, IMPLIED):</b> ID reference linking <code>seq</code> 
        with matching <code>customTest</code> element in <code>head</code>. </li>
      <li id="li_309"><b>dur (CDATA, IMPLIED)</b> The duration of the seq. It uses the same 
        attribute value syntax as <code>begin</code>. </li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>seq</code>, <code>par</code><br>
    <b>Comments:</b> It is permissible to nest <code>seq</code>s. <br>
    <br>
  </li>
  <li id="li_310"><b>&lt;par&gt;</b><br>
    <b>Description:</b> Parallel time grouping in which multiple elements (e.g., 
    text, audio, and image) play back simultaneously.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT par (seq|text|audio|img|a)+ &gt;</code><br>
    <b>Syntax:</b> <code>&lt;par&gt;</code>...content...<code>&lt;/par&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_80">
      <li id="li_311"><b>id (ID, REQUIRED):</b></li>
      <li id="li_312"><b>class (CDATA, IMPLIED):</b> Used for several purposes: First, to 
        identify structures such as tables, lists, and notes from which a reader 
        can "escape" with a single action. Second, to identify structures such 
        as tables and lists for which special navigation functions should be automatically 
        invoked when entered. To support these functionalities, the class 
        attribute will be valued with element names drawn from the DTBook DTD, 
        e.g., "table", "list", and "note".</li>
      <li id="li_313"><b>customTest (IDREF, IMPLIED):</b> ID referencing matching <code>customTest</code> 
        element in <code>head</code>. </li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>seq</code><br>
    <b>Comments:</b> See section 7.4.7, "<a href="#Par">Content of <code>par</code>s</a>" for 
    normative content. <br>
    <br>
  </li>
  <li id="li_314"><b>&lt;text&gt;</b><br>
    <b>Description:</b> Points to segment of textual content to be rendered.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT text EMPTY &gt;</code><br>
    <b>Syntax:</b> <code>&lt;text</code>...attributes...<code>/&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_81">
      <li id="li_315"><b>id (ID, IMPLIED):</b> Optional identifier.</li>
      <li id="li_316"><b>src (CDATA, REQUIRED):</b> URI of fragment of textual content file 
        to be rendered.</li>
      <li id="li_317"><b>type (CDATA, IMPLIED):</b> Type of media file.</li>
      <li id="li_318"><b>region (CDATA, IMPLIED):</b> Specifies the <code>region</code> (defined 
        in <code>layout</code> in document <code>head</code>) in which the text 
        will be presented. References the id of the appropriate <code>region</code>. 
        All types of text objects that are to appear in the same rendering space 
        would be assigned the same value for <code>region</code>. For example, 
        page numbers and producer's notes might both be displayed in the main 
        text area of a screen (<code>region="text"</code>), while notes (e.g., 
        footnotes) might be displayed in a separate area at the bottom of the 
        screen (<code>region="notes"</code>).</li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>par</code>, <code>seq</code><br>
    <br>
  </li>
  <li id="li_319"><b>&lt;audio&gt;</b><br>
    <b>Description:</b> Points to segment of audio content to be rendered.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
    <b>Syntax:</b> <code>&lt;audio</code>...attributes...<code> /&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_82">
      <li id="li_320"><b>id (ID, IMPLIED):</b> Optional identifier.</li>
      <li id="li_321"><b>src (CDATA, REQUIRED):</b> URI of audio file containing clip to be 
        rendered.</li>
      <li id="li_322"><b>type (CDATA, IMPLIED):</b> Type of media file.</li>
      <li id="li_323"><b>clipBegin (CDATA, IMPLIED):</b> Specifies the beginning of a segment 
        of a continuous audio file as a time offset from the start of the audio 
        file. The value syntax is defined by the SMIL 2.0 Timing and Synchronization 
        Module <a href="#ref-SMIL">[SMIL].</a> See section 7.7, "<a href="#Clock">Clock 
        Values.</a>" </li>
      <li id="li_324"><b>clipEnd (CDATA, IMPLIED):</b> Specifies the end of a segment of a 
        continuous audio file as a time offset from the start of the audio file. 
        It uses the same attribute value syntax as <code>clipBegin</code>. </li>
      <li id="li_325"><b>region (CDATA, IMPLIED):</b> Specifies the <code>region</code> (defined 
        in <code>layout</code> in document <code>head</code>) in which the audio object 
        will be presented. References the id of the appropriate <code>region</code>.</li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>par</code>, <code>seq</code><br>
    <br>
  </li>
  <li id="li_326"><b>&lt;img&gt;</b><br>
    <b>Description:</b> Points to image to be rendered.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT img EMPTY &gt;</code><br>
    <b>Syntax:</b> <code>&lt;image</code>...attributes...<code> /&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_83">
      <li id="li_327"><b>id (ID, IMPLIED):</b> Optional identifier.</li>
      <li id="li_328"><b>src (CDATA, REQUIRED):</b> URI of image file to be rendered.</li>
      <li id="li_329"><b>type (CDATA, IMPLIED):</b> Type of media file.</li>
      <li id="li_330"><b>region (CDATA, IMPLIED):</b> Specifies the <code>region</code> (defined 
        in <code>layout</code> in document <code>head</code>) in which the image will 
        be presented. References the id of the appropriate <code>region</code>.</li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>par</code>, <code>seq</code> <br>
    <br>
  </li>
  <li id="li_331"><b>&lt;a&gt;</b><br>
    <b>Description:</b> Defines a link. The default behavior is to be active for 
    the duration of the media object it contains.<br>
    <b>Declaration:</b><code>&lt;!ELEMENT a (text|audio|img)* &gt;</code><br>
    <b>Syntax:</b> <code>&lt;a&gt;</code>...content...<code>&lt;/a&gt; </code><br>
    <b>Attributes:</b> 
    <ul id="ul_84">
      <li id="li_332"><b>%Core.attrib;</b> See section 7.3.1, "<a href="#CommAtt">Core 
        Attributes</a>."</li>
      <li id="li_333"><b>xml:lang (NMTOKEN, IMPLIED)</b></li>
      <li id="li_334"><b>href (%URI;, REQUIRED)</b> Specifies the URI of the target of the 
        link. The URI may include a fragment identifier.</li>
    </ul>
    <b>Valid inside:</b> <code>body</code>, <code>par</code>, <code>seq</code><br>
    <b>Comments:</b> See section 7.4.5, "<a href="#SMILLinks">Links</a>" 
    for normative content.<br>
    <br>
  </li>
</ul>


<h3 id="h3_49">7.3.1 <a name="CommAtt">Core Attributes</a></h3>
<h3 id="h3_50">(This section is informative.)</h3>

<p id="para_107n">The following attributes are allowed when the entity %Core.attrib; is listed above:</p>
<ul id="ul_85">
<li id="li_335"><b>id (ID, IMPLIED)</b></li>
<li id="li_336"><b>class (CDATA, IMPLIED)</b></li>
<li id="li_337"><b>title (CDATA, IMPLIED)</b></li>
</ul>
<h2 id="h2_27">7.4 <a name="SMILProd">SMIL Requirements for DTBs</a></h2>

<h3 id="h3_51">7.4.1 <a name="Escape">"Escapable" Structures</a></h3>
<h3 id="h3_52">(This section is normative.)</h3>

<p id="para_108">DTB players should provide the functionality to allow
readers to escape from the DTB rendition of specific structures (at a
minimum tables, lists, producer's notes, annotations, and notes) with a
single action. To support this functionality, any such structure
consisting of multiple time containers (i.e., <code>seq</code>s and <code>par</code>s) must be wrapped in a <code>seq</code>. In addition, a class attribute must be applied to the <code>seq</code> or <code>par</code>
containing a table, list, producer's note, annotation, or note using
element names drawn from the DTBook DTD (i.e., "table", "list",
"prodnote", "annotation", and "note").</p>

<h3 id="h3_53">7.4.2 <a name="AutoInv">Automatic Invocation of Special Navigation Modes</a></h3>
<h3 id="h3_54">(This section is normative.)</h3>

<p id="para_109">DTB player developers may choose to automatically
invoke special player navigation modes when the reader enters a table
or list. (See "<a href="#Navfeat">Document Navigation Features List [Navigation Features]</a>.")  To support this functionality, a class attribute must be included on the <code>seq</code> or <code>par</code>
containing a table or list using element names drawn from the DTBook
DTD (i.e., "table" and "list"). DTBs and players may also support this
functionality for other structures using the same mechanism.</p>

<h3 id="h3_55">7.4.3 <a name="Skip">"Skippable" Structures</a></h3>
<h3 id="h3_56">(This section is normative.)</h3>

<p id="para_110">Players should offer the user the option to "turn off" certain structures in 
  a DTB, that is, select structures such as notes or line numbers that the player 
  will then automatically skip over during sequential playback. To support this 
  capability, compliant DTBs must include <code>customTest</code> attributes on 
  <code>seq</code>s or <code>par</code>s containing those structures. In addition, 
  <code>customAttributes</code>, as well as a <code>customTest</code> element 
  for each "skippable" structure, must be present in the <code>head</code> of 
  each SMIL file and contain content. At a minimum, <code>customTest</code> attributes 
  must be applied to time containers for <code>linenum</code>, <code>note</code>, 
  <code>noteref</code>, <code>annotation</code>, <code>pagenum</code>, optional 
  <code>prodnote</code>, and <code>sidebar</code>. <code>Note</code>s, <code>annotation</code>s, optional <code>prodnote</code>s, and <code>sidebar</code>s containing multiple paragraphs must be represented as a series of <code>pars</code> wrapped in a <code>seq</code>, so that a <code>customTest</code> can be applied to the <code>seq</code>, permitting the user to skip the entire 
  sequence.  Attribute values (for customTest 
  attributes on <code>seq</code>s or <code>par</code>s and for the id attribute 
  on <code>customTest</code> elements) shall be the names of the "skippable" elements, 
  drawn from the DTBook DTD (e.g., "linenum", "note", etc.) except as noted in 
  the following paragraph.</p>
  

<p id="para_111">Different <code>customTest</code> attributes may be applied to a single DTBook 
  element, depending on the element's attributes. For example, <code>&lt;prodnote 
  render="optional"&gt;</code> might be assigned the <code>customTest "prodnote_opt"</code>, 
  while <code>&lt;prodnote render="required"&gt; </code>would not need to 
  be assigned a <code>customTest</code> as the user should not have the option 
  of turning it off.</p> 

<p id="para_112">In DTB applications, the element <code>customTest</code> will only be used 
  when the producer wishes to allow the reader to turn a class of structures on 
  or off, so the <code>override</code> attribute on the <code>customTest</code> element must 
  always be set to "visible". <a href="#custtest">See description of <code>&lt;customTest&gt;</code> 
  above</a>. The SMIL specification chose to make "hidden" the default value 
  so it is critical that the <code>override="visible"</code> attribute 
  always be present when the <code>customTest</code> element is used.</p>

<p id="para_113">When a user navigates to a skippable element that has been turned off, the player must render the content of that element.</p>

<p id="para_114">Section 8.5, "<a href="#NCXWorks">How the NCX Works</a>," describes how information on skippable structures can be gathered in the NCX for efficient presentation to the user.</p> 

<h3 id="h3_57">7.4.4 <a name="SMILDist">Packaging Files across Several Media Units</a></h3>
<h3 id="h3_58">(This section is normative.)</h3>

<p id="para_115">When a DTB spans several media units (e.g., CD-ROM
discs), all files required to render any given SMIL file must be
present on the same media unit as that SMIL file. This requirement
ensures that players need only track the location of SMIL files in
order to provide a complete DTB presentation.</p>

<h3 id="h3_59">7.4.5 <a name="SMILLinks">Links</a></h3>
<h3 id="h3_60">(This section is normative.)</h3>

<p id="para_116">If links (i.e., <code>&lt;a&gt;</code> tags with <code>href</code> 
  attributes) are present in the textual content file of a DTB, they must also 
  be included in the corresponding SMIL file(s). Related links in textual content 
  and SMIL files must point to the same information in the textual content and 
  audio files, when audio is present. The default behavior of a link is to be 
  active for at least the duration of the media object it contains. Players may 
  establish other behaviors (e.g., maintaining links in the active state for a 
  preset period of time -- possibly modifiable by the user -- or until the next link 
  is encountered).</p>

<h3 id="h3_61">7.4.6 <a name="Layout">Layout Syntax</a></h3>
<h3 id="h3_62">(This section is normative.)</h3>
<p id="para_117">This standard allows only SMIL 2.0 Basic Layout syntax (i.e., <a href="#CSS2">CSS2</a> 
  syntax and others are not permitted).</p>

<h3 id="h3_63">7.4.7 <a name="Par"></a>Content of &lt;par&gt;s</h3>
<h3 id="h3_64">(This section is normative.)</h3>

<p id="para_118">Each <code>par</code> can contain no more than one each of <code>text</code>, <code>audio</code>, 
  <code>image</code>, and <code>seq</code>. See section 7.4.10, "<a href="#T-O">Text-Only 
  DTBs</a>" for further discussion of this issue.</p> 

<p id="para_119">When both textual content and audio files are present, <code>text</code> and <code>audio</code> objects within the same <code>par</code> must both represent the same body of material (e.g., the same paragraph).</p>

<p id="para_120">Because of resource limitations on portable DTB
players, SMIL presentations must not be created such that multiple
audio media objects are rendered simultaneously. Reading systems are
not required to support simultaneous rendering of multiple audio files.
</p>

<h3 id="h3_67">7.4.8 <a name="Notes">Notes and Annotations in SMIL</a></h3>
<h3 id="h3_68">(This section is normative.)</h3>

<p id="para_122">It is strongly recommended that links (<code>&lt;a&gt;</code> tags) be applied 
  to media objects (normally <code>audio</code>) for all <code>noteref</code>s 
  and <code>annoref</code>s, with the corresponding <code>note</code>s and <code>annotation</code>s 
  as the targets. The presence of the links will enable key player functionality, 
  such as easy access to <code>note</code>s when <code>noteref</code>s are turned 
  on and <code>note</code>s turned off.</p>

<p id="para_123">It is recommended that <code>noteref</code>s and <code>note</code>s be implemented 
  in SMIL such that the default, linear presentation (on a simple player) of the 
  <code>noteref</code>s and <code>note</code>s is in the order and location appropriate 
  to the producing agency's policy for rendering <code>note</code> references 
  and <code>note</code>s.</p>

<h3 id="h3_69">7.4.9 <a name="Images">Images in SMIL</a></h3>
<h3 id="h3_70">(This section is informative.)</h3>

<p id="para_124">Duration of image display will be equal to that of the longest media object or time container contained within the same <code>par</code>.   Example 7.2 below shows a sample implementation of SMIL for an image and its associated caption and producer's note.
</p>

<h3 id="h3_71">7.4.10 <a name="T-O">Text-Only DTBs</a></h3>
<h3 id="h3_72">(This section is normative.)</h3>

<p id="para_125">Text-only DTBs must include SMIL files. This will
ensure user access to the many features enabled by SMIL. As mentioned
above, it is strongly recommended that the SMIL file(s) have a level of
granularity matching that of the textual content file. </p>

<p id="para_126">In a DTB that contains no audio material, the duration of <code>text</code> 
  media objects is controlled either by the user (i.e., the player renders the 
  next <code>text</code> object on command) or the player (e.g., a text-to-speech 
  engine or a pacing algorithm for a large-print or Braille display triggers the 
  next media object).</p>

<h2 id="h2_28">7.5 <a name="SMILMeta">SMIL Metadata</a></h2>
<h3 id="h3_73">(This section is normative.)</h3>

<p id="para_127">Metadata is included in the <code>&lt;head&gt;</code> element using the <code>&lt;meta&gt;</code> 
  tag. Content producers may introduce other metadata besides those listed below, 
  if needed. However, metadata names shall not begin with the  prefix "dtb:" unless defined 
in this standard. 
 
  Players must not fail when encountering unknown metadata but must, at a minimum, 
  ignore it. </p>

<ul id="ul_86">
  <li id="li_338">dtb:generator 
    <ul id="ul_87">
      <li id="li_339">Content: Name and version of software that generated the SMIL file.</li>
      <li id="li_340">Occurrence: Optional - recommended.</li>
    </ul>
  </li>
  <li id="li_341">dtb:totalElapsedTime 
    <ul id="ul_88">
      <li id="li_342">Content: The total time elapsed up to the beginning of this SMIL file. 
        Clock Values from SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL].</a> 
        See section 7.7, "<a href="#Clock">Clock Values</a>."</li>
      <li id="li_343">Occurrence: Required</li>
      <li id="li_344">Comments: Set to zero for DTBs of type textNCX.</li>
    </ul>
  </li>
  <li id="li_345">dtb:uid 
    <ul id="ul_89">
      <li id="li_346">Content: The globally unique identifier for the DTB. The value is the 
        same as that of the dc:identifier element referenced by the package file's 
        unique-identifier element. See section 3.1, "<a href="#PkgId">Package 
        Identity</a>."</li>
      <li id="li_347">Occurrence: Required</li>
    </ul>
  <br><br></li>
</ul>


<h2 id="h2_29">7.6 <a name="SMILEx">Examples</a></h2>
<h3 id="h3_74">(This section is informative.)</h3>

<p id="para_128">The following example illustrates the use of <code>head</code> and its contents. 
  Three instances of the <code>meta</code> element contain the unique id of the DTB, the 
  tool that generated this SMIL file, and the elapsed time to the start of the 
  file. The visual display location of any text elements with <code>region="text"</code> 
  or <code>region="notes"</code> is specified by the <code>region</code> elements 
  within <code>layout</code>. The text region occupies most of the screen (the 
  bottom edge of the "text" region is 15% from the bottom of the overall rendering 
  window), while the notes regions occupies only the bottom 15%. The <code>customAttributes</code> 
  indicate that any time containers with <code>customTest="pagenum"</code> will 
  be skipped by default, while time containers with <code>customTest="notes"</code> or <code>customTest="prodnotes"</code> will automatically be played. If the user interface of the playback device supports 
  it, the user can change these settings.</p> 
<p id="para_129">Example 7.1:</p>

<pre><samp id="smp_12">
&lt;?xml version="1.0"  encoding="UTF-8"?&gt; 
&lt;!DOCTYPE smil SYSTEM "dtbsmil110.dtd"&gt;
&lt;smil&gt;
       
    &lt;head&gt;
       &lt;meta name="dtb:uid" content="dk-dbb-4z0065" /&gt;
          &lt;meta name="dtb:generator" content="smilgen2.4" /&gt;
          &lt;meta  name="dtb:totalElapsedTime" content="01:33:56.233" /&gt;
       &lt;layout&gt;
          &lt;region  id="text" top="0%" left="0%" right="0%" bottom="15%"/&gt;
          &lt;region id="notes" top="85%" left="0%" right="0%" bottom="0%"/&gt;
       &lt;/layout&gt;
       &lt;customAttributes&gt;
          &lt;customTest id="pagenum" defaultState="false" override="visible"/&gt;
          &lt;customTest id="note" defaultState="true" override="visible"/&gt;
          &lt;customTest id="prodnote" defaultState="true" override="visible"/&gt;
       &lt;/customAttributes&gt;
    &lt;/head&gt;
    &lt;body&gt;
     ...
    &lt;/body&gt;

&lt;/smil&gt;
</samp></pre>


<p id="para_130">Example 7.2 shows the use of SMIL elements within <code>body</code>. The initial 
  <code>seq</code> includes the attribute <code>"dur" </code>which specifies 
  that the entire SMIL file is one hour, three minutes, 24.9 seconds long. Each 
  <code>par</code> (a page number, a heading, two paragraphs, and a figure are 
  shown) includes the segment of text, the image (if applicable), and the corresponding 
  audio clip that are to be rendered simultaneously. The figure falls between 
  the two paragraphs.</p>

<p id="para_131">The image file is presented in parallel with text and
audio versions of the figure caption and a producer's note describing
the figure. The entire group is wrapped in a <code>par</code>, with the image file rendered simultaneously with a sequence of two <code>par</code>s.</p>

<p id="para_132">The <code>par</code> for the second paragraph includes a link that "wraps" the <code>audio</code>  element.  
</p>
<p id="para_133">Example 7.2:</p>


<pre><samp id="smp_13">&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;!DOCTYPE smil SYSTEM "dtbsmil110.dtd"&gt; 
&lt;smil&gt; 

&lt;head&gt;
...
&lt;/head&gt; 
&lt;body&gt;
   &lt;seq id="baseseq" dur="1:03:24.9"&gt;
      &lt;par id="p1" customTest="pagenum"&gt;
         &lt;text region="text" src="rs.xml#pg_1" /&gt;
         &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:00" 
         clipEnd="00:00:00.91" /&gt;
      &lt;/par&gt;

      &lt;par id="h1"&gt;
         &lt;text region="text" src="rs.xml#h1_1" /&gt;
	 &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:01.62" 
	 clipEnd="00:00:02.53" /&gt;
      &lt;/par&gt;

      &lt;par id="para1"&gt;
         &lt;text region="text" src="rs.xml#para_1" /&gt;
         &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:03.51" 
         clipEnd="00:01:45.36" /&gt;
      &lt;/par&gt;

      &lt;par id="img1"&gt;
	 &lt;img region="image" src="fig1.png" /&gt;
	 &lt;seq id="icap1"&gt; 
	    &lt;par id="cap1"&gt; 
	       &lt;text region="caption" src="rs.xml#caption_1" /&gt; 
	       &lt;audio src="rs_fwdx.mp3" clipBegin="00:01:45.98" 
	       clipEnd="00:01:52.66" /&gt; 
	    &lt;/par&gt;

            &lt;par id="pnote1" customTest="prodnote"&gt;
		&lt;text region="text" src="rs.xml#prodnote_1" /&gt;
		&lt;audio src="rs_fwdx.mp3" clipBegin="00:01:53.08" 
		clipEnd="00:02:55.34" /&gt; 
	    &lt;/par&gt; 
          &lt;/seq&gt;
      &lt;/par&gt;

      &lt;par id="para2"&gt; 
         &lt;text region="text" src="rs.xml#para_2" /&gt; 
	 &lt;a href="rs12.smil#h2_9"&gt;
	    &lt;audio src="rs_fwdx.mp3" clipBegin="00:02:56.21" 
	    clipEnd="00:04:03.75" /&gt;
	 &lt;/a&gt;
      &lt;/par&gt;
	...
   &lt;/seq&gt;
&lt;/body&gt;
&lt;/smil&gt;

</samp></pre>


<p id="para_134">Notes or sidebars containing multiple paragraphs will be represented 
  as a series of <code>pars</code> wrapped in a <code>seq</code>, so that the user can skip the entire 
  sequence. The first part of Example 7.3 illustrates this situation. In addition, 
  note references occurring in the middle of a paragraph will require this special 
  syntax so that the playback device can properly render the content with or without 
  either the note reference or the note.</p>

<p id="para_135">In the second half of Example 7.3, the first <code>par</code> contains the portion of paragraph 120 preceding a note reference (identified with a <code>span</code> tag in the textual content file).  The second <code>par</code> holds the note reference itself (i.e., "footnote 1").  The third <code>par</code> contains the contents of footnote 1 and the last holds the remainder of paragraph 120.  Note that the <code>seq</code> and each <code>par</code> contain a unique <code>id</code>.  The <code>region</code> attribute on <code>text</code> will control whether each segment is displayed in the text or notes region.</p>
<p id="para_136">Example 7.3:</p>
<pre><samp id="smp_14">... 
&lt;body&gt; 

   &lt;seq id="baseseq" dur="02:14:34.156"&gt; 
      ... (a series of pars)
      &lt;seq id="sidebar_1" customTest="sidebar"&gt; 
         &lt;par id="para_9"&gt; 
            &lt;text region="text" src="rs.xml#para_9" /&gt; 
            &lt;audio src="rs_fwdx.mp3" clipBegin="02:02.711" 
            clipEnd="02:14.678" /&gt; 
         &lt;/par&gt;

         &lt;par id="para_10"&gt;
            &lt;text region="text" src="rs.xml#para_10" /&gt; 
            &lt;audio src="rs_fwdx.mp3" clipBegin="02:15.545" 
            clipEnd="02:44.612" /&gt; 
         &lt;/par&gt; 
      &lt;/seq&gt;
      ... (a series of pars) 
      &lt;seq id="para_120"&gt; 
         &lt;par id="span_3"&gt; 
            &lt;text region="text" src="rs.xml#span_3" /&gt; 
            &lt;audio src="rs_fwdx.mp3" clipBegin="46:58.744" 
            clipEnd="47:21.659" /&gt; 
         &lt;/par&gt; 

         &lt;par id="nref_1" customTest="noteref"&gt; 
            &lt;text region="text" src="rs.xml#nref_1" /&gt;
            &lt;audio src="rs_fwdx.mp3" clipBegin="47:22.610" 
            clipEnd="47:23.555" /&gt; 
         &lt;/par&gt;

         &lt;par id="ftn_1" customTest="note" class="note"&gt; 
            &lt;text region="notes" src="rs.xml#ftn_1" /&gt; 
            &lt;audio src="rs_notes.mp3" clipBegin="00:00.091" 
            clipEnd="00:34.754" /&gt; 
         &lt;/par&gt; 

         &lt;par id="span_4"&gt; 
            &lt;text region="text" src="rs.xml#span_4" /&gt; 
            &lt;audio src="rs_fwdx.mp3" clipBegin="47:24.057" 
            clipEnd="47:582" /&gt; 
         &lt;/par&gt;
      &lt;/seq&gt; 
      ... (a series of pars)

   &lt;/seq&gt;

&lt;/body&gt;
... </samp></pre>
  
  <h2 id="h2_30">7.7 <a name="Clock">Clock Values</a></h2>
  <h3 id="h3_75">(This section is normative.)</h3>
  <p id="para_137">The SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL"> [SMIL]</a> describes several different 
    formats in which "clock values" (timing) may be represented. See <em>Clock 
    Values</em>  in that module. Playback 
    devices must support all of these formats. The three formats are:</p>
  <p id="para_138">Full-clock-val (hours, minutes, seconds, and fractions of seconds): 3:22:55.91</p>
  <p id="para_139">Partial-clock-val (minutes, seconds, and fractions of seconds): 43:15.044</p>
  <p id="para_140">Timecount-val (one or more digits, plus an optional fraction and unit of 
    measurement -- h=hours, min=minutes, s=seconds, ms=milliseconds): 34.6s or 
    356ms or 58.2. (For Timecount values, if no unit is shown, the default is 
    "s" for seconds.)</p>
  <p id="para_141">If either of the first two formats is used, leading zeroes must be added 
    to single-digit values for minutes and seconds to ensure mm:ss format.</p>
  <p id="para_142n"><a href="#toc">Contents</a></p> 
 
  <h1 id="h1_11">8. <a name="NCX">Navigation Control File (NCX)</a></h1>
  <h2 id="h2_31">8.1 <a name="NCXIntro">Introduction</a></h2>
  <h3 id="h3_76">(This section is informative.)</h3>
  
<p id="para_142">The Navigation Control file for <a href="#XML">XML</a> applications (NCX) exposes 
  the hierarchical structure of a DTB to allow the user to navigate through it. 
  The NCX is similar to a table of contents in that it enables the reader to jump 
  directly to any of the major structural elements of the document, i.e. part, 
  chapter, or section, but it will often contain more elements of the document 
  than the publisher chooses to include in the original print table of contents. 
  It can be visualized as a collapsible tree familiar to PC users. Its development 
  was motivated by the need to provide quick access to the main structural elements 
  of the document without the need to parse the entire marked-up text file, which 
  in many cases may not be present at all. Other elements such as pages, footnotes, 
  figures, tables, etc. can be included in separate, nonhierarchical lists and 
  can be accessed by the user as well. </p>
  <p id="para_143">It is important to emphasize that these navigation features are intended 
    as a convenience for users who want them, and not a burden to those who do 
    not. The alternative of a simple linear playback of the book will be available 
    for those users not requiring the navigation features of the NCX. </p>
  <h3 id="h3_77">8.2 <a name="NCXReq">Key NCX Requirements</a></h3>
  <h3 id="h3_78">(This section is normative.)</h3>
  <p id="para_144">Every DTB must contain exactly one NCX file. The NCX file must be a valid 
    <a href="#XML">XML</a> document conforming to ncx110.dtd (see Appendix 
    3, "<a href="#NCXDTD">NCX DTD</a>") and comply with the additional normative requirements of 
    section 8.4. The <code>version</code> attribute on the <code>ncx</code> element 
    of the NCX file must be present and contain the value specified in the above-named 
    DTD. The NCX file itself must be named with the extension ".ncx". </p>
  <h2 id="h2_32">8.3 <a name="NCXElem">NCX Elements</a></h2>
  <h3 id="h3_79">(This section is informative.)</h3>
  <p id="para_145"> Brief descriptions of the NCX elements follow. Each includes the element 
    declaration extracted from the NCX DTD, along with descriptions of any applicable 
    attributes. </p>
  <ul id="ul_90">
    <li id="li_348"> 
      <!-- ncx -->
      <b>&lt;ncx&gt;</b><br>
      <b>Description:</b> The root element.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT ncx (head, docTitle, docAuthor*, 
      navMap, navList*)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;ncx</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/ncx&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_91">
        <li id="li_349"><b>version (CDATA, FIXED) "1.1.0":</b> Specifies the version of the 
          DTD used in this instance. Three digits with decimal point separators; 
          digits one, two, and three will be updated to reflect major, moderate, 
          and minor changes to the DTD, respectively. This attribute must be present, 
          but parsers will not enforce its presence, just its value.</li>
        <li id="li_350"> <b>lang (NMTOKEN, IMPLIED):</b> Specifies the <a href="#RFC1766">[RFC 1766]</a> language code 
          of the language of the document. </li>
        <li id="li_351"> <b>dir ((ltr|rtl), IMPLIED):</b> The dir attribute specifies the 
          direction of the text, where ltr is left to right and rtl is right to 
          left. </li>
      </ul>
      <b>Valid inside:</b> None<br>
      <br>
    </li>
    <!-- head -->
    <li id="li_352"> <b>&lt;head&gt;</b><br>
      <b>Description:</b> Contains smilCustomTest data and metadata.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT head (smilCustomTest | meta)+&gt;</code><br>
      <b>Syntax:</b> <code>&lt;head&gt;</code>...content...<code>&lt;/head&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;ncx&gt;</code><br>
      <br>
    </li>
    <!-- smilCustomTest -->
    <li id="li_353"> <b>&lt;smilCustomTest&gt;</b><br>
      <b>Description:</b> Duplicates customTest data found in SMIL files. Each 
      unique customTest element that appears in one or more SMIL files will have 
      its attributes duplicated in a smilCustomTest element in the NCX. The NCX 
      thus gathers in one place all customTest elements used in the SMIL files, 
      for presentation to the user. <br>
      <b>Declaration:</b> <code>&lt;!ELEMENT smilCustomTest EMPTY&gt; </code><br>
      <b>Syntax:</b> <code>&lt;smilCustomTest</code>...attributes...<code>/&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_92">
        <li id="li_354"><b>id (ID, REQUIRED)</b> </li>
        <li id="li_355"><b>defaultState (true | false) 'false'</b> </li>
        <li id="li_356"><b>override (visible | hidden) 'hidden'</b> </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;head&gt;</code><br>
      <br>
    </li>
    <!-- meta -->
    <li id="li_357"> <b>&lt;meta&gt;</b><br>
      <b>Description:</b> Contains metadata applicable to the NCX file.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT meta EMPTY&gt;</code><br>
      <b>Syntax:</b> <code>&lt;meta</code> ...attributes... <code>/&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_93">
        <li id="li_358"><b>name (CDATA, REQUIRED)</b> </li>
        <li id="li_359"><b>content (CDATA, REQUIRED)</b> </li>
        <li id="li_360"><b>scheme (CDATA, IMPLIED)</b> </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;head&gt;</code><br>
      <b>Comments:</b> Required and optional metadata are listed in section 8.4.1.<br>
      <br>
    </li>
    <!-- docTitle -->
    <li id="li_361"> <b>&lt;docTitle&gt;</b><br>
      <b>Description:</b> The title of the document. Contains text and an optional 
      pointer to an audio rendering of the title for presentation to the reader. 
      <br>
      <b>Declaration:</b> <code>&lt;!ELEMENT docTitle (text, audio?)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;docTitle</code> ...attributes... <code>&gt; </code>...content... 
      <code>&lt;/docTitle&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_94">
        <li id="li_362"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;ncx&gt;</code><br>
      <br>
    </li>
    <!-- docAuthor -->
    <li id="li_363"> <b>&lt;docAuthor&gt;</b><br>
      <b>Description:</b> The author of the document. Contains text and an optional 
      pointer to an audio rendering of the author for presentation to the reader. 
      <br>
      <b>Declaration:</b> <code>&lt;!ELEMENT docAuthor (text, audio?)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;docAuthor</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/docAuthor&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_95">
        <li id="li_364"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;ncx&gt;</code><br>
      <br>
    </li>
    <!-- text -->
    <li id="li_365"> <b>&lt;text&gt;</b><br>
      <b>Description:</b> Contains the text of the heading or title referenced 
      by the containing element.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT text (#PCDATA)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;text</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/text&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_96">
        <li id="li_366"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
        <li id="li_367"> <b>class (CDATA, IMPLIED):</b> Optional descriptor of this instance 
          of the element. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navLabel&gt;</code>, <code>&lt;docTitle&gt;</code>, 
      <code>&lt;docAuthor&gt;</code><br>
      <br>
    </li>
    <!-- audio -->
    <li id="li_368"><b>&lt;audio&gt;</b><br>
      <b>Description:</b> Contains a pointer to an audio version of the heading 
      or title referenced by the containing element.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT audio EMPTY&gt;</code><br>
      <b>Syntax:</b> <code>&lt;audio</code>...attributes... <code>/&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_97">
        <li id="li_369"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
        <li id="li_370"> <b>class (CDATA, IMPLIED):</b> Optional descriptor of this instance 
          of the element. </li>
        <li id="li_371"> <b>src (CDATA, REQUIRED):</b> The URI of the audio media object. 
          Ordinarily, this will point to an audio file containing the content 
          of the DTB. However, when a DTB spans several media units, the URI can 
          point to a file containing a clip of the heading or title referenced. 
          See section 8.4.2, "<a href="#NCXSpan">DTBs Spanning Multiple Media 
          Units.</a>" </li>
        <li id="li_372"> <b>clipBegin (%SMILtimeVal, IMPLIED): </b> The clipBegin attribute 
          specifies the beginning of a segment of a continuous media object as 
          a time offset from the start of the media object. The value syntax is 
          defined by the SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL].</a> 
          See section 7.7, "<a href="#Clock">Clock Values."</a> </li>
        <li id="li_373"> <b>clipEnd (%SMILtimeVal, IMPLIED): </b> The clipEnd attribute specifies 
          the end of a segment of a continuous media object as a time offset from 
          the start of the media object. It uses the same attribute value syntax 
          as clipBegin. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navLabel&gt;</code>, <code>&lt;docTitle&gt;</code>, 
      <code>&lt;docAuthor&gt;</code><br>
      <br>
    </li>
    <!-- navMap -->
    <li id="li_374"><b>&lt;navMap&gt;</b><br>
      <b>Description:</b> Container for primary navigation information.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT navMap (navLabel*, navPoint+)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;navMap</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/navMap&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_98">
        <li id="li_375"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;ncx&gt;</code><br>
      <b>Comments:</b> The <code>navMap</code> element contains the primary navigation 
      information, pointing to each of the major structural elements of the document. 
      Secondary navigation elements, such as page numbers, are not included 
      in <code>navMap</code>, but are contained in <code>navList</code>s.<br>
      <br>
    </li>
    <!-- navPoint -->
    <li id="li_376"> <b>&lt;navPoint&gt;</b><br>
      <b>Description:</b> Contains description(s) of target and pointer to content. 
      <br>
      <b>Declaration:</b> <code>&lt;!ELEMENT navPoint (navLabel+, content, navPoint*)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;navPoint</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/navPoint&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_99">
        <li id="li_377"> <b>id (ID, REQUIRED):</b> Optional unique identifier. </li>
        <li id="li_378"> <b>onFocus (%script, IMPLIED):</b> Can be used by player to provide 
          location feedback to the user, e.g., highlight the current navPoint 
          on a visual display of the NCX. </li>
        <li id="li_379"> <b>onBlur (%script, IMPLIED):</b> Can be used by player to provide 
          location feedback to the user, e.g., remove highlighting when focus 
          has shifted to another navPoint on a visual display. </li>
        <li id="li_380"><b>class (CDATA, IMPLIED):</b>
Describes the kind of structural object represented by this navPoint,
e.g. chapter, section; used to select a presentation from the resource
file. Player will locate the resource whose <code>type</code> attribute equals "ncx", whose <code>elementRef</code> attribute value is navPoint, and whose <code>classRef</code> references the class of the current <code>navPoint</code>.</li>
        <li id="li_381"><b>value (CDATA, IMPLIED):</b> An integer representing the text content 
          of a numeric label, e.g. a page number. Useful for providing integer 
          values for non-Arabic numbers to simplify sorting. </li>
        <li id="li_382"><b>pageRef (IDREF, IMPLIED):</b> The id of the navTarget representing 
          the page on which this navPoint begins. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navMap&gt;</code>, <code>&lt;navPoint&gt;</code><br>
      <b>Comments:</b> The <code>navPoint</code> element contains one or more 
      <code>navLabel</code>s, representing the referenced part of the document, 
      e.g. chapter title or section number, along with a pointer to <code>content</code>. 
      <code>navPoint</code>s may be nested to represent the hierarchical structure 
      of a document.<br>
      <br>
    </li>
    <!-- navLabel -->
    <li id="li_383"> <b>&lt;navLabel&gt;</b><br>
      <b>Description:</b> Contains a description of a given <code>&lt;navMap&gt;</code>, 
      <code>&lt;navPoint&gt;</code>, <code>&lt;navList&gt;</code>, or <code>&lt;navTarget&gt;</code> 
      in various media for presentation to the user. Can be repeated so descriptions 
      can be provided in multiple languages.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT navLabel (((text, audio?) | audio), img?)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;navLabel</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/navLabel&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_100">
        <li id="li_384"> <b>lang (NMTOKEN, IMPLIED):</b> Specifies the <a href="#RFC1766">[RFC 1766]</a> language code 
          of the language of the heading. Can be used to control presentation 
          of headings in a specified language. </li>
        <li id="li_385"> <b>dir ((rtl|ltr), IMPLIED):</b> Specifies the direction of the text, 
          where ltr is left to right and rtl is right to left. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navMap&gt;</code>, <code>&lt;navPoint&gt;</code>, 
      <code>&lt;navList&gt;</code>, <code>&lt;navTarget&gt;</code><br>
      <br>
    </li>
    <!-- img -->
    <li id="li_386"><b>&lt;img&gt;</b><br>
      <b>Description:</b> Information about the location of an image file.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT img EMPTY&gt;</code><br>
      <b>Syntax:</b> <code>&lt;img</code>...attributes... <code>/&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_101">
        <li id="li_387"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
        <li id="li_388"> <b>class (CDATA, IMPLIED):</b> Optional descriptor of this instance 
          of the element. </li>
        <li id="li_389"> <b>src (CDATA, REQUIRED):</b> The URI of the media object. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navLabel&gt;</code><br>
      <br>
    </li>
    <!-- content -->
    <li id="li_390"> <b>&lt;content&gt;</b><br>
      <b>Description:</b> Pointer into SMIL file to beginning of the item referenced 
      by the <code>navPoint</code> or <code>navTarget</code>.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT content EMPTY&gt;</code><br>
      <b>Syntax:</b><code> &lt;content</code>...attributes... <code>/&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_102">
        <li id="li_391"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
        <li id="li_392"> <b>src (CDATA, REQUIRED):</b> The URI of the SMIL time container 
          corresponding to the start of the referenced part of the document. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navPoint&gt;</code>, <code>&lt;navTarget&gt;</code><br>
      <br>
    </li>
    <!-- navList -->
    <li id="li_393"> <b>&lt;navList&gt;</b><br>
      <b>Description:</b> Container for secondary navigational information.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT navList (navLabel+, navTarget+)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;navList</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/navList&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_103">
        <li id="li_394"> <b>id (ID, IMPLIED):</b> Optional unique identifier. </li>
        <li id="li_395"> <b>class (CDATA, IMPLIED):</b> The kind of objects represented by 
          this <code>navList</code>, described by their <code>dtbook</code> element 
          name, e.g. <code>pagenum</code>, <code>note</code>. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;ncx&gt;</code><br>
      <b>Comments:</b> The <code>navList</code> element contains secondary navigation 
      information within <code>navTarget</code>s. It is similar to <code>navMap</code> 
      except <code>navTarget</code>s may not nest, whereas <code>navPoint</code>s 
      can. Used for lists of elements such as page numbers, footnotes, figures, 
      tables, etc. that the user may want to access directly but would clutter 
      up the primary navigation information.<br>
      <br>
    </li>
    <!-- navTarget -->
    <li id="li_396"> <b>&lt;navTarget&gt;</b><br>
      <b>Description:</b> Container for text, audio, image, and content elements 
      containing secondary navigational information.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT navTarget (navLabel+, content)&gt;</code><br>
      <b>Syntax:</b><code> &lt;navTarget</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/navTarget&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_104">
        <li id="li_397"> <b>id (ID, REQUIRED):</b> Unique identifier matching the id attribute 
          of the corresponding element in the text and/or SMIL files. </li>
        <li id="li_398"> <b>onFocus (CDATA, IMPLIED):</b> Can be used by player to provide 
          location feedback to the user, e.g., highlight the current <code>navTarget</code> 
          on a visual display of the NCX. </li>
        <li id="li_399"> <b>onBlur (CDATA, IMPLIED):</b> Can be used by player to provide 
          location feedback to the user, e.g., remove highlighting when focus 
          has shifted to another <code>navTarget</code> on a visual display. </li>
        <li id="li_400"><b>value (CDATA, IMPLIED):</b> An integer representing the text content 
          of a numeric label, e.g. a page number. Useful for providing integer 
          values for non-Arabic numbers to simplify sorting. </li>
        <li id="li_401"><b>class (CDATA, IMPLIED):</b> Describes the kind of object represented 
          by this <code>navTarget</code>, described by its DTBook element name, e.g., <code>pagenum</code>, <code>note</code>. It may be used to select a presentation from the resource file.   Player will locate the resource whose <code>type</code> attribute equals "ncx", whose <code>elementRef</code> attribute value is navTarget, and whose <code>classRef</code> references the class of the current <code>navTarget</code>.</li>
        <li id="li_402"> <b>mapRef (IDREF, REQUIRED):</b> Pointer to the innermost <code>navPoint</code> 
          that contains this <code>navTarget</code>. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;navList&gt;</code><br>
      <b>Comments:</b> The <code>navTarget</code> element contains one or more 
      <code>navLabel</code>s representing the referenced part of the document, 
      e.g., a page or footnote, along with a pointer to <code>content</code>. 
      The <code>mapRef</code> attribute is used to synchronize the <code>navList</code> 
      and <code>navMap</code>.<br>
      <br>
    </li>
  </ul>
  <h2 id="h2_33">8.4 <a name="FileReq">Other File Requirements</a> </h2>
  <p id="para_146">This section collects other normative requirements for the NCX file that 
    cannot be enforced by the DTD. </p>
  <h3 id="h3_80">8.4.1 <a name="NavMeta">Navigation Metadata</a></h3>
  <h3 id="h3_81">(This section is normative.)</h3>
  <p id="para_147">Metadata shall be included in the <code>head</code> element of the NCX using 
    the <code>meta</code>
tag. Content producers may introduce other metadata besides those
listed below, if needed. However, metadata names shall not begin with
the prefix "dtb:" unless defined in this standard. Players must not
fail when encountering unknown metadata but must, at a minimum, ignore
it. </p>
  <ul id="ul_105">
    <li id="li_403">dtb:uid 
      <ul id="ul_106">
        
      <li id="li_404">Content: The globally unique identifier for the DTB. The value is the 
        same as that of the <code>dc:identifier</code> element referenced by the <code>unique-identifier</code> 
        attribute on the package file's <code>package</code> element. See section 
        3.1, "<a href="#PkgId">Package Identity</a>." </li>
        <li id="li_405">Occurrence: Required</li>
      </ul>
    </li>
    <li id="li_406">dtb:depth 
      <ul id="ul_107">
        <li id="li_407">Content: Positive integer indicating depth of structure of the DTB 
          as exposed by the NCX. </li>
        <li id="li_408">Occurrence: Required</li>
      </ul>
    </li>
    <li id="li_409">dtb:generator 
      <ul id="ul_108">
        <li id="li_410">Content: Name and version of software that generated the NCX. </li>
        <li id="li_411">Occurrence: Optional - recommended.</li>
      </ul>
    </li>
    <li id="li_412">dtb:maxPageNormal 
      <ul id="ul_109">
        <li id="li_413">Content: Non-negative integer indicating the content of the highest 
          "normal" <code>pagenum</code> in the DTB. </li>
        <li id="li_414">Occurrence: Required</li>
      </ul>
    </li>
    <li id="li_415">dtb:pageFront 
      <ul id="ul_110">
        <li id="li_416">Content: Non-negative integer indicating the number of "front" pages 
          in the DTB. </li>
        <li id="li_417">Occurrence: Required</li>
      </ul>
    </li>
    <li id="li_418">dtb:pageNormal 
      <ul id="ul_111">
        <li id="li_419">Content: Positive integer indicating the number of "normal" pages 
          in the DTB.</li>
        <li id="li_420">Occurrence: Required</li>
      </ul>
    </li>
    <li id="li_421">dtb:pageSpecial 
      <ul id="ul_112">
        <li id="li_422">Content: Non-negative integer indicating the number of "special" pages 
          in the DTB. </li>
        <li id="li_423">Occurrence: Required</li>
      </ul>
    </li>
  </ul>
  <h3 id="h3_82">8.4.2 <a name="NCXSpan">DTBs Spanning Multiple Media Units</a></h3>
  <h3 id="h3_83">(This section is normative.)</h3>
  <p id="para_148">When a DTB spans several distribution media (e.g., multiple CD-ROMs), the 
    full NCX along with all audio clips referenced by it must be included on 
    every media unit. This will ensure that the entire NCX will function properly 
    on each piece of media.</p>
  <h3 id="h3_84">8.4.3 <a name="NCXMapref">mapRef Attribute</a></h3>
  <h3 id="h3_85">(This section is normative.)</h3>
  <p id="para_149">The <code>mapRef</code> attribute on each <code>navTarget</code> must reference 
    the innermost <code>navPoint</code> that contains the element referenced by 
    the <code>navTarget</code>.</p>
  <h3 id="h3_86">8.4.4 <a name="NCXCustom">smilCustomTest Element</a></h3>
  <h3 id="h3_87">(This section is normative.)</h3>
  <p id="para_150">Each unique <code>customTest</code> element that appears in one or more SMIL 
    files must have its attributes duplicated in a <code>smilCustomTest</code> 
    element in the <code>head</code> of the NCX.</p>
  <h2 id="h2_34">8.5 <a name="NCXWorks">How the NCX Works</a></h2>
  <h3 id="h3_88">(This section is informative.)</h3>
  <p id="para_151">Upon opening a DTB, a player will ordinarily use the NCX <code>navMap</code> 
    to define the user's choices for navigation. The <code>navMap</code> contains 
    nested <code>navPoint</code>s that represent the major divisions of the document. 
    For example, the structure of the book whose NCX is shown in section 8.6, 
    Example 8.1, would look like this:</p>
  <ul id="ul_113">
    <li id="li_424">Foreword.........................................(Level 1) 
      <ul id="ul_114">
        <li id="li_425">History......................................(Level 2)</li>
        <li id="li_426">Development of Standards.........(Level 2) </li>
      </ul>
    </li>
    <li id="li_427">Standards.........................................(Level 1) 
      <ul id="ul_115">
        <li id="li_428">1 Core Services........................(Level 2) 
          <ul id="ul_116">
            <li id="li_429">1.1....................................(Level 3) 
              <ul id="ul_117">
                <li id="li_430">a................................(Level 4)</li>
              </ul>
            </li>
            <li id="li_431">1.2....................................(Level 3)</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  
  
<p id="para_152">Foreword and Standards are at the same level, in this case the highest level, 
  Level 1. The nesting of <code>navPoint</code>s allows the user to move directly 
  between these objects without passing through the lower level divisions in between. 
  From Foreword, the user can move to Level 2 and step to any of the sections 
  of Foreword. Since there is no Level 3 under Foreword, no smaller divisions 
  can be accessed from the NCX. Such smaller divisions may be present, but they 
  can only be reached through <a href="#d-locnav">local navigation</a>. The division 
  of Standards marked "a." is at Level 4, and can be reached by stepping through 
  "1 Core Services" and "1.1." </p>
  <p id="para_153">The user will also have the option of navigating to items that do not fit 
    easily into the hierarchical structure of a document, e.g. pages, footnotes, 
    or sidebars. This function is provided by <code>navList</code>s. Unlike <code>navMap</code>, 
    <code>navList</code>s do not represent the structure of the book by nesting 
    <code>navTarget</code>s. In Example 8.1, there are two <code>navList</code>s: 
    the first contains three <code>navTarget</code>s representing page numbers, 
    and the second contains three <code>navTarget</code>s representing notes. 
  </p>
  <p id="para_154">Each <code>navPoint</code> or <code>navTarget</code> provides navigation 
    information about one piece of the document, e.g. a chapter heading, section 
    number, page number, figure, etc. The <code>text</code> element contains the 
    actual heading, page number, etc. for visual or text-to-speech presentation; 
    the <code>audio</code> element uses SMIL 2.0 syntax to point to a clip containing 
    the audio presentation of the same information. One or both are used 
    to give location feedback to the user. The <code>content</code> element provides 
    a pointer to an ID within a SMIL file that marks the beginning of the referenced 
    portion of the DTB. </p>
  <p id="para_155">The required <code>mapRef</code> attribute of <code>navTarget</code> allows 
    synchronization of <code>navList</code>s with the <code>navMap</code>. <code>mapRef</code> 
    points to the innermost <code>navPoint</code> that contains the page number, note, or 
    other element referenced by the <code>navTarget</code>. Similarly, the <code>pageRef</code> 
    attribute of <code>navPoint</code> points to the <code>navTarget</code> representing 
    the page on which the <code>navPoint</code> begins.</p>
  <p id="para_156">This standard offers producers the ability to gather in the <code>head</code> 
    of the NCX information on all skippable elements from the SMIL file(s). (See 
    section 7.4.3, "<a href="#Skip">'Skippable' Structures</a>.") The <code>smilCustomTest</code> element 
    may be repeated to list all skippable elements and their defaultStates. Playback 
    systems may use this information to inform readers of their options and 
    current settings for skippable structures.</p>
  <h2 id="h2_35">8.6 <a name="NCXEx">Example</a></h2>
  <h3 id="h3_89">(This example is informative.)</h3>
  <p id="para_157">Example 8.1:</p> 
  
<pre><samp id="smp_15">
&lt;?xml version="1.0"  encoding="UTF-8"?&gt;
&lt;!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx v1.1.0//EN"
"http://www.loc.gov/nls/z3986/v100/ncx110.dtd"
&gt;
&lt;ncx version="1.1.0"&gt;
  &lt;head&gt;
    &lt;smilCustomTest id="pagenum" defaultState="false" 
    override="visible"/&gt;
    &lt;smilCustomTest id="note" defaultState="true" 
    override="visible"/&gt;
    &lt;meta name="dtb:uid" content="us-nls-00001"/&gt;
	&lt;meta name="dtb:depth" content="6"/&gt;
	&lt;meta name="dtb:generator" content="NLSv001"/&gt;
	&lt;meta name="dtb:pageNormal" content="47"/&gt;
	&lt;meta name="dtb:pageSpecial" content="0"/&gt;
	&lt;meta name="dtb:pageFront" content="5"/&gt;
	&lt;meta name="dtb:maxPageNormal" content="49"/&gt;
  &lt;/head&gt;
  &lt;docTitle&gt;
     &lt;text&gt;Revised Standards and Guidelines of Service 
     for the Library of Congress Network of Libraries for the 
     Blind and Physically Handicapped 1995&lt;/text&gt;
     &lt;audio src="rs_title.mp3" /&gt;
  &lt;/docTitle&gt;
  &lt;docAuthor&gt;
       &lt;text&gt;Association of Specialized and Cooperative 
       Library Agencies&lt;/text&gt;
       &lt;audio src="rs_title.mp3" /&gt;
  &lt;/docAuthor&gt;

  &lt;navMap&gt;
      &lt;navPoint class="chapter" id="lvl1_3" pageRef="p1"&gt;
        &lt;navLabel&gt;
          &lt;text&gt;Foreword&lt;/text&gt;
          &lt;audio src="rs_fwdx.mp3" clipBegin="00:01.5" 
          clipEnd="00:02.0" /&gt;
        &lt;/navLabel&gt;
        &lt;content src="sample.smil#h1_3" /&gt;
        &lt;navPoint class="section" id="lvl2_1" pageRef="p1"&gt;
          &lt;navLabel&gt;
            &lt;text&gt;History&lt;/text&gt;
            &lt;audio src="rs_fwdx.mp3" clipBegin="00:03.4" 
            clipEnd="00:03.9" /&gt;
          &lt;/navLabel&gt;
          &lt;content src="sample.smil#h2_1" /&gt;
        &lt;/navPoint&gt;
        &lt;navPoint class="section" id="lvl2_2" pageRef="p2"&gt;
          &lt;navLabel&gt;
            &lt;text&gt;Development of Standards&lt;/text&gt;
            &lt;audio src="rs_fwdx.mp3" clipBegin="00:56.3" 
            clipEnd="00:57.7" /&gt;
          &lt;/navLabel&gt;
          &lt;content src="sample.smil#h2_2" /&gt;
        &lt;/navPoint&gt;
      &lt;/navPoint&gt;
      &lt;navPoint class="chapter" id="lvl1_7" pageRef="p16"&gt;
        &lt;navLabel&gt;
          &lt;text&gt;Standards&lt;/text&gt;
          &lt;audio src="rs_stdx.mp3" clipBegin="00:01.3" 
          clipEnd="00:02.1" /&gt;
        &lt;/navLabel&gt;
        &lt;content src="sample.smil#h1_7" /&gt;
        &lt;navPoint class="section" id="lvl2_11" pageRef="p16"&gt;
          &lt;navLabel&gt;
            &lt;text&gt;1 Core Services&lt;/text&gt;
            &lt;audio src="rs_stdx.mp3" clipBegin="00:02.9" 
            clipEnd="00:04.9" /&gt;
          &lt;/navLabel&gt;
          &lt;content src="sample.smil#h2_10" /&gt;
          &lt;navPoint class="subsection" id="lvl3_1" pageRef="p16"&gt;
            &lt;navLabel&gt;
              &lt;text&gt;1.1&lt;/text&gt;
              &lt;audio src="rs_stdx.mp3" clipBegin="00:05.7" 
              clipEnd="00:06.7" /&gt;
            &lt;/navLabel&gt;
            &lt;content src="sample.smil#h3_1" /&gt;
            &lt;navPoint class="sub-subsection" id="lvl4_1" 
            pageRef="p16"&gt;
              &lt;navLabel&gt;
                &lt;text&gt;a.&lt;/text&gt;
                &lt;audio src="rs_stdx.mp3" clipBegin="00:18.7" 
                clipEnd="00:19.1" /&gt;
              &lt;/navLabel&gt;
              &lt;content src="sample.smil#h4_1" /&gt;
            &lt;/navPoint&gt;
          &lt;/navPoint&gt;
          &lt;navPoint class="subsection" id="lvl3_2" pageRef="p16"&gt;
            &lt;navLabel&gt;
              &lt;text&gt;1.2&lt;/text&gt;
              &lt;audio src="rs_stdx.mp3" clipBegin="00:50.5" 
              clipEnd="00:51.4" /&gt;
            &lt;/navLabel&gt;
            &lt;content src="sample.smil#h3_2" /&gt;
          &lt;/navPoint&gt;
        &lt;/navPoint&gt;
      &lt;/navPoint&gt;
  &lt;/navMap&gt;

  &lt;navList id="pages" class="pagenum"&gt;
    &lt;navLabel&gt;
        &lt;text&gt;Pages&lt;/text&gt;
        &lt;audio src="navlabels.mp3" clipBegin="00:00" 
        clipEnd="00:01.1" /&gt;
    &lt;/navLabel&gt;
    &lt;navTarget class="pagenum" id="p1" value="1" mapRef="lvl1_3"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;1&lt;/text&gt;
        &lt;audio src="rs_fwdx.mp3" clipBegin="00:00" 
        clipEnd="00:00.9" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#p1" /&gt;
    &lt;/navTarget&gt;
    &lt;navTarget class="pagenum" id="p2" value="2" mapRef="lvl2_2"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;2&lt;/text&gt;
        &lt;audio src="rs_fwdx.mp3" clipBegin="00:53.9" 
        clipEnd="00:54.6" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#p2" /&gt;
    &lt;/navTarget&gt;
    &lt;navTarget class="pagenum" id="p16" value="16" mapRef="lvl1_7"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;16&lt;/text&gt;
        &lt;audio src="rs_stdx.mp3" clipBegin="00:00.0" 
        clipEnd="00:00.7" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#p16" /&gt;
    &lt;/navTarget&gt;
  &lt;/navList&gt;

  &lt;navList id="notes" class="note"&gt;
    &lt;navLabel&gt;
        &lt;text&gt;Notes&lt;/text&gt;
        &lt;audio src="navlabels.mp3" clipBegin="00:01.5" 
        clipEnd="00:02.6" /&gt;
    &lt;/navLabel&gt;
    &lt;navTarget class="note" id="nref_1" mapRef="lvl2_2"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;1&lt;/text&gt;
        &lt;audio src="rs_fwdx.mp3" clipBegin="01:22.6" 
        clipEnd="01:23.5" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#nref_1" /&gt;
    &lt;/navTarget&gt;
    &lt;navTarget class="note" id="nref_2" mapRef="lvl2_2"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;2&lt;/text&gt;
        &lt;audio src="rs_fwdx.mp3" clipBegin="02:00.6" 
        clipEnd="02:01.4" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#nref_2" /&gt;
    &lt;/navTarget&gt;
    &lt;navTarget class="note" id="nref_3" mapRef="lvl2_2"&gt;
      &lt;navLabel&gt;
        &lt;text&gt;3&lt;/text&gt;
        &lt;audio src="rs_fwdx.mp3" clipBegin="03:13.3" 
        clipEnd="03:14.1" /&gt;
      &lt;/navLabel&gt;
      &lt;content src="sample.smil#nref_3" /&gt;
    &lt;/navTarget&gt;
  &lt;/navList&gt;
&lt;/ncx&gt;

</samp></pre>


  
  <p id="para_157n"><a href="#toc">Contents</a></p> 
  <h1 id="h1_12">9. <a name="Bkmk">Portable Bookmarks and Highlights</a></h1>
  <h2 id="h2_36">9.1 <a name="BkmkIntro">Introduction</a></h2>
  <h3 id="h3_90">(This section is normative.)</h3>
  <p id="para_158">This standard establishes a specific <a href="#XML">XML</a> file format to 
    support bookmark and highlight export and import. A playback system may allow 
    readers to set bookmarks and to highlight passages in a document, label the 
    marked sections with text or audio notes, and export the resulting collection 
    of marks and notes to other compliant playback devices.</p>
  <p id="para_159">This standard does not require that compliant players support all of the 
    functionality described above. In addition, this standard places no constraints 
    on a playback system's internal system for storing or manipulating the information 
    in the bookmark file. However, if a player supports the export of bookmarks 
    and highlights and their associated notes, the player must format the information 
    as a valid <a href="#XML">XML</a> file conforming to bookmark100.dtd, the 
    <a href="#BKMKDTD">DTD for Portable Bookmarks/Highlights</a> found in Appendix 
    4. Similarly, a player with bookmark/highlight import capabilities must correctly 
    process bookmarks and highlights and their associated notes that are formatted in 
    accordance with boomark100.dtd.</p>
  <p id="para_160">Export-capable players must be able to set bookmarks and highlight starts 
    and ends at any point in a DTB, whether based on the audio file or the textual 
    content file. That is, players shall not be limited to capturing location 
    information only at element boundaries. Offsets from element boundaries in 
    audio files shall be identified by <code>&lt;timeOffset&gt;</code> in fractional 
    seconds (Seconds = DIGIT+, Fraction = 3DIGIT). Offsets from element boundaries 
    in textual content files shall be identified by <code>&lt;charOffset&gt;</code>, 
    measured in characters, counting from the nearest previous tag with an id; 
    white space is normalized (collapsed to one character) and tags are not counted.</p>
  <p id="para_161">If a playback device supports user-recording of audio notes on bookmarks 
    or highlights that may be exported, the recording may be in any format supported 
    by the standard. When generating the filename for a note, the playback device 
    must generate a filename extension appropriate to the recording format. (See 
    section 5, "<a href="#Audio">Audio File Formats</a>.")</p>
  
<p id="para_162">Bookmark files (which may include highlights) shall be named, by default, with 
  the value from the bookmark element <code>uid</code> and the extension ".bmk". 
  For example: "se-tpb-14339.bmk". Players may allow users to apply 
  their own filenames to accommodate character limitations in other filesystems 
  and to avoid filename collisions. To accommodate user-supplied names, players 
  with bookmark import capabilities must be able to open bookmark files and read 
  the <code>uid</code>
value to match the correct bookmark file with a DTB. It is recommended
that if more than one bookmark file is present for a given DTB, players
allow the user to choose among them.</p>
  <p id="para_163">Players may implement a variety of systems for numbering or otherwise identifying 
    bookmarks or highlighted sections so the user can step through and choose 
    from a group of them. However, when preparing a bookmark file for export, 
    players must sort the bookmarks and highlights into document order and write 
    them in that order.</p>
  <h2 id="h2_37">9.2 <a name="BkmkElem">Bookmark/Highlight Elements</a></h2>
  <h3 id="h3_91">(This section is informative.)</h3>
  <p id="para_164">Brief descriptions of the Bookmark/Highlight elements follow. Each includes 
    the element declaration extracted from the <a href="#BKMKDTD">Bookmark DTD</a> 
    found in Appendix 4, along with descriptions of any applicable attributes.</p>
  <ul id="ul_118">
    <li id="li_432"><b>&lt;bookmarkSet&gt;</b><br>
      <b>Description:</b> The root element in the Bookmark/Highlight DTD. Contains 
      all data pertaining to bookmarks, highlights, and lastmarks for a given 
      DTB.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT bookmarkSet (title, uid, lastmark?, 
      (bookmark | hilite)*) &gt;</code><br>
      <b>Syntax:</b><code> &lt;bookmarkSet&gt;</code>...content...<code>&lt;/bookmarkSet&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> None<br>
      <br>
    </li>
    <li id="li_433"><b>&lt;title&gt;</b><br>
      <b>Description:</b> Contains the title, in text and in an optional audio 
      clip, of the DTB for which the bookmark set was created.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT title (text, audio?) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;title&gt;</code>...content...<code>&lt;/title&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;bookmarkSet&gt;</code><br>
      <b>Comments:</b> When bookmark sets are exported to other compliant playback 
      devices, the title will allow users to identify and manage them. <br>
      <br>
    </li>
    <li id="li_434"><b>&lt;text&gt;</b><br>
      <b>Description:</b> Text of title or note.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT text (#PCDATA)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;text&gt;</code>...content...<code>&lt;/text&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;title&gt;</code>, <code>&lt;note&gt; </code><br>
      <br>
    </li>
    <li id="li_435"><b>&lt;audio&gt;</b><br>
      <b>Description:</b> Audio clip of title of DTB or of user-recorded note, in 
      any format supported by standard. Title clip enables user to identify desired 
      bookmark file if several are present.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
      <b>Syntax:</b> <code>&lt;audio</code>...attributes... <code>/&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_119">
        <li id="li_436"><b>src (%uri, #REQUIRED):</b> The src attribute holds the URI of the 
          audio file that contains the referenced clip.</li>
        <li id="li_437"><b>clipBegin (CDATA, IMPLIED): </b> The <code>clipBegin</code> attribute 
          specifies the beginning of a segment of a continuous media object as 
          a time offset from the start of the media object. The value syntax is 
          defined by the SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL].</a> 
        </li>
        <li id="li_438"> <b>clipEnd (CDATA, IMPLIED): </b> The <code>clipEnd</code> attribute 
          specifies the end of a segment of a continuous media object as a time 
          offset from the start of the media object. It uses the same attribute 
          value syntax as <code>clipBegin</code>. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;title&gt;</code>, <code>&lt;note&gt;</code><br>
      <br>
    </li>
    <li id="li_439"><b>&lt;uid&gt;</b><br>
      <b>Description:</b> Globally unique identifier for the book, drawn from 
      the package file. Matches the dc:identifier referenced by the "unique-identifier" 
      attribute on the package file's <code>package</code> element. See section 
      3.1, "<a href="#PkgId">Package Identity</a>."<br>
      <b>Declaration:</b> 
      <code>&lt;!ELEMENT uid (#PCDATA) &gt;</code><br>
      <b>Syntax:</b><code>&lt;uid&gt;</code>...content...<code>&lt;/uid&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;bookmarkSet&gt; </code><br>
      <br>
    </li>
    <li id="li_440"><b>&lt;lastmark&gt;</b><br>
      <b>Description:</b> Location where user most recently ceased reading and where player will 
      resume play when restarted.  Location consists of a URI pointing to the id 
      attribute of the <code>&lt;par&gt;</code> or <code>&lt;seq&gt;</code> element 
      in the SMIL file that contains the lastmark, plus a time offset or character 
      offset to the exact point.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT lastmark (ncxRef, uri, (timeOffset 
      | charOffset)) &gt;</code><br>
      <b>Syntax:</b><code>&lt;lastmark&gt;</code>...content...<code>&lt;/lastmark&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;bookmarkSet&gt;</code><br>
      <b>Comments:</b> The <code>&lt;lastmark&gt;</code> is set automatically 
      by the playback device. <br>
      <br>
    </li>
    <li id="li_441"><b>&lt;ncxRef&gt;</b><br>
      <b>Description:</b> Captures current location in NCX (the id of the current 
      <code>navPoint</code>) at time lastmark, bookmark, or highlight is set. Ensures 
      that current location in NCX and SMIL are synchronized after moving to a 
      lastmark, bookmark, or highlight so that any global navigation commands 
      issued by the user will start from the current location.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT ncxRef (#PCDATA)&gt;</code><br>
      <b>Syntax:</b><code>&lt;ncxRef&gt;</code>...content...<code>&lt;/ncxRef&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;lastmark&gt;</code>, <code>&lt;bookmark&gt;</code>, 
      <code>&lt;hiliteStart&gt;</code>, <code>&lt;hiliteEnd&gt; </code><br>
      <br>
    </li>
    <li id="li_442"><b>&lt;uri&gt;</b><br>
      <b>Description:</b> Pointer to id of <code>&lt;par&gt;</code> or <code>&lt;seq&gt;</code> 
      in SMIL, to id in text-only file, or to audio file that contains the <code>&lt;lastmark&gt;</code>, 
      <code>&lt;bookmark&gt;</code>, <code>&lt;hiliteStart&gt;</code>, or <code>&lt;hiliteEnd&gt;</code>.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT uri (#PCDATA)&gt;</code><br>
      <b>Syntax:</b><code>&lt;uri&gt;</code>...content...<code>&lt;/uri&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;lastmark&gt;</code>, <code>&lt;bookmark&gt;</code>, 
      <code>&lt;hiliteStart&gt;</code>, <code>&lt;hiliteEnd&gt;</code><br>
      <b>Comments:</b> The <code>&lt;uri&gt;</code> points to the id of the <code>&lt;par&gt;</code> 
      or <code>&lt;seq&gt;</code> in the SMIL file that contains the <code>&lt;lastmark&gt;</code>, 
      <code>&lt;bookmark&gt;</code>, <code>&lt;hiliteStart&gt;</code>, or <code>&lt;hiliteEnd&gt;</code>. 
      <br>
      <br>
    </li>
    <li id="li_443"><b>&lt;timeOffset&gt;</b><br>
      <b>Description:</b> Exact position of <code>&lt;lastmark&gt;</code>, <code>&lt;bookmark&gt;</code>, 
      <code>&lt;hiliteStart&gt;</code>, or <code>&lt;hiliteEnd&gt;</code> in audio 
      file referenced (via the SMIL file) by the URI; in seconds, measured from 
      beginning of audio file.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT timeOffset (#PCDATA) &gt;</code><br>
      <b>Syntax:</b><code>&lt;timeOffset&gt;</code>...seconds.fraction...<code>&lt;/timeOffset&gt;</code><br>
      <ul id="ul_120">
        <li id="li_444">Seconds = DIGIT+</li>
        <li id="li_445">Fraction = 3DIGIT </li>
      </ul>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;lastmark&gt;</code>, <code>&lt;bookmark&gt;</code>, 
      <code>&lt;hiliteStart&gt;</code>, <code>&lt;hiliteEnd&gt;</code><br>
      <br>
      <br>
    </li>
    <li id="li_446"><b>&lt;charOffset&gt;</b><br>
      <b>Description:</b> Exact position of <code>bookmark</code>, <code>lastmark</code>, 
      <code>hiliteStart</code>, or <code>hiliteEnd</code> in textual content file 
      referenced by the URI.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT charOffset (#PCDATA) &gt;</code><br>
      <b>Syntax:</b><code>&lt;charOffset&gt;</code>...content...<code>&lt;/charOffset&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;lastmark&gt;</code>, <code>&lt;bookmark&gt;</code>, 
      <code>&lt;hiliteStart&gt;</code>, <code>&lt;hiliteEnd&gt;</code> <br>
      <br>
    </li>
    <li id="li_447"><b>&lt;bookmark&gt;</b><br>
      <b>Description:</b> Point in document marked by user for direct access in 
      future. Bookmark consists of location and optional note. Location consists 
      of a URI pointing to the id attribute of the <code>&lt;par&gt;</code> or 
      <code>&lt;seq&gt;</code> element in the SMIL file that contains the bookmark, 
      plus a time offset or character offset to the exact point.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT bookmark (ncxRef, uri, (timeOffset 
      | charOffset), note?) &gt; </code><br>
      <b>Syntax:</b><code>&lt;bookmark&gt;</code>...content...<code>&lt;/bookmark&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_121">
        <li id="li_448"><b>label (CDATA, #IMPLIED):</b> optional attribute for use in storing 
          identifying label to assist user in choosing among a set of bookmarks. 
          </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;bookmarkSet&gt; </code><br>
      <br>
    </li>
    <li id="li_449"><b>&lt;note&gt;</b><br>
      <b>Description:</b> Holds the user's label for or thoughts about a bookmark 
      or highlighted section. It can be text or audio or both.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT note (text?, audio?) &gt;</code><br>
      <b>Syntax:</b><code>&lt;note&gt;</code>...content...<code>&lt;/note&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;hilite&gt;</code>, <code>&lt;bookmark&gt;</code><br>
      <b>Comments:</b> Playback devices supporting recording of audio <code>&lt;notes&gt;</code> 
      need not support recording in all of the codecs allowed by this standard. 
      <br>
      <br>
    </li>
    <li id="li_450"><b>&lt;hilite&gt;</b><br>
      <b>Description:</b> A block of text marked by the user with an optional 
      note attached.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT hilite (hiliteStart, hiliteEnd, note?) 
      &gt;</code><br>
      <b>Syntax:</b><code>&lt;hilite&gt;</code>...content...<code>&lt;/hilite&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_122">
        <li id="li_451"><b>label (CDATA, #IMPLIED):</b> optional attribute for use in storing 
          identifying label to assist user in choosing among a set of highlights. 
          </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;bookmarkSet&gt;</code><br>
      <br>
    </li>
    <li id="li_452"><b>&lt;hiliteStart&gt;</b><br>
      <b>Description:</b> Starting point of highlighted block. Location consists 
      of a URI pointing to the id attribute of the <code>&lt;par&gt;</code> or 
      <code>&lt;seq&gt;</code> element in the SMIL file that contains the beginning 
      of the highlighted section, plus a time offset or character offset to the 
      exact point.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT hiliteStart (ncxRef, uri, (timeOffset 
      | charOffset)) &gt;</code><br>
      <b>Syntax:</b><code>&lt;hiliteStart&gt;</code>...content...<code>&lt;/hiliteStart&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;hilite&gt; </code><br>
      <br>
    </li>
    <li id="li_453"><b>&lt;hiliteEnd&gt;</b><br>
      <b>Description:</b> End of highlighted block. Location consists of a URI 
      pointing to the id attribute of the <code>&lt;par&gt;</code> or <code>&lt;seq&gt; 
      </code>element in the SMIL file that contains the end of the highlighted 
      section, plus a time offset or character offset to the exact point.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT hiliteEnd (ncxRef, uri, (timeOffset 
      | charOffset)) &gt;</code><br>
      <b>Syntax:</b><code>&lt;hiliteEnd&gt;</code>...content...<code>&lt;/hiliteEnd&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;hilite&gt; </code><br>
      <br>
    </li>
  </ul>
  <h2 id="h2_38">9.3 <a name="BkmkEx">Examples</a></h2>
  <h3 id="h3_92">(This section is informative.)</h3>
  <p id="para_165">In Example 9.1, the reader has set two bookmarks, one in chapter 1, 22 seconds 
    from the start of paragraph 8, and the other in chapter 3, 88 seconds from 
    the start of paragraph 12. The reader has added the text note "Atlanta burns" 
    to the second bookmark. The user has also highlighted a passage in chapter 
    4 beginning at the start of paragraph 1 and ending 246 seconds after the start 
    of paragraph 6, labeling it with a ten-second audio comment. The reader last 
    stopped reading (as indicated by the <code>&lt;lastmark&gt;</code>) in chapter 
    5, paragraph 23. The default filename for this bookmark file would be "us-rfbd-JT065.bmk".</p>
  <p id="para_166">Example 9.1:</p>
  
<pre><samp id="smp_16">&lt;?xml version="1.0" encoding="UTF-8" ?&gt; 
&lt;!DOCTYPE bookmarkSet SYSTEM "bookmark100.dtd"&gt; 
 
 &lt;bookmarkSet&gt;
  
    &lt;title&gt;
      &lt;text&gt;Gone with the Wind&lt;/text&gt;
      &lt;audio src="gwtw_title.mp3" /&gt;
    &lt;/title&gt;
    &lt;uid&gt;us-rfbd-JT065&lt;/uid&gt;
    
    &lt;lastmark&gt;
      &lt;ncxRef&gt;gwtw.ncx#lvl1_5&lt;/ncxRef&gt;
      &lt;uri&gt;gwtw_ch5.smil#para023&lt;/uri&gt;
      &lt;timeOffset&gt;173&lt;/timeOffset&gt;
    &lt;/lastmark&gt;
    
    &lt;bookmark&gt;
      &lt;ncxRef&gt;gwtw.ncx#lvl1_1&lt;/ncxRef&gt;
      &lt;uri&gt;gwtw_ch1.smil#para008&lt;/uri&gt;
      &lt;timeOffset&gt;22&lt;/timeOffset&gt;
    &lt;/bookmark&gt;
    
    &lt;bookmark&gt;
      &lt;ncxRef&gt;gwtw.ncx#lvl1_3&lt;/ncxRef&gt;
      &lt;uri&gt;gwtw_ch3.smil#para012&lt;/uri&gt;
      &lt;timeOffset&gt;88&lt;/timeOffset&gt;
      &lt;note&gt;
        &lt;text&gt;Atlanta burns.&lt;/text&gt;
      &lt;/note&gt;
    &lt;/bookmark&gt;
    
    &lt;hilite&gt;
      &lt;hiliteStart&gt;
        &lt;ncxRef&gt;gwtw.ncx#lvl1_4&lt;/ncxRef&gt;
        &lt;uri&gt;gwtw_ch4.smil#para001&lt;/uri&gt;
        &lt;timeOffset&gt;0&lt;/timeOffset&gt;
      &lt;/hiliteStart&gt;
      &lt;hiliteEnd&gt;
        &lt;ncxRef&gt;gwtw.ncx#lvl1_4&lt;/ncxRef&gt; &lt;uri&gt;gwtw_ch4.smil#para006&lt;/uri&gt;
        &lt;timeOffset&gt;246&lt;/timeOffset&gt;
      &lt;/hiliteEnd&gt;
      &lt;note&gt;
        &lt;audio src="us-rfbd-JT065.wav" clipBegin="00:00.00" 
        clipEnd="00:10.00" /&gt;
      &lt;/note&gt;
   &lt;/hilite&gt;
  
  &lt;/bookmarkSet&gt;
  </samp></pre> 
  <p id="para_167">Example 9.2 shows a text-only file in which the reader last stopped reading 
    130 characters after the start of paragraph 297.</p>
  <p id="para_168">Example 9.2:</p>
  
<pre><samp id="smp_17">&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE bookmarkSet SYSTEM "bookmark100.dtd"&gt; 
&lt;bookmarkSet&gt;

    &lt;title&gt;
       &lt;text&gt;Chemistry Today&lt;/text&gt;
    &lt;/title&gt;
    &lt;uid&gt;uk-rnib-MM499&lt;/uid&gt;

    &lt;lastmark&gt;
      &lt;ncxRef&gt;chemtd.ncx#lvl1_3&lt;/ncxRef&gt;
      &lt;uri&gt;chemtd.xml#para297&lt;/uri&gt;
      &lt;charOffset&gt;130&lt;/charOffset&gt;
    &lt;/lastmark&gt;

  &lt;/bookmarkSet&gt;
  </samp></pre>

  <p id="para_168n"><a href="#toc">Contents</a></p> 
  <h1 id="h1_13">10. <a name="Resource">Resource File</a></h1>
  <h2 id="h2_39">10.1 <a name="ResIntro">Introduction</a></h2>
  <h3 id="h3_93">(This section is informative.)</h3>
  <p id="para_169">The optional Resource File supplies text segments and pointers to audio clips 
    or images that can assist the reader in using a DTB. These media objects or 
    "resources" provide information missing from a document or present only in 
    a form inaccessible to the reader. Some examples of applications are:</p> 
  <ol id="ol_2">
    
  <li id="li_454">Documents with definite structures but missing headings, such as books 
    with multilevel structures but no headings on items below the level of sections. 
    The resource file could contain the word "subsection" for presentation 
    to the reader when stepping through the document via the NCX.</li>
    <li id="li_455">Player implementations that present generic labels such as "level 2" when 
      the user changes levels in the NCX. The resource file could present the 
      actual name of items found at that level in that specific context, e.g., 
      "chapter".</li>
    <li id="li_456">"Where Am I?" applications, especially in situations where headings are 
      absent.</li>
    <li id="li_457">Detailed information about the marked-up textual content file; useful 
      when exact knowledge of a document's finest structure is essential. The 
      resource file could provide text or audio clips of all of the element names 
      in the DTBook DTD, alerting the user when crossing the boundaries of paragraphs, 
      list items, table cells, etc.</li>
    <li id="li_458">Information about the types of text structures that the user can choose 
      to "turn off" via the SMIL file. (See section 7.4.3, "<a href="#Skip">'Skippable' Structures</a>.") 
      The Resource File could contain text segments or pointers to audio clips 
      of the names of the structures affected; for example, page numbers, notes, 
      or sidebars.</li>
  </ol>
  <p id="para_170">The Resource File, then, can contain three types of information:<br>
    1. Resources tailored to a given document, for use primarily during global 
    navigation. As the user navigates via the NCX, the player, when necessary, 
    will look in the Resource File to locate the <code>resource</code> whose <code>type</code> 
    attribute equals "ncx", whose <code>elementRef</code> attribute value is <code>navPoint</code> 
    or <code>navTarget</code> as appropriate, and whose <code>classRef</code> 
    references the class of the current NCX <code>navPoint</code> or <code>navTarget</code>.</p>
  <p id="para_171">2. Generic representations of the names of elements from the DTBook DTD, 
    for use during local navigation. As the reader issues local navigation commands 
    referencing the textual content file, the player will use the name of the 
    current element in the textual content file to locate the <code>resource</code> 
    with that element name in its <code>elementRef</code> attribute. For example, 
    encountering a paragraph (tagged with <code>&lt;p&gt;</code>...<code>&lt;/p&gt;</code>) 
    would call the <code>resource</code> with <code>elementRef</code> equal to 
    "p". </p>
  <p id="para_172">In addition, the <code>classRef</code> attribute on <code>resource</code> 
    allows the DTB producer to create <code>resource</code>s tailored to elements 
    with specific class names. For example, different <code>resource</code>s could 
    be created for <code>&lt;w class="reservedword"&gt;</code>...<code>&lt;/w&gt;</code> 
    and <code>&lt;w class="variablename"&gt;</code>...<code>&lt;/w&gt;</code>.</p>
  <p id="para_173">3. Representations of skippable structures listed in the <code>head</code> 
    of the NCX. The player will locate the <code>resource</code> whose <code>type</code> 
    attribute equals "ncx", whose <code>elementRef</code> attribute value is <code>smilCustomTest</code> 
    and whose <code>idRef</code> attribute references the id of the current <code>smilCustomTest</code> 
    element. For example, the <code>smilCustomTest</code> element tagged <code>&lt;smilCustomTest 
    id="prodnote" /&gt;</code> would call the <code>resource</code> with <code>idRef</code> 
    equal to "prodnote".</p>
  <p id="para_174">The text, audio, and image alternatives allow a <code>resource</code> to 
    be presented in a medium appropriate to the playback system's capabilities 
    and the user's preferences. Images are conceived as holding iconic representations 
    of heading types. The <code>lang</code> attribute on the <code>resource</code> 
    element allows alternative representations to be supplied in multiple languages.</p>
  <p id="para_175">Resources would be called only when appropriate; that is, in response to 
    clear user requirements and when needed. For example, a <code>resource</code> 
    with <code>type="ncx"</code> and <code>classRef="chapter"</code> would not 
    be called if a chapter heading with textual and audio content was already 
    present.</p>
  <h3 id="h3_94">(This section is normative.)</h3>
  
<p id="para_176">If a Resource File is implemented, it must meet the following requirements. 
  The Resource File is a valid <a href="#XML">XML</a> 1.0 file conforming to the 
  Document Type Definition resource110.dtd. (See Appendix 5, "<a href="#RESDTD">DTD 
  for Resource File</a>.") The <code>version</code> attribute on the <code>resources</code> 
  element of any compliant Resource File must be present and contain the value 
  drawn from the above-named DTD. The Resource File shall be named with the 
  extension ".res". Identical copies of the Resource File shall be distributed 
  on each media unit of the DTB.</p>
  <h2 id="h2_40">10.2 <a name="ResElem">Resource Elements</a></h2>
  <h3 id="h3_95">(This section is informative.)</h3>
  <p id="para_177">Brief descriptions of resource the elements follow. Each includes the element declaration 
    extracted from the Resource DTD, along with descriptions of any applicable 
    attributes. </p>
  <ul id="ul_123">
    <li id="li_459"><b>&lt;resources&gt;</b><br>
      <b>Description:</b> The root element in the Resource DTD.<br>
      <b>Declaration:</b><code> &lt;!ELEMENT resources (head?, resource+) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;resources</code>...attribute...<code>&gt;</code>...content...<code>&lt;/resources&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_124">
        <li id="li_460"><b>version (CDATA, FIXED): </b>Specifies the version of the DTD used 
          in this instance. Three digits, with decimal point separators. Digits 
          one, two, and three will change with major, moderate, and minor changes 
          to the DTD, respectively. This attribute must be present but parsers 
          will not enforce its presence, just its value. </li>
      </ul>
      <b>Valid inside:</b> None<br>
      <br>
    </li>
    <li id="li_461"><b>&lt;head&gt;</b><br>
      <b>Description:</b> Optional container for metadata.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT head (meta*) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;head&gt;</code>...content...<code>&lt;/head&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;resources&gt;</code><br>
      <br>
    </li>
    <li id="li_462"><b>&lt;meta&gt;</b><br>
      <b>Description:</b> Producer defined metadata.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT meta EMPTY &gt;</code><br>
      <b>Syntax:</b> <code>&lt;meta</code>...attributes...<code>/&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_125">
        <li id="li_463"><b>name (CDATA, REQUIRED) </b> </li>
        <li id="li_464"><b>content (CDATA, REQUIRED) </b> </li>
        <li id="li_465"><b>scheme (CDATA, IMPLIED) </b> </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;head&gt;</code><br>
      <br>
    </li>
    <li id="li_466"><b>&lt;resource&gt;</b><br>
      <b>Description:</b> Contains text and pointers to audio clip or image serving 
      as an alternative representation of elements or element content in textual 
      content file and NCX.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT resource (((text, audio?) | audio), img?)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;resourc</code>e...attributes...<code>&gt;</code>...content...<code>&lt;/resource 
      &gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_126">
        <li id="li_467"><b>type (dtbook | ncx) REQUIRED:</b> Specifies whether the resource 
          applies to the textual content file (<code>dtbook</code>) or the NCX 
          (ncx). </li>
        <li id="li_468"><b>elementRef (CDATA, REQUIRED):</b> Specifies the name of the element 
          for which the <code>resource</code> is to be supplied. </li>
        
      <li id="li_469"><b>classRef (CDATA, IMPLIED):</b> Specifies the class attribute value 
        of the element for which the <code>resource</code> is to be supplied. 
        See section 10.3, "<a href="#ResReq">Resource File Requirements</a>" 
        for normative content. </li>
        <li id="li_470"><b>idRef (CDATA, IMPLIED):</b> Specifies the name of the id attribute 
          on the <code>smilCustomTest</code> element in NCX for which the <code>resource</code> 
          is to be supplied. </li>
        <li id="li_471"><b>lang (NMTOKEN, IMPLIED):</b> Specifies the language of the resource 
          item, using an <a href="#RFC1766">[RFC 1766]</a> language code. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;resources&gt;</code><br>
      <br>
    </li>
    <li id="li_472"><b>&lt;text&gt;</b><br>
      <b>Description:</b> Contains the text used for alternative representation.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT text (#PCDATA) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;text&gt;</code>...content<code>...&lt;/text&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;resource&gt;</code><br>
      <br>
    </li>
    <li id="li_473"><b>&lt;audio&gt;</b><br>
      <b>Description:</b> Points to file containing audio representation and provides 
      time offsets of beginning and end of clip.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
      <b>Syntax:</b> <code>&lt;audio</code>...attributes...<code> /&gt;</code><br>
      <b>Attributes:</b><br>
      <ul id="ul_127">
        <li id="li_474"><b>src (%URI, REQUIRED): </b> URI of the audio file.<br>
        </li>
        <li id="li_475"><b>clipBegin (%SMILtimeVal, IMPLIED):</b> Specifies the beginning 
          of a segment of a continuous audio file as a time offset from the start 
          of the audio file. The value syntax is defined by the SMIL 2.0 Timing 
          and Synchronization Module <a href="#ref-SMIL">[SMIL].</a> See 
          section 7.7, "<a href="#Clock">Clock Values</a>." </li>
        <li id="li_476"><b>clipEnd (%SMILtimeVal, IMPLIED):</b> Specifies the end of a segment 
          of a continuous audio file as a time offset from the start of the audio 
          file. It uses the same attribute value syntax as <code>clipBegin</code>. 
        </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;resource&gt;</code><br>
      <br>
    </li>
    <li id="li_477"><b>&lt;img&gt;</b><br>
      <b>Description:</b> Points to file containing the image.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT img EMPTY &gt;</code><br>
      <b>Syntax:</b> <code>&lt;img</code>...attributes...<code>/&gt;</code><br>
      <b>Attributes:</b> <br>
      <ul id="ul_128">
        <li id="li_478"><b>src ( %URI, REQUIRED): </b> URI of the image file.<br>
        </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;resource&gt;</code><br>
      <br>
    </li>
  </ul>
  <h2 id="h2_41">10.3 <a name="ResReq">Resource File Requirements</a></h2>
  <h3 id="h3_96">(This section is normative.)</h3>
  <p id="para_178">If a player implementing resource functionality for DTBook elements encounters 
    an element in the textual content file that includes a <code>class</code> 
    attribute, the player must present the associated <code>resource</code> with 
    the corresponding <code>classRef</code>, if one exists. Otherwise, if the 
    appropriate <code>resource</code> without a <code>classRef</code> exists, 
    the player must present it.</p>
  <h2 id="h2_42">10.4 <a name="ResEx">Examples</a></h2>
  <h3 id="h3_97">(This section is informative.)</h3>
  <p id="para_179">In Example 10.1, the Resource File contains a resource for the word "chapter" 
    to be presented when encountering <code>navPoints</code> of this class in 
    the NCX. Resources are supplied for four selected DTBook elements; the last 
    of these resources uses the <code>classRef</code> attribute to specify a given 
    class of the element <code>code</code>. Finally, a resource is provided for 
    a <code>smilCustomTest</code> with an id of "prodnote".</p>
  <p id="para_179n"><b>Example 10.1:</b><br></p>
  
  
<pre><samp id="smp_18">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE resources PUBLIC "-//NISO//DTD resource v1.1.0//EN"
"http://www.loc.gov/nls/z3986/v100/resource110.dtd"&gt;
&lt;resources version="1.1.0"&gt;

    &lt;resource type="ncx" elementRef="navPoint" classRef="chapter" 
    lang="en"&gt; 
       &lt;text&gt;Chapter&lt;/text&gt;
       &lt;audio src="chapter.mp3" /&gt; 
       &lt;img src="chapter.png" /&gt; 
    &lt;/resource &gt; 
  
    &lt;resource type="dtbook" elementRef="li" lang="en"&gt; 
       &lt;text&gt;list item&lt;/text&gt;
       &lt;audio src="elemres.mp3" clipBegin="00:36" 
       clipEnd="00:38.14" /&gt; 
    &lt;/resource&gt; 
  
    &lt;resource type="dtbook" elementRef="p" lang="en"&gt; 
       &lt;text&gt;paragraph&lt;/text&gt;
       &lt;audio src="elemres.mp3" clipBegin="00:47.51" 
       clipEnd="00:49.34" /&gt; 
    &lt;/resource&gt; 
  
    &lt;resource type="dtbook" elementRef="td" lang="en"&gt; 
      &lt;text&gt;table cell&lt;/text&gt;
      &lt;audio src="elemres.mp3" clipBegin="01:22.12" 
      clipEnd="01:24.01" /&gt; 
    &lt;/resource&gt; 
  
    &lt;resource type="dtbook" elementRef="code" 
    classRef="javascript" lang="en"&gt; 
      &lt;text&gt;javascript&lt;/text&gt;
      &lt;audio src="elemres.mp3" clipBegin="01:45.15" 
      clipEnd="01:47.01" /&gt; 
    &lt;/resource&gt; 
  
    &lt;resource type="ncx" elementRef="smilCustomTest" 
    idRef="prodnote" lang="en"&gt; 
      &lt;text&gt;producer's note&lt;/text&gt;
      &lt;audio src="elemres.mp3" clipBegin="01:54.17" 
      clipEnd="01:56.44" /&gt; 
    &lt;/resource&gt; 
  
...
&lt;/resources &gt;
  
  </samp></pre>
<p id="para_180">In Example 10.2, resources are supplied in both English and Danish for a 
    book whose NCX carries English class names on <code>navPoints</code> (e.g., 
    "chapter"). The "lang" attribute on <code>resource</code> controls which will be presented 
    to the reader.</p>
  <p id="para_180n"><b>Example 10.2:</b></p>
  <pre><samp id="smp_19">
  ... 
  
    &lt;resource type="ncx" elementRef="navPoint" classRef="chapter" 
    lang="da"&gt; 
      &lt;text&gt;Kapitel&lt;/text&gt; 
      &lt;audio src="kapitel.mp3" clipBegin="00:00" 
      clipEnd="00:02.23" /&gt; 
      &lt;img src="Kapitel.png" /&gt; 
    &lt;/resource&gt; 
  
    &lt;resource type="ncx" elementRef="navPoint" classRef="chapter" 
    lang="en"&gt; 
      &lt;text&gt;Chapter&lt;/text&gt; 
      &lt;audio src="chapter.mp3" clipBegin="00:00" 
      clipEnd="00:02.01" /&gt; 
      &lt;img src="chapter.png" /&gt; 
    &lt;/resource&gt;

...  
 </samp></pre>
  

<p id="para_181"><a href="#toc">Contents</a></p> 
<h1 id="h1_14">11. <a name="Dist">Packaging Files for Distribution</a></h1>
  <h2 id="h2_43">11.1 <a name="DistIntro">Introduction</a></h2>
  <h3 id="h3_98">(This section is informative.)</h3>
  <p id="para_182">If DTBs are distributed on a physical medium such as CD-ROM, producers will 
    sometimes put more than one book on a disk or sometimes use more than one 
    disk to hold a single book. When multiple DTBs are included on a single distribution 
    medium ("media unit"), a simple method of storing this information for easy 
    access by the player is needed, to present to the reader a "bookshelf" of 
    books. When a single DTB spans several media, the player needs access to specific 
    information so that it can provide correct instructions to the reader, e.g.,  
    "Insert disk 2," when required. The "Distribution Information File" (or "distInfo 
    File") stores the data needed for these purposes.</p>
  <p id="para_183">In the following scenarios, the player would need accurate "distribution 
    information" to respond appropriately: </p>
  <ol id="ol_3">
    <li id="li_479">Trying to reach an NCX target that lies on another disk. </li>
    <li id="li_480">Trying to reach a bookmark or highlight that is on another disk.</li>
    <li id="li_481">Resuming reading on a different disk than last ended on. "<code>Lastmark</code>" 
      will point to another disk.</li>
    <li id="li_482">Following a cross-reference or other link pointing to a target on another 
      disk.</li>
    <li id="li_483">Retracing path back to point of origin after following a link that required 
      inserting a new disk.</li>
    <li id="li_484">Reading notes during normal playback. If the notes are printed at the 
      end of the chapter or book and are recorded separately from the text where 
      they are referenced, they might fall on a different disk from the noterefs.</li>
    <li id="li_485">Reaching the end of a disk of a multidisk book. This might be handled 
      in another way, but could be implemented using the distInfo File.</li>
  </ol>
  <p id="para_184">A distInfo File would normally be created for each type of distribution medium, 
    whereas other DTB files would be unchanged regardless of how a DTB is distributed.</p>
  <h2 id="h2_44">11.2 <a name="DistReq">Distribution Requirements</a></h2>
  <h3 id="h3_99">(This section is normative.)</h3>
  <p id="para_185">When distributing one DTB per media unit, the Package File must be placed 
    in the root of the media unit's file system. When distributing multiple DTBs 
    per media unit, the distInfo File alone must be placed in the root of the 
    media unit's file system. These restrictions do not apply when a DTB is contained 
    on a non-removable storage medium such as a hard drive.</p>
  <p id="para_186">The distInfo File is required on all media units for a given DTB when that 
    DTB spans more than one distribution media or when multiple DTBs are contained 
    on one media unit. Otherwise, a distInfo File is optional. There shall be 
    no more than one distInfo File per media unit (e.g., CD-ROM disk).</p>
  <p id="para_187">The distInfo File, if present, must be a valid <a href="#XML">XML</a> 1.0 
    file conforming to distInfo110.dtd (see Appendix 6, "<a href="#Distinfo">Distribution 
    Information DTD</a>"), and shall be named "distInfo.dinf". The <code>version</code> 
    attribute on the <code>distInfo</code> element must be present and contain 
    the value drawn from the above-named DTD.</p>
  <p id="para_188">Distribution on multiple media units has implications for the production 
    of the NCX and SMIL. For the NCX, see section 8.4.2, "<a href="#NCXSpan">DTBs 
    Spanning Multiple Media Units</a>." For SMIL, see section 7.4.4, "<a href="#SMILDist">Packaging 
    Files across Several Media Units</a>."</p>
  <p id="para_189">Optional <code>changeMsg</code>s may be used to supply customized messages 
    instructing users on how to proceed when another media unit is needed to continue 
    reading. Such <code>changeMsg</code>s enable presentation of messages in either 
    text or audio. If no <code>changeMsg</code> is present when required, the 
    player must render a default audio or text message (e.g., "please insert disk 
    2").</p>
  <p id="para_190">Values for the attribute <code>media</code> on the element <code>&lt;book&gt;</code> 
    and for the attribute <code>mediaRef</code> on the elements <code>smilRef</code> 
    and <code>changeMsg</code> shall be in the format "x:y", where x is 
    the sequence number of this media unit, and y is the total number of media 
    units in the distribution of this book.  If the book spans two or more media units, the <code>media</code> attribute on <code>&lt;book&gt;</code> must be present and contain a value. </p>
  <h2 id="h2_45">11.3 <a name="DistElem">DistInfo Elements</a></h2>
  <h3 id="h3_100">(This section is informative.)</h3>
  <ul id="ul_129">
    <li id="li_486"><b>&lt;distInfo&gt;</b><br>
      <b>Description:</b> The root element of a distInfo File.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT distInfo (book+) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;distInfo</code>...attribute...<code>&gt;</code>...content...<code>&lt;/distInfo&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_130">
        <li id="li_487"><b>version (CDATA, FIXED) "1.1.0":</b> Specifies the version of the 
          DTD used in this instance. Three digits with decimal point separators; 
          digits one, two, and three will be updated to reflect major, moderate, 
          and minor changes to the DTD, respectively. This attribute must be present, 
          but parsers will not enforce its presence, just its value.</li>
      </ul>
      <b>Valid inside:</b> None<br>
      <br>
    </li>
    <li id="li_488"><b>&lt;book&gt;</b><br>
      <b>Description:</b> Identifies a DTB that is present, in part or whole, 
      on this piece of distribution media.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT book (distMap?, changeMsg*)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;book</code> ...attributes...<code>&gt;</code>...content...<code>&lt;/book&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_131">
        <li id="li_489"><b>uid (CDATA, REQUIRED):</b> The globally unique identifier for the 
          DTB. The value is the same as that of the dc:identifier element referenced 
          by the unique-identifier attribute on the package file's <code>package</code> 
          element. See section 3.1, "<a href="#PkgId">Package Identity</a>." 
        </li>
        <li id="li_490"><b>pkgRef (CDATA, REQUIRED):</b> The URI of the book's package file. 
          However, players must be able to locate a DTB's package file even if 
          a distInfo File is not present. </li>
        <li id="li_491"><b>media (CDATA, IMPLIED):</b> If the book spans two or more media 
          units, the <code>media</code> attribute identifies the media unit in 
          hand, in the format "x:y", where x is the sequence number of this media 
          unit, and y is the total number of media pieces in the distribution 
          of this book. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;distInfo&gt;</code><br>
      <b>Comments:</b> Contains zero or one <code>distMap</code>s and zero or 
      more <code>changeMsg</code>s.<br>
      <br>
    </li>
    <li id="li_492"><b>&lt;distMap&gt;</b><br>
      <b>Description:</b> A map identifying which media unit the various SMIL 
      files reside upon.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT distMap (smilRef+) &gt;</code><br>
      <b>Syntax:</b> <code>&lt;distMap&gt;</code>...content...<code>&lt;/distMap&gt;</code><br>
      <b>Attributes:</b> None<br>
      <b>Valid inside:</b> <code>&lt;book&gt;</code><br>
      <b>Comments:</b> Contains one or more <code>smilRef</code>s.<br>
      <br>
    </li>
    <li id="li_493"><b>&lt;smilRef&gt;</b><br>
      <b>Description:</b> A reference to a DTB SMIL file.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT smilRef EMPTY &gt;</code><br>
      <b>Syntax:</b> <code>&lt;smilRef</code>...attributes...<code>/&gt;</code><br>
      <b>Attributes:</b> 
      <ul id="ul_132">
        <li id="li_494"><b>file (CDATA, REQUIRED):</b> The filename of the given SMIL file. 
        </li>
        <li id="li_495"><b>mediaRef (CDATA, REQUIRED):</b> Identifies the media unit on which 
          the given SMIL file resides, in the format "x:y", where x is the sequence 
          number of that media unit, and y is the total number of media pieces 
          in the distribution of this book. </li>
      </ul>
      <b>Valid inside:</b> <code>&lt;distMap&gt;</code><br>
      <b>Comments:</b> Contains the filenames of the SMIL files as they appear 
      in the package file manifest.<br>
      <br>
    </li>
    <li id="li_496"><b>&lt;changeMsg&gt;</b><br>
      <b>Description:</b> Contains text and/or audio versions of a custom message 
      to be read when a new disk is requested by the reading system.<br>
      <b>Declaration:</b> <code>&lt;!ELEMENT changeMsg ((text, audio?) | audio)&gt;</code><br>
      <b>Syntax:</b> <code>&lt;changeMsg</code>...attributes...<code>&gt;</code>...content...<code>&lt;/changeMsg&gt;</code><br>
      <b>Attributes:</b> <ul id="ul_133"> 
    <li id="li_497"><b>mediaRef (CDATA, REQUIRED):</b> Identifies the media unit that this 
      message (e.g.,"Insert disc 2") specifies. Player invokes the correct <code>&lt;changeMsg&gt;</code> 
      by matching its <code>mediaRef</code> attribute to the <code>mediaRef</code> 
      attribute of the selected <code>&lt;smilRef&gt;</code>. In the format "x:y", where 
      x is the sequence number of the specified media unit, and y is the total 
      number of media pieces in the distribution of this book. </li>
    <li id="li_498"><b>lang (NMTOKEN, IMPLIED):</b> Specifies the <a href="#RFC1766">[RFC 1766]</a> language code of 
      the language in which the message is presented. </li>
  </ul>
  <b>Valid inside:</b> <code>&lt;book&gt;</code><br>
  <br></li>
  <li id="li_499"><b>&lt;text&gt;</b><br>
    <b>Description:</b> Contains text of media change message.<br>
    <b>Declaration:</b> <code>&lt;!ELEMENT text (#PCDATA) &gt;</code><br>
    <b>Syntax:</b><code> &lt;text&gt;</code>...content...<code>&lt;/text&gt;</code><br>
    <b>Attributes:</b> None<br>
    <b>Valid inside:</b> <code>&lt;changeMsg&gt;</code><br>
    <br>
  </li>
  <li id="li_500"><b>&lt;audio&gt;</b><br>
    <b>Description:</b> Pointer to audio clip of media change message.<br>
    <b>Declaration:</b> <code>&lt;!ELEMENT audio EMPTY&gt;</code><br>
    <b>Syntax:</b><code> &lt;audio</code>...attributes...<code>/&gt;</code><br>
    <b>Attributes:</b> 
    <ul id="ul_134">
      <li id="li_501"><b>src (%URI, IMPLIED):</b> URI of audio content of media change message.</li>
            <li id="li_501a"><b>clipBegin (CDATA, IMPLIED):</b> Specifies the beginning of a segment 
        of a continuous audio file as a time offset from the start of the audio 
        file. The value syntax is defined by the SMIL 2.0 Timing and Synchronization 
        Module <a href="#ref-SMIL">[SMIL].</a> See section 7.7, "<a href="#Clock">Clock 
        Values.</a>" </li>
      <li id="li_501b"><b>clipEnd (CDATA, IMPLIED):</b> Specifies the end of a segment of a 
        continuous audio file as a time offset from the start of the audio file. 
        It uses the same attribute value syntax as <code>clipBegin</code>. </li>
    </ul>
    <b>Valid inside:</b> <code>&lt;changeMsg&gt;</code><br>
    <br>
  </li>
</ul>

<h2 id="h2_46">11.4 <a name="DistEx">Examples</a></h2>
<h3 id="h3_101">(This section is informative.)</h3>

<p id="para_191">Example 11.1 shows the distInfo File for the first disk of a book that spans 
  three CD-ROMs. The <code>book</code> element identifies the book through the <code>uid</code> 
  attribute, points to the package file via <code>pkgRef</code>, and indicates 
  in the <code>media</code> attribute that this disk is the first of three. Players 
  would parse the package file to obtain book metadata, etc. The <code>distMap</code> 
  element contains a <code>smilRef</code> for each SMIL file in the book (there are 
  10 in this particular case). The <code>file</code> attribute gives the name of each 
  individual SMIL file. The <code>mediaRef</code> attribute indicates which disk that 
  particular SMIL file (and all audio/text/image files referenced by it) resides 
  upon.</p>

<p id="para_192">Players would refer to this map when a particular SMIL file is targeted for 
  playback; if the file is not present on the current disk, the <code>changeMsg</code> 
  whose <code>mediaRef</code> attribute matches that of the selected <code>smilRef</code> 
  element would be played.</p>

<p id="para_193">Example 11.1: </p>


<pre><samp id="smp_20">
&lt;?xml version="1.0"  encoding="UTF-8"?&gt;
&lt;!DOCTYPE distInfo SYSTEM "distInfo110.dtd"&gt;

&lt;distInfo version="1.1.0"&gt;

	&lt;book uid="us-rfbd-tbfz284" pkgRef="./FZ284.opf" media="1:3"&gt;

		&lt;distMap&gt;

			&lt;smilRef file="FZ284_0001d.smil" mediaRef="1:3"/&gt;
			&lt;smilRef file="FZ284_0002d.smil" mediaRef="1:3"/&gt;
			&lt;smilRef file="FZ284_0003d.smil" mediaRef="1:3"/&gt;
			&lt;smilRef file="FZ284_0004d.smil" mediaRef="1:3"/&gt;
			&lt;smilRef file="FZ284_0005d.smil" mediaRef="2:3"/&gt;
			&lt;smilRef file="FZ284_0006d.smil" mediaRef="2:3"/&gt;
			&lt;smilRef file="FZ284_0007d.smil" mediaRef="2:3"/&gt;
			&lt;smilRef file="FZ284_0008d.smil" mediaRef="2:3"/&gt;
			&lt;smilRef file="FZ284_0009d.smil" mediaRef="2:3"/&gt;
			&lt;smilRef file="FZ284_0010d.smil" mediaRef="3:3"/&gt;

		&lt;/distMap&gt;
		
		&lt;changeMsg mediaRef="1:3"&gt;
		   &lt;text&gt;Insert disc one.&lt;/text&gt;
		   &lt;audio src="insert.wav" clipBegin="00:00" 
		   clipEnd="00:02.256"/&gt;
		&lt;/changeMsg&gt;
		&lt;changeMsg mediaRef="2:3"&gt;
		   &lt;text&gt;Insert disc two.&lt;/text&gt;
		   &lt;audio src="insert.wav" clipBegin="00:03.002" 
		   clipEnd="00:05.881"/&gt;
		&lt;/changeMsg&gt;
		&lt;changeMsg mediaRef="3:3"&gt;
		   &lt;text&gt;Insert disc three.&lt;/text&gt;
		   &lt;audio src="insert.wav" clipBegin="00:06.901" 
		   clipEnd="00:10.003"/&gt;
		&lt;/changeMsg&gt;


	&lt;/book&gt;

&lt;/distInfo&gt;

</samp></pre>



<p id="para_194">In Example 11.2, a sample distInfo File is presented
for a case where two books are included on one CD-ROM. The file
contains pointers to two book package files. Both books are complete on
this one media unit so the <code>media</code> attribute is omitted.  Players would parse the package files to obtain book metadata, etc.</p>

<p id="para_195">Example 11.2:</p>


<pre><samp id="smp_21">
&lt;?xml version="1.0"  encoding="UTF-8"?&gt;
&lt;!DOCTYPE distInfo SYSTEM "distInfo110.dtd"&gt;
&lt;distInfo version="1.1.0"&gt;

    &lt;book uid="us-nls-db00001" pkgRef="./book1/AllAboutDogs.opf" /&gt;
    &lt;book uid="us-nls-db98765" pkgRef="./book2/AllAboutCats.opf" /&gt;

&lt;/distInfo&gt;

</samp></pre>

<p id="para_195n"><a href="#toc">Contents</a></p>

<h1 id="h1_15">12. <a name="Style">Presentation Styles</a></h1>
<h2 id="h2_47">12.1 <a name="StyleIntro">Introduction</a></h2>
<h3 id="h3_102">(This section is informative.)</h3>
<p id="para_196">The W3C has defined mechanisms for separating content from presentation
called the Cascading Style Sheet <a href="#CSS">[CSS]</a> and Extensible Style
Language <a href="#XSL">[XSL]</a>. CSS (for which two levels of functionality
are currently defined, <a href="#CSS1">Level 1 [CSS1]</a> and <a href="#CSS2">Level
2 [CSS2]</a>) and XSL allow specific formatting rules for mark-up to be defined
and stored independent of the actual content. Default rules are normally applied
by the specific playback or rendering system. The CSS <em>Cascade</em> provides
a defined mechanism in which style rules can also be applied by the content
producer as well as by the user. Producer-supplied style sheets are particularly
important for complex documents with formatting or presentational requirements
that would not be met by a player's or user's default styles.</p>
<p id="para_197">CSS or XSL files may be provided by the content producer to control visual
formatting of textual content when a DTB is played on a system that incorporates
a visual display and supports CSS or XSL.</p>
<p id="para_198">If a refreshable Braille display is connected to a DTB player, a Braille style 
  sheet can control formatting so that the document is more easily navigable.</p>
<p id="para_199">Audio CSS (ACSS, part of CSS2) and XSL also support the aural equivalent of
visual formatting, and allow for audio cues to be associated with textual
content mark-up. For example, chapter starts or page breaks can be indicated
with a specific audio cue.</p>

<h2 id="h2_48">12.2 <a name="ImpStyles">Implementing Style Sheets for DTBs</a></h2>
<h3 id="h3_103">(This section is normative.)</h3>
<p id="para_200">Style sheets are optional components of DTBs and DTB
distribution systems. DTB producers may choose to supply default
visual, Braille, or audio style sheets.</p>
<p id="para_201">Style sheets must not be written in such a way as to prevent users from overriding 
  them. DTBs referencing style sheets must do so using standard W3C mechanisms 
  to link an XML source to its style sheet (see <a href="#XML-Style">[XML-Style]</a>). 
  All style sheet processing instructions must include the <em>media</em> attribute 
  specifying which medium the style sheet applies to. Acceptable values are: all 
  (for all media), aural (for audio presentations), braille (for refreshable Braille 
  displays), embossed (for embossed Braille), handheld (for devices with small 
  monochrome screens), print (for visual formatting of printed output), and screen 
  (for color computer screens). For example:<br>
<samp id="smp_22">&lt;?xml-stylesheet href="brstyle.css" type="text/css"
media="braille"?&gt;</samp></p>
<p id="para_202">Playback systems that use common PC-based browsers should support
presentation styles at least to the extent the browser itself does. However, it
is strongly recommended that any DTB player incorporating a visual display
implement at least CSS1. Portable players will not generally provide full
support for style sheets but may implement a subset of CSS or XSL sufficient for
DTB use and the media presented on the player. For example, an audio-only player
that is aware of the textual content might support only the audio styles
described above.</p>
<p id="para_203">Developers of playback systems may implement user
interface features that
support local control of style sheets, thereby allowing the user to
define styles that supersede default player- or producer-defined
styles. It is strongly recommended that players implementing style
sheets
support user control of presentation styles.</p>
<p id="para_204">When multiple style sheets are present for the content being rendered, user-defined styles, if present,
shall take precedence, followed by producer-defined and player-defined styles,
in that order.</p>

<p id="para_204n"><a href="#toc">Contents</a></p>

<h1 id="h1_16">13. <a name="Type">Types of DTB</a></h1>
<h2 id="h2_49">13.1 <a name="Types">Types</a></h2>
<h3 id="h3_104">(This section is informative.)</h3>
<p id="para_205">Digital talking books produced in compliance with this
standard fall into six types representing the proportions in which six
key files are present. In all six types, the Package File <code>spine</code>
defines the linear reading order of the DTB. A DTB that incorporates
audio and textual content files for the full contents of the document,
as well as a structured navigation control file (NCX) for efficient
navigation (type 4 - audioFullText), offers the most features to a
reader.</p>
<dl id="dl_4">
  <dt id="dt_129">Type 1 -- Full audio only (dtb:multimediaType = audioOnly)</dt>
  <dd id="dd_129">The full contents of the document are present in recorded speech. The DTB 
    contains no structure. The navigation control file (NCX) contains only the 
    title of the book and a pointer to the first SMIL file. The SMIL files contain 
    only <code>&lt;audio&gt; </code>elements in sequence. This Type of DTB will 
    be represented primarily by "legacy" titles transferred from analog to digital 
    form. Direct navigation to points within the DTB is not possible for the reader.</dd>
  <dt id="dt_130">Type 2 -- Full audio with structure (dtb:multimediaType = audioNCX)</dt>
  <dd id="dd_130">The full contents of the document are present in recorded speech. The NCX 
    contains (via SMIL) links to the structural elements of the book and can contain 
    links to features such as page numbers, narrated footnotes, etc. The SMIL 
    files contain only <code>&lt;audio&gt;</code> elements in sequence. The reader 
    can navigate directly only to items included in the NCX.</dd>
 <dt id="dt_131">Type 3 -- Full or partial audio with structure and partial text (dtb:multimediaType = audioPartText)</dt>
  <dd id="dd_131">The full or partial contents of the document are present in recorded speech. 
    The NCX contains (via SMIL) links to the structural elements of the book and 
    can contain links to features such as page numbers, narrated footnotes, etc. 
    In addition, part of the document is present as a textual content file. The 
    segments included in the textual content file might be chosen either because 
    keyword searching, spelling, and direct access to the text would be beneficial 
    in those segments (e.g., glossaries), or because a synthetic speech rendering 
    would be as useful as a human speech version (e.g., indexes). Images can also 
    be included. The reader can navigate directly to items in the NCX and to tagged 
    items in the textual content file. Where text renditions of a segment are 
    present, they are synchronized with the corresponding audio (and any associated 
    images) in the SMIL files; elsewhere, SMIL contains only <code>&lt;audio&gt;</code> 
    elements in sequence.</dd>
  
<dt id="dt_132">Type 4 -- Full audio with structure and full text (dtb:multimediaType = audioFullText)</dt>
<dd id="dd_132">The full contents of the document are present in
recorded speech. The NCX contains (via SMIL) links to the structural
elements of the book and can contain links to
features such as page numbers, narrated footnotes, etc. The full text
of the document is present as a textual content file. Images can also
be included. Text, audio, and any images are synchronized in the SMIL
files. The reader can navigate directly to items in the NCX and to
tagged items in the textual content file.</dd> 

<dt id="dt_133">Type 5 -- Full text with structure and partial audio (dtb:multimediaType = textPartAudio)</dt> 
  <dd id="dd_133">The full text of the document is present as a textual content file but only 
    part of the document is present as recorded speech. Images can also be included. 
    The NCX contains (via SMIL) links to the structural elements of the book and 
    can contain links to features such as page numbers, narrated footnotes, etc. 
    The reader can navigate directly to items in the NCX and to tagged items in 
    the textual content file. Where audio renditions of a segment are present, 
    they are synchronized with the corresponding text (and any associated images) 
    in the SMIL files; elsewhere, SMIL contains <code>&lt;text&gt;</code> (and 
    any synchronized <code>&lt;image&gt;</code>) elements in sequence. This type 
    includes books such as dictionaries, where the full text is present but the 
    only audio contains human speech recordings of word pronunciations.</dd>

<dt id="dt_134">Type 6 -- Full text with structure but no audio (dtb:multimediaType = textNCX)</dt> 
  <dd id="dd_134">The full text of the document is present as a textual content file. The NCX 
    contains (via SMIL) links to the structural elements of the book and can contain 
    links to features such as page numbers. The reader can navigate directly to 
    items in the NCX and to tagged items in the textual content file. Images can 
    be included. The SMIL files contain <code>&lt;text&gt;</code> elements in 
    sequence, synchronized with any images present. There are no audio files.</dd>
 
</dl>

<h2 id="h2_50">13.2 <a name="ReqFiles">Required Files</a></h2>
<h3 id="h3_105">(This section is normative.)</h3>

<p id="para_206">The following table shows the six types of DTB and
whether each of six files is required (R), optional (O), or not
applicable (N/A) for each. Note that the Open eBook Package File (OPF),
the navigation control file
(NCX), and the SMIL file(s) are required for all types, although the
latter two may serve merely as pointers to other files in some cases.</p>

<table summary="The table shows the six types of DTB and whether each of six files is required (R), optional (O), or not applicable (N/A) for each.  The column headings are DTB Type, OPF, NCX, Audio, Text, SMIL, and Image."> 
              <thead> 
                <tr id="tr_1"> 
                  <th id="th_1" scope="col">DTB Type</th> 
                  <th id="th_2" scope="col">OPF</th> 
                  <th id="th_3" scope="col">NCX</th>
                  <th id="th_4" scope="col">Audio</th>
                  <th id="th_5" scope="col">Text</th>
                  <th id="th_6" scope="col">SMIL</th> 
                  <th id="th_7" scope="col">Image</th>                   
                </tr> 
              </thead> 
              <tbody> 
                <tr id="tr_2"> 
                  <td id="td_1" scope="row">audioOnly (Full audio only)</td>
                  <td id="td_2">R</td> 
                  <td id="td_3">R</td> 
                  <td id="td_4">R</td> 
                  <td id="td_5">N/A</td>
                  <td id="td_6">R</td>
                  <td id="td_7">N/A</td>
                </tr> 
                <tr id="tr_3"> 
                  <td id="td_8" scope="row">audioNCX (Full audio+structure)</td>
                  <td id="td_9">R</td> 
                  <td id="td_10">R</td> 
                  <td id="td_11">R</td> 
                  <td id="td_12">O</td>
                  <td id="td_13">R</td> 
                  <td id="td_14">N/A</td>               
                </tr> 
                <tr id="tr_4"> 
                  <td id="td_15" scope="row">audioPartText (Audio+structure+partial text)</td>
                  <td id="td_16">R</td> 
                  <td id="td_17">R</td> 
                  <td id="td_18">R</td> 
                  <td id="td_19">R</td>
                  <td id="td_20">R</td>
                  <td id="td_21">O</td>
                </tr> 
                <tr id="tr_5"> 
                  <td id="td_22" scope="row">audioFullText (Audio+structure+full text)</td>
                  <td id="td_23">R</td> 
                  <td id="td_24">R</td> 
                  <td id="td_25">R</td> 
                  <td id="td_26">R</td>
                  <td id="td_27">R</td>
                  <td id="td_28">O</td>
                </tr> 
                <tr id="tr_6"> 
                  <td id="td_29" scope="row">textPartAudio (Full text+structure+partial audio)</td>
                  <td id="td_30">R</td> 
                  <td id="td_31">R</td> 
                  <td id="td_32">R</td> 
                  <td id="td_33">R</td>
                  <td id="td_34">R</td>
                  <td id="td_35">O</td>
                </tr> 
                <tr id="tr_7"> 
                  <td id="td_36" scope="row">textNCX (Full text+structure, no audio)</td>
                  <td id="td_37">R</td> 
                  <td id="td_38">R</td> 
                  <td id="td_39">N/A</td> 
                  <td id="td_40">R</td>
                  <td id="td_41">R</td>
                  <td id="td_42">O</td>
             </tr> 
             </tbody> 
            </table> 

<h2 id="h2_51">13.3 <a name="Render">Content Rendering</a></h2>
<h3 id="h3_106">(This section is normative.)</h3>
<p id="para_207">Players must determine how to render content from the
types of files present. If only a textual content file is found, a
synthetic speech rendering and output to a Braille display and/or
screen may be presented, according to the user's preferences and the
features provided on the playback system. If only an audio file is
present, straight audio playback shall be initiated. A player that
supports only a subset of the media included in DTBs must, when
encountering an unsupported medium, ignore the unsupported files and
correctly render those it does support. In addition, if the playback
system cannot render the DTB in any way, based on the value of <code>dtb:multimediaType</code>
in the package file metadata, it must report this fact to the user.
Further, a playback system should inform the user when unable to render
in any way specific content it encounters in the DTB.</p>

<p id="para_207n"><a href="#toc">Contents</a></p>

<h1 id="h1_17">14. <a name="DRM">Digital Rights Management</a></h1>
<h3 id="h3_107">(This section is informative.)</h3>

<p id="para_208">Protection of intellectual property will continue to be an important issue 
  for national libraries and other agencies serving people with print disabilities. 
  How this responsibility is met in Digital Talking Book distribution programs, 
  however, will vary from country to country due to differences in the legal environment 
  surrounding the distribution of alternative format materials. It will also vary 
  by item depending on whether the material is under copyright or in the public 
  domain. When applicable, however, it is critical that agencies use reasonable 
  administrative and technical measures to protect copyright holders' rights. 
  It is equally important, though, that agencies ensure access to alternative 
  format materials by their target populations. Thus, DTB producers and distributors 
  that implement <a href="#d-drm">DRM</a> systems must do so in a manner that 
  does not limit or prevent access to compliant DTBs by eligible users.</p>

<p id="para_208n"><a href="#toc">Contents</a></p>

<h1 id="h1_18">15. <a name="TSM">Time-Scale Modification</a></h1>
<h3 id="h3_108">(This section is normative.)</h3>

<p id="para_209">It is strongly recommended that playback systems implement Time-Scale Modification 
  (<a href="#d-tsm">TSM</a>)
to enable user control of playback speed. Playback rates continuously
variable from one-third to three times normal speed are recommended. It
is also recommended that players allow users the option of disabling
pitch correction during TSM operation.</p>

<p id="para_210">All time offsets in a DTB (e.g., SMIL and NCX <code>clipBegin</code>/<code>clipEnd</code>, 
  bookmark <code>timeOffset</code>s, etc.), are based on normal play speed. In 
  order to maintain synchronization, a player must process time offsets independently 
  of actual playback speed.</p>

<p id="para_210n"><a href="#toc">Contents</a></p>

<h1 id="h1_19">16. <a name="Conform">Conformance</a></h1>
<h3 id="h3_109">(This section is normative.)</h3>

<p id="para_211">This standard defines two kinds of conformance: file
conformance and player conformance. Conformant Digital Talking Books
and DTB playback systems must meet all of the applicable requirements
specified in the normative sections of this standard. Requirements will
vary depending on the media included in a DTB and the functions
supported by a DTB player. It should be noted that while many aspects
of the standard can be enforced through the DTDs included in this
standard, others cannot, and must be enforced through other means.</p>

<p id="para_211n"><a href="#toc">Contents</a></p>

<h1 id="h1_20">17. <a name="Ref">References to Other Specifications/Documents</a></h1>
<p id="para_212">The following standards, recommendations, and guidelines are referenced by this standard:</p>

<h2 id="h2_51a">17.1 <a name="Norm-Ref">Normative References</a></h2>
<h3 id="h3_110">(This section is normative.)</h3>
<dl id="dl_5"> 
  <dt id="dt_137"><a name="CSS1">CSS1</a></dt>
  <dd id="dd_137">Cascading Style Sheets, Level 1: <a href="http://www.w3.org/TR/REC-CSS1">http://www.w3.org/TR/REC-CSS1</a></dd>
  <dt id="dt_138"><a name="CSS2">CSS2</a></dt>
  <dd id="dd_138">Cascading Style Sheets, Level 2: <a href="http://www.w3.org/TR/REC-CSS2/">http://www.w3.org/TR/REC-CSS2/</a></dd>
  <dt id="dt_140"><a name="DC">Dublin Core</a></dt>
  <dd id="dd_140">Dublin Core Metadata Initiative: <a href="http://dublincore.org/">http://dublincore.org/</a></dd>
  <dt id="dt_141"><a name="DC-Type">DC-Type</a></dt>
  <dd id="dd_141">Dublin Core Type Vocabulary: <a href="http://dublincore.org/documents/dcmi-type-vocabulary/">	
    http://dublincore.org/documents/dcmi-type-vocabulary/</a></dd>
  <dt id="dt_145"><a name="ISO3166">ISO 3166</a></dt>
  <dd id="dd_145">ISO 3166 - Codes for the Representation of Names of Countries and their 
    Subdivisions: <a href="http://www.din.de/gremien/nas/nabd/iso3166ma/codlstp1/">	
    http://www.din.de/gremien/nas/nabd/iso3166ma/codlstp1/</a></dd>
  <dt id="dt_146"><a name="ISO8601">ISO 8601</a></dt>
  <dd id="dd_146">W3C Profile of ISO8601 - Representation of Dates and Times: <a href="http://www.w3.org/TR/NOTE-datetime.html">	
    http://www.w3.org/TR/NOTE-datetime.html</a></dd>
  <dt id="dt_147"><a name="ISO8859-1">ISO 8859-1</a></dt>
  <dd id="dd_147">ISO 8859-1 - 8-bit single-byte coded graphic character sets -- Part 1: Latin 
    alphabet No. 1 (HTML character set): <a href="http://www.iso.ch/iso/en/ISOOnline.openerpage">http://www.iso.ch/iso/en/ISOOnline.openerpage</a></dd>
  <dt id="dt_148"><a name="ISO10646">ISO/IEC 10646</a></dt>
  <dd id="dd_148">ISO/IEC 10646 - Universal Multiple-Octet Coded Character Set: <a href="http://www.unicode.org/">http://www.unicode.org</a></dd>
  <dt id="dt_149"><a name="JPEG">JPEG</a></dt>
  <dd id="dd_149">JPEG JFIF V1.02: <a href="http://www.jpeg.org/public/jfif.pdf">http://www.jpeg.org/public/jfif.pdf</a></dd>
  <dt id="dt_150"><a name="MPEG">MPEG</a></dt>
  <dd id="dd_150">Copies of these MPEG standards: 
    <ul id="ul_135">
      <li id="li_502">MPEG-1 Audio, ISO/IEC 11172-3</li>
      <li id="li_503">MPEG-4 Audio, ISO/IEC 14496-3</li>
    </ul>
    can be obtained from the International Organization for Standardization homepage: 
    <a name="ISO" href="http://www.iso.ch/iso/en/ISOOnline.openerpage">http://www.iso.ch/iso/en/ISOOnline.openerpage</a> or from your 
    national standards body. In the United States, this is the American National 
    Standards Institute: <a name="ANSI" href="http://www.ansi.org/">http://www.ansi.org</a></dd>
  <dt id="dt_152"><a name="ref-NameSpaces">NS</a></dt>
  <dd id="dd_152">XML NameSpaces: <a href="http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/REC-xml-names/</a></dd>
  <dt id="dt_153"><a name="OEBF">OEBF</a></dt>
  <dd id="dd_153">The Open eBook Forum Publication Structure, version 1.0.1: <a href="http://www.openebook.org/">http://www.openebook.org</a></dd>
  <dt id="dt_155"><a name="RFC1766">RFC 1766</a></dt>
  <dd id="dd_155">RFC 1766 - Tags for the Identification of Languages: <a href="http://www.ietf.org/rfc/rfc1766.txt">	
    http://www.ietf.org/rfc/rfc1766.txt</a></dd>
  <dt id="dt_156"><a name="RFC2083">RFC 2083</a></dt>
  <dd id="dd_156">Portable Network Graphics, Version 1: <a href="http://www.ietf.org/rfc/rfc2083.txt">http://www.ietf.org/rfc/rfc2083.txt</a></dd>
    <dt id="dt_156a"><a name="RFC2396">RFC 2396</a></dt>
  <dd id="dd_156a">Uniform Resource Identifiers (URI): Generic Syntax: <a href="http://www.ietf.org/rfc/rfc2396.txt">http://www.ietf.org/rfc/rfc2396.txt</a></dd>
  <dt id="dt_157"><a name="RIFFWAV">RIFFWAV</a></dt>
  <dd id="dd_157">RIFF WAV format information: <a href="ftp://ftp.cwi.nl/pub/audio/RIFF-format">ftp://ftp.cwi.nl/pub/audio/RIFF-format	
    </a></dd>
  <dt id="dt_158"><a name="ref-SMIL">SMIL</a></dt>
  <dd id="dd_158">SMIL 2.0 W3C Recommendation 07 August 2001: <a href="http://www.w3.org/TR/2001/REC-smil20-20010807/">http://www.w3.org/TR/2001/REC-	
    smil20-20010807/</a></dd>
  <dt id="dt_163"><a name="SVG">SVG</a></dt>
  <dd id="dd_163">Scalable Vector Graphics <a href="http://www.w3.org/TR/2001/REC-SVG-20010904/"></a>http://www.w3.org/TR/2001/REC-SVG-20010904/</dd>
  <dt id="dt_166"><a name="XML">XML</a></dt>
  <dd id="dd_166">XML Version 1.0: <a href="http://www.w3.org/TR/2000/REC-xml-20001006.html">http://www.w3.org/TR/2000/REC-xml-20001006.html</a></dd>
  <dt id="dt_167"><a name="XML-Style">XML-Style</a></dt>
  <dd id="dd_167">Associating Style Sheets with XML Documents 1.0: <a href="http://www.w3.org/TR/xml-stylesheet/">http://www.w3.org/TR/xml-stylesheet/</a></dd>
  <dt id="dt_168"><a name="XSL">XSL</a></dt>
  <dd id="dd_168">Extensible Stylesheet Language (XSL) Version 1.0: <a href="http://www.w3.org/TR/xsl/">http://www.w3.org/TR/xsl/</a></dd>
</dl>

<h2 id="h2_51b">17.2 <a name="Inform-Ref">Informative References</a></h2>
<h3 id="h3_110a">(This section is informative.)</h3>
<dl id="dl_5a">
  <dt id="dt_135"><a name="ATAG"> ATAG</a></dt>
  <dd id="dd_135">Authoring Tool Accessibility Guidelines: <a href="http://www.w3.org/TR/WAI-AUTOOLS/">http://www.w3.org/TR/WAI-AUTOOLS/</a></dd>
  <dt id="dt_136"><a name="CSS">CSS</a></dt>
  <dd id="dd_136">Cascading Style Sheets: <a href="http://www.w3.org/Style/CSS/">http://www.w3.org/Style/CSS/</a></dd>
  <dt id="dt_139"><a name="DAISY">DAISY</a></dt>
  <dd id="dd_139">The DAISY Consortium: <a href="http://www.daisy.org/">http://www.daisy.org</a></dd>
  <dt id="dt_142"><a name="Dtbookhtm">DTBook HTML</a></dt>
  <dd id="dd_142">HTML version of expanded DTBook DTD: <a href="http://www.loc.gov/nls/z3986/v100/dtbook110doc.htm">	
    http://www.loc.gov/nls/z3986/v100/dtbook110doc.htm</a></dd>
  <dt id="dt_143"><a name="Theory">DTBook Theory</a></dt>
  <dd id="dd_143">Theory behind the DTBook DTD: <a href="http://www.daisy.org/publications/specifications/theory/dtbook/"> 
    http://www.daisy.org/publications/specifications/theory/dtbook/</a></dd>   
  <dt id="dt_151"><a name="Navfeat">Navigation Features</a></dt>
  <dd id="dd_151">Document Navigation Features List: <a href="http://www.loc.gov/nls/z3986/background/navigation.htm">	
    http://www.loc.gov/nls/z3986/background/navigation.htm</a></dd>
  <dt id="dt_154"><a name="Playfeat">Player Features</a></dt>
  <dd id="dd_154">Playback Device Features List: <a href="http://www.loc.gov/nls/z3986/background/features.htm">	
    http://www.loc.gov/nls/z3986/background/features.htm</a></dd>
  <dt id="dt_162"><a name="StructGuide">StructGuide</a></dt>
  <dd id="dd_162">Structure Guidelines: <a href="http://www.daisy.org/products/menupps.htm">
    http://www.daisy.org/products/menupps.htm</a></dd>
  <dt id="dt_164"><a name="UAAG">UAAG</a></dt>
  <dd id="dd_164">User Agent Accessibility Guidelines: <a href="http://www.w3.org/TR/UAAG10/">http://www.w3.org/TR/UAAG10/</a></dd>
  <dt id="dt_165"><a name="WCAG">WCAG</a></dt>
  <dd id="dd_165">Web Content Accessibility Guidelines: <a href="http://www.w3.org/TR/WAI-WEBCONTENT/">http://www.w3.org/TR/WAI-WEBCONTENT/</a></dd>  
    <dt id="dt_169"><a name="XSLT">XSLT</a></dt>
  <dd id="dd_169">XSL Transformations (XSLT) Version 1.0: <a href="http://www.w3.org/TR/xslt">http://www.w3.org/TR/xslt</a></dd>       
</dl>

<p id="para_212n"><a href="#toc">Contents</a></p>

<h1 id="h1_21"><a name="DTBookDTD">Appendix 1 - DTBook DTD</a></h1>
<h3 id="h3_111">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at <a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>

<pre><samp id="smp_23">

&lt;!-- DTBook DTD V1.1.0 2002-02-27 --&gt;
&lt;!-- file: dtbook110.dtd  (Note: Update version attribute on dtbook element
    when version changes.)--&gt;
&lt;!--dtbook110 Digital Talking Book XML Document Type Definition
    Implementing the ANSI/NISO Digital Talking Book V1.1.0 Document
    Tagging Requirements

    Harvey Bingham &lt;<a href="mailto:hbingham@acm.org">hbingham@acm.org</a>&gt;
    George Kerscher &lt;<a href="mailto:kerscher@montana.com">kerscher@montana.com</a>&gt;
    Michael Moodie &lt;<a href="mailto:mmoo@loc.gov">mmoo@loc.gov</a>&gt;
    David Pawson &lt;<a href="mailto:dpawson@rnib.org.uk">dpawson@rnib.org.uk</a>&gt;

    Assisted by DAISY Consortium and NISO DTB Committee work teams.

    1. Purpose

    The Digital Talking Book Document Type Definition (DTD) provides
    the means to mark up the text of a document to permit support for
    the combination of professional narration and navigation into that
    narration. It also facilitates the output of a document's content in
    a variety of accessible formats. The markup tags in the book convey
    its content in structure, and contain some metadata about the book
    content and its structure.

    The Document Type Definition names and defines the allowable element
    types, their allowable content, and their attributes. Correct markup
    of the text of the book permits the textual material to be synchronized
    using SMIL [SMIL2.0] files with the professionally narrated version of
    that book. The synchronization can permit concurrent display of the
    text being narrated. The textual content can be searched in context to
    locate material desired for narration.

    More detailed documentation of this dtbook dtd [DTBOOKV110DTD] is
    available as an html document. See [DTBOOKV110DOC].

    1.1. Prior Related Work

    The DAISY (Digital Audio-based Information SYstem) Consortium
    contributed substantially to the development of this DTD.
    This application of XML is the next generation after several DAISY
    versions of 2.X specifications, see [DAISY202].

    The DAISY Statement of Principles for the Creation and Production
    of Accessible Books and Materials [DAISY-2-GUIDELINES] represents
    the minimum standard to be met by Libraries of the Blind and producers
    of alternative format materials.

    Its Navigation Control Center (NCC) provided for synchronizing
    document structure with narration.

    The NCC evolved into an XML application called the "Navigation Control
    File for XML applications" (NCX). Its content is derived from
    the markup of documents tagged using the dtbook DTD. Richer
    structuring capability is one of the objectives of that DTD. The
    Synchronized Multimedia Integration Language [SMIL2.0] is used
    to provide synchronized narrations and text. The NCX provides
    navigation using the identified elements of documents tagged to this DTD.

    The dtbook DTD includes many, but not all, of the element types found
    in both the [HTML401STRICT] and [XHTML11STRICT] strict DTDs. HTML
    authoring tools permit those additional element tags, and may ignore
    the additional tags that are dtbook-specific. The lowercase names
    from XHTML are used, rather than the uppercase names from HTML.

    1.2. Evolution from HTML and XHTML

    Dtbook110 has 79 element types. It shares 47 element types with the
    HTML4.0 Strict DTD [HTML401STRICT] (as adjusted to use the lower-case
    names consonant with the XHTML Strict DTD [XHTML11STRICT]). It omits
    30 element types from them, and has 32 unique element types.

    Endtag markup is sometimes optional in HTML. It is required for use with
    xhtml and dtbook. Any XML application [XML12] requires endtags, or their
    abbreviated form for empty elements, such as "&lt;br /&gt;". The benefit of
    including endtags is that the tagged document has dependable structure
    that can be validated against the dtbook dtd.

    Some tools available for browsing HTML may be used with dtbook
    material, at the expense of their discarding or ignoring some specific
    tagging and attributes that are not part of HTML 4.0. A CSS-based
    stylesheet [CSS1] or [CSS2] that identifies the presentation expectations
    for the HTML and non-HTML tags, or a filter to map those tags onto
    suitable HTML tags can provide appropriate visual presentation.

    2. Document Tagging Content

    A Digital Talking Book document is an XML application. Therefore, it
    must begin with the XML processing instruction, followed by the DOCTYPE
    declaration.

    2.1. XML Processing Instruction

    The XML Processing Instruction identifies the version of XML, and the
    optional character set encoding for the document:

        &lt;?xml version="1.0" encoding="UTF-8" ?&gt;

    2.2. Character Set Encodings

    The character set in which the document is encoded is identified by
    one of a number of strings. All XML applications are expected to be able
    to recognize the UNICODE/ISO/IEC 10646 encodings "UTF-8" and "UTF-16"
    [ISO10646].

    Some alternative encodings to "UTF-8" (or "ISO-10646-UCS-2")
    or "UTF-16" (or "ISO-10646-UCS-4") may be used. These include
    "ISO-8859-1", "ISO-8859-2", ... "ISO-8859-9" for parts of ISO 8859.
    See [ISO8859]. Note that US-ASCII (i.e. encoding all characters over
    decimal 127, e.g. from 128 to 255, as &amp;#nnn;) is conformant with UTF-8
    (and ISO-8859-1, HTTP's default header encoding.)

    Also, the values "ISO-2022-JP", "Shift_JIS", or "EUC-JP" can be used
    for various Japanese encoded forms of JIS X-0208-1997. See [JIS].

    The Unicode characters may be represented as their code points,
    using the form &amp;#hHHHH; where HHHH is a hexadecimal value formed
    from the digits 0-9 and letters A-F. Any initial H with value "0"
    may be elided.

    2.3. DOCTYPE Declaration

    The document type declaration, the DOCTYPE, follows. It has several forms.
    The simpler form assumes that the proper version of the dtbook DTD
    is in the same directory as the dtbook file itself.

        &lt;!DOCTYPE dtbook SYSTEM
            "dtbook110.dtd"&gt;

    A more general form provides the PUBLIC URI from which the SYSTEM
    filename can be substituted, should that system copy be missing:

        &lt;!DOCTYPE dtbook PUBLIC
            "http://www.loc.gov/nls/z3986/v100/dtbook110.dtd"
            "dtbook110.dtd"&gt;

    That assumes the URI can be reached, which may not be true for
    portable dtbook players.

    The still more general form recommended for xml applications [XML12] is:

        &lt;!DOCTYPE dtbook PUBLIC
            "-//NISO//DTD dtbook v1.1.0//EN"
            "dtbook110.dtd"&gt;

    where the Formal Public Identifier (FPI) on the second line is converted
    to the URI where it may be publicly found:

        http://www.loc.gov/nls/z3986/v100/dtbook110.dtd

    The [OASIS-TR9401] Entity Management Catalog provides an indirect
    means to provide that mapping from FPI to the dtd.

    That catalog is more generally useful to provide the mapping from
    any external entity names (such as modules) to URIs where they may
    be found.

    Note that the reference above is to a particular version of the DTD,
    distinguished by the "v110".

    2.4. Digital Talking Book File MIME Type

    A Digital Talking Book document is tagged to the dtbook XML
    application. Its MIME media-type is "text/xml". The tagged book
    filename should have suffix ".xml". See [RFC2045].

    3. Modular Extension to the DTD

    The dtbook DTD has two parameter entities defined that provide means
    to allow an individual book to modularly extend the content models
    for its block and inline parameter entities:

        &lt;!ENTITY % externalblock ""&gt;
        &lt;!ENTITY % externalinline ""&gt;

    These parameter entities appear in corresponding block and inline
    content models. With this "" content they have no effect on books
    tagged to the dtbook DTD. In a book that needs a modular extension,
    values are given by redefinition in the internal subset of that book.
    This extends the dtbook DTD without having to change it.

    A book can augment the dtbook DTD by including other declarations
    or parameter entity references in the internal subset of declarations.
    The internal subset may occur in square brackets following the
    ExternalID and before the concluding "&gt;" of the initial DOCTYPE
    declaration that identifies the dtbook DTD.

    Those additional markup declarations in the internal subset
    take preference over any in the dtbook DTD itself. The effective
    DTD is thereby augmented by the parameter entity values and any other
    declarations of the book's internal subset. When a given parameter
    entity declaration appears more than once in the external modules and
    the dtbook DTD, the first occurrence of that declaration is the one
    that takes effect, with modules in the internal subset being processed
    in order, before the DTD itself.

    For example:

        &lt;!DOCTYPE dtbook SYSTEM
        "dtbook.dtd"
        [
            &lt;!ENTITY % dramaModule SYSTEM "drama.dtd"&gt;
            %dramaModule;
            &lt;!ENTITY % externalblock "| drama"&gt;
            &lt;!ENTITY % externalinline "| stagedir"&gt;
        ]&gt;

    The "%dramaModule;" invocation causes all declarations made within
    dramaModule to become the initial part of the dtbook DTD. Within the
    book, the empty entity declarations for both % externalblock and for
    % externalinline are replaced by these new definitions. Thus the
    block element drama can appear wherever block elements may occur in
    dtbook. Similarly any actual content needed for %externalinline;
    (" | stagedir" is shown above) can appear in that extension to wherever
    %inline; appears in the DTD.

    More than one module may be needed and included in a book, for example
    both poem and drama can appear in the internal subset of the book.
    For example, the internal subset of the book could contain:

        &lt;!DOCTYPE dtbook SYSTEM
        "dtbook.dtd"
        [
            &lt;!ENTITY % poemModule SYSTEM "poem.dtd"&gt;
            %poemModule;
            &lt;!ENTITY % dramaModule SYSTEM "drama.dtd"&gt;
            %dramaModule;
            &lt;!ENTITY % externalblock "| poem | stanza | verse | drama"&gt;
            &lt;!ENTITY % externalinline "| stagedir"&gt;
        ]&gt;

    Such external modules need to include the definitions of any parameter
    entities that are used in the modules since their definitions are needed
    before they can be expanded in their references. They cannot depend
    on parameter entities in the SystemLiteral or PubidLiteral.

    Note that arbitrary external modules from other sources may not have
    all the needed attributes. XML allows augmentation of ATTLISTs in the
    internal subset. Additional attribute names can be added to an
    associated element type. Any redefinitions of a particular named
    attribute resulting from presence in the internal subset have
    precedence.

    Also note that element name collisions may be possible, with names
    in those modules and associated content models overriding those in
    dtbook. For modules under control of dtbook design, such collisions
    can be avoided. A more general solution uses namespace prefixes to
    element and attribute names to clearly indicate the module source.

    Following the document type declaration, the fully marked-up document
    appears, including tags from the external modules found in the internal
    subset. Declarations in the internal subset or in external entity
    references (such as %dramaModule;) referenced therein take precedence
    over like-named ones from the external entity containing the base DTD
    (that is, dtbook110.dtd). Thus the declarations from the module
    containing the drama and poem tags are included along with the tags
    in the base DTD (that is dtbook110.dtd) that are not duplicated or
    redefined in the drama module. So if a &lt;p&gt; tag is defined in the drama
    module, its definition overrides that of the &lt;p&gt; tag in dtbook. There
    is an exception: an ATTLIST for elementname that adds attributes from
    the internal subset augments the ATTLIST attributes with different
    attribute names in the ATTLIST of the same elementname in the
    dtbook110.dtd.

    Note that tools and players processing any extended markup that affects
    navigation structure will need to know of those modular extensions.

    The form above for augmenting the dtbook dtd through the document's
    internal subset does not require the XML namespace mechanism, with
    its namespace-specific prefix on element and attribute names to
    disambiguate any potential name collisions. However, use of XML
    namespaces [XML-NAMES] is not precluded.

    4. References

    These references are informative. The bracketed names here are targets for
    indirect reference from the corresponding bracketed names in other parts
    of this document or in descriptions within this section.

    [CSS1] Cascading Style Sheets, Level 1. Rec-CSS1-1999011 Revised 11 Jan 1999

        http://www.w3.org/TR/REC-CSS1

    [CSS2] Cascading Style Sheets, Level 2 CSS2 Specification REC-CSS2-19980512

        http://www.w3.org/TR/REC-CSS2

    [DAISY202] The DAISY 2.02 Specification for the DAISY Digital Talking
    Book (DTB) format, which enables navigation within a sequential
    and hierarchical structure consisting of (marked-up) text synchronized
    with audio.

        http://www.daisy.org/dtbook/spec/2/final/d202/daisy_202.html

    [DAISY-2-GUIDELINES] The DAISY 2.02 Specification for
    the Creation and Production of Accessible Books and Materials,
    Version 0.99 1999-09-23 represents minimum standard to be met by
    Libraries for the Blind and producers of alternative format materials:

        http://www.daisy.org/dtbook/guidelines/draft/principles.htm

    [DTBOOKV110DTD] The dtbook DTD v1.1.0 (this DTD) is available at:

        http://www.loc.gov/nls/z3986/v100/dtbook110.dtd

    Note that some browsers do not permit downloading a file with suffix dtd.

    [DTBOOKV110DOC] Digital Talking Book Expanded Document Type Definition
    Documentation for Version V110 of this DTD is available as an
    HTML 4.0 document:

        http://www.loc.gov/nls/z3986/v100/dtbook110doc.htm

    Should revisions occur, a new directory with node named "vxxx" (rather
    than v110) that indicates the revision level will contain the revisions.
    Any prior specific version of the dtbook dtd and its documentation will
    persist.

    [DTBOOK3] The last public beta version was dtbook3-07.dtd (2001-01-31).

        http://www.loc.gov/nls/z3986/background/dtbk3_old_dtds/dtbk3-07.dtd

    and its expanded documentation:

        http://www.loc.gov/nls/z3986/background/dtbk3_old_dtds/dtbk3-07doc.htm

    Those and prior versions are available at:

        http://www.loc.gov/nls/z3986/background/dtbk3_old_dtds/index.html

    The history of changes prior to this version, including those
    in internal drafts through dtbk3-12.dtd and before is in:

        http://www.loc.gov/nls/z3986/background/dtbk3-dtd-changes.txt

    In that directory also are the old dtdbk3 dtds, some of which have
    been used for test markup,  and their documentation. See its
    index.html for the list. (Caution: some browsers may not
    permit downloading DTDs.)

        http://www.loc.gov/nls/z3986/background/index.html

    [HTML401STRICT] "HTML 4.0 Strict DTD," 1999-12-24, Dave Raggett,
    Arnaud Le hors, and Ian Jacobs. Dtbook110 was originally based on
    the HTML 4.0 Strict DTD with design adaptation for dtbook110.
    A principal adaptation is to use lower-case names for element types
    and attribute names. For expanded discussion, see [HTML401].

        http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd

    [HTML401] "HTML 4.01 Specification" W3C Recommendation 24 December 1999
    Documentation of the element types that come from the HTML 4.0 Strict
    DTD [HTML401STRICT] is available at:

        http://www.w3.org/TR/1999/REC-html401-19991224/

    Dtbook110 is partially harmonized with the [XHTML11STRICT] DTD.
    The XHTML camelCase parameter entity names are retained, and comments
    and references following those parameter entities explain them. The
    lower-case element and attribute names are used. The simplified table
    content model of just table rows is included.

    [ISO10646] "Information Technology - Universal Multiple-Octet Coded
    Character Set (UCS) - Part 1: Architecture and Basic Multilingual
    Plane," ISO/IEC 10646-1:1993. The current specification also takes
    into consideration the first five amendments to ISO/IEC 10646-1:1993.

    [ISO8859] "Information Processing - 8-bit single-byte coded graphic
    character sets - Part 1: Latin alphabet No. 1," ISO 8859-1:1987.
    Other suffixes "-2 through -9" correspond to other character sets
    in the family.

    [JIS] "JIS Character Sets" describes the history of JIS, and the
    several character sets for KANJI, KANA and other characters.

        http://www.io.com/~kazushi/encoding/jis.html

    [ANSINISOZ39-86-2002] Specifications for the Digital Talking Book.

        http://www.niso.org

    [NLS-Z3986] Development of ANSI/NISO Z39.86-2002
    Contains links to the DTDs developed for Z39.86-2002,
    Specifications for the Digital Talking Book

        http://www.loc.gov/nls/z3986/v100/index.html

    [OASIS-TR9401] Entity Management, OASIS Technical Resolution 9401:1997
    (Amendment 2 to TR 9401). Paul Grosso, 1997 September 10.

        http://www.oasis-open.org/specs/tr9401.html

    [RFC1556] "Handling of Bi-directional Texts in MIME," H. Nussbacher,
    December 1993.

        http://www.cis.ohio-state.edu/cgi-bin/rfc/rfc1556.html

    [RFC1766] "Tags for the Identification of Languages,"
    H. Alvestrand, March 1995.

        http://www.cis.ohio-state.edu/cgi-bin/rfc/rfc1766.html

    [RFC1942] "HTML Tables," D. Raggett, May 1996

        http://www.ietf.org/rfc/rfc1942.txt

    Contains detailed descriptions of table elements and their
    inheritance of attribute values. Adjustment for XML application is
    required: end-tags are necessary, not optional, attribute values
    must be quoted.

    [RFC2045] "Multipurpose Internet Mail Extensions (MIME) Part One:
    Format of Internet Message Bodies," N. Freed and N. Borenstein,
    November 1996. Note that this RFC obsoletes RFC1521, RFC1522, and RFC1590.
    The %ContentType; and %ContentTypes; media types and the
    %Charset; and %Charsets; character encoding values are from [RFC2045].

        http://www.cis.ohio-state.edu/cgi-bin/rfc/rfc2045.html

    [RFC2046] "Multipurpose Internet Mail Extensions (MIME) Part Two:
    Media Types," N. Freed, November 1996. Source for %ContentType; and
    %ContentTypes; permitted values:

        http://www.cis.ohio-state.edu/cgi-bin/rfc/rfc2046.html

    [RFC2396] "Uniform Resource Identifiers (URI): Generic Syntax,"
    T. Berners-Lee, R. Fielding, L. Masinter, August 1998. Note that this RFC
    revises and replaces the generic definitions in RFC 1738 and RFC 1808.

        http://www.cis.ohio-state.edu/cgi-bin/rfc/rfc2396.html

    [SMIL2.0] The Synchronized Multimedia Integration Language SMIL 2.0
    W3C Recommendation 07 August 2001 is available at:

        http://www.w3.org/TR/2001/REC-smil20-20010807/smil20.html

    [XHTML11] "XHTML (tm) 1.0: The Extensible HyperText Markup Language,"
    W3C Recommendation 26 January 2000, A reformulation of HTML4 in XML 1.0
    includes case-sensitive names, lower-case for elements and their
    attributes (but not parameter entity names) and in some cases
    equivalent content models that do not require SGML inclusions
    and exclusion exceptions (as occurred in the HTML4.0 strict
    DTD [HTML401STRICT]) is available at:

        http://www.w3.org/TR/xhtml/

    [XML-NAMES] "Namespaces in XML" World Wide Web Consortium
    14-January-1999, REC-xml-names-19990114.

        http://www.w3.org/TR/REC-xml-names/

    [XHTML11STRICT] Expanded documentation of the element types that come
    from the XHTML11 strict.dtd and its other DTDs is available within
    the zip file:

        http://www.w3.org/TR/xhtml1/DTD/xhtml1/xhtml1.zip

    Note: some browsers cannot download a dtd directly.

    [XML12] This dtbook110.dtd is an application of the Extensible Markup
    Language XML 1.0 (Second Edition) W3C Recommendation 6 October 2000.
    It is available at:

        http://www.w3.org/TR/REC-xml

    --&gt;

&lt;!-- change record:
        1998-10-08 original by Harvey Bingham
        1999-01-23 revision 3-01
        1999-06-25 revision 3-02
        1999-07-20 revision 3-03
        1999-09-16 revision 3-04
        1999-09-24 revision 3-05
        1999-11-05 revision 3-06
        2001-01-31 revision 3-07
        2001-03-08 revision 3-08
        2001-03-30 revision 3-09 basis for dtbook110.dtd
        2001-09-07 revision 3-10 version 1.0.0 first draft
        2001-09-21 revision 3-11 version 1.0.0 second draft
        2001-09-26 revision 3-12 version 1.0.0 third draft
        2001-09-30 dtbook100 version 1.0.0 initial public release
        2002-01-22 dtbook110 version 1.1.0

    The record of evolution of this dtd may be found in the archives.
    See [DTBOOK3].

        2001-12-20 revision 1.1.0 has syntactic changes, so
        increased version secondary revision as content models
        are extended compatibly and new capability is added.
        Added annoref to parameter entities where noteref occurs:
            %dtbookinline; %inlines; %inlinenopagenum;
            %inlinenoprodnote; %inlinenoanoprodnote;
        Made some additions to references, including JIS and HTML Tables,
            XML Namespaces, OASIS Catalog.
        Made editorial clarifications to many Use: and Attuse: comments.
        Added subsections.
        Removed xhtml parameter entities from xhtml not used here:
             %ContentTypes; %Charsets; %Datetime;
        For processing purposes, split dtd into part1.dtd and part2.dtd
        split processing into four pieces.

    DTD Changes for dtbook110.dtd   Harvey Bingham 2001-12-20

        Character entities amplified comments.
        Removed %Datetime; %ContentTypes; and %Charsets;
             not used herein.
        % Charsets removed as unused.
        % ContentTypes removed as unused.
        % Datetime removed as unused.
        % dtbookblock added imggroup.
        % dtbookblocknoimggroup added.
        % inlineinblock removed img.
        % block added img and imggroup.
        % blocknoimggroup added using %dtbookblocknoimggroup.
        % headmisc added comment
        % special added imggroup
        % specialnoa added imggroup
        % dtbookinline added annoref
        % inlines added annoref
        % inlinenopagenum added annoref
        % inlinenoprodnote added annoref
        % flow changed %block; to %blocknoimggroup;
        % flownopagenum changed %block; to %blocknoimggroup;
        img Use: changed idref to imgref
        % Trules added default meaning from xhtml strict dtd.
        % cellhalign clarified interitance.
        % cellvalign clarified interitance.
        table updated model to xhtml strict dtd, adding
            simple table of just rows (tr). Added attribute inheritance
            information from RFC1942.
        caption added imgref extension for dtbook comment.
        thead updated Use to xhtml strict dtd.
        tfoot updated Use to xhtml strict dtd.
        tbody updated Use to xhtml strict dtd.
        colgroup updated Attuse to xhtml strict dtd.

   	Michael Moodie: 2002-02-14 
   	
   	% block replaced %dtbookblock with %dtbookblocknoimggroup 
   	to eliminate duplication of imggroup in content model.
   	level updated content model to include doctitle and docauthor 
   	to allow them to be contained in a level marking the cover 
   	or title page of a document.
   	level1 updated content model to include doctitle and docauthor 
   	to allow them to be contained in a level1 marking the cover 
   	or title page of a document.
   	div updated content model to include doctitle and docauthor 
   	to allow them to be contained in a div marking the cover 
   	or title page of a document.
   	
   	Michael Moodie: 2002-02-19
   	
   	level, level1-level6, div: Changed occurrence indicator on 
   	content model from * to +. 
   	
    --&gt;

&lt;!-- Comment Classification Conventions

           Some comments start with a pattern followed by a colon:

               Use: element type and its use.

               Attuse: attribute use for associated element type.

               HB: date object comment on change by Harvey Bingham.

               MM: date object comment on change by Michael Moodie.

           Other comments without such a pattern are dividing lines,
           details about the DTD structure, or about dtbook objects.
    --&gt;

&lt;!--========================= Character Entities ==========================--&gt;

&lt;!--HB: 2001-12-20 Character entities amplified comments. --&gt;

&lt;!-- Character entities for interoperability.
        The five following characters may have special markup meaning,
        so are expressed as character entities in text. They can be
        recognized since they are preceded by "&amp;" and followed by ";".
        The notation below, #xHHHH (or #xHH) where H is a hexadecimal-number
        (formed from 0-9, A-F), indicates the character code position
        in Unicode/ISO-10646 [ISO10646]. Note that the "&lt;" and "&amp;"
        characters in the declarations of "lt" and "amp" are doubly escaped
        to meet the requirement that entity replacement be well-formed.
        As these entities occur in the first plane of Unicode, with encodings
        the same as ASCII, the "00" prefix can be implied, so omitted.
    --&gt;

&lt;!ENTITY lt   "&amp;#x0026;#x003C;" &gt;
    &lt;!-- "&amp;#38;#60;"  &lt; Less than, normally starts a tag. --&gt;

&lt;!ENTITY gt   "&amp;#x003E;" &gt;
    &lt;!-- "&amp;#62;"      &gt; Greater than, normally ends a tag. --&gt;

&lt;!ENTITY amp  "&amp;#x0026;#x0026;" &gt;
    &lt;!-- "&amp;#38;#38;"  &amp; Ampersand, normally begins a character entity
         reference. --&gt;

&lt;!ENTITY apos "&amp;#x0027;" &gt;
    &lt;!-- "&amp;#39;"      ' Neutral Quote, Apostrophe, if needed within an
         attribute string so quoted. --&gt;

&lt;!ENTITY quot "&amp;#x0022;" &gt;
    &lt;!-- "&amp;#34;"      " Quotation mark, if needed within an attribute string
         so quoted. --&gt;

&lt;!-- Three larger character sets included in HTML 4.0 are omitted here:
        HTMLlat1.ent, HTMLsymbol.ent, and HTMLspecial.ent.
        Unicode [ISO10646] is available to XML applications, so these
        characters are available. The initial processing instruction that
        identifies dtbook as an XML application should use a more inclusive
        encoding, as described at the start of section 2.
    --&gt;

&lt;!--=================== Imported Parameter Entity Names ===================--&gt;

&lt;!-- Many parameter entities come from the [XHTML11STRICT] strict DTD.--&gt;

&lt;!--HB: 2001-12-20 Removed %Datetime; %ContentTypes; and %Charsets;
         not used herein.--&gt;

&lt;!ENTITY % Character "CDATA" &gt;
    &lt;!-- a single character from [ISO10646]. --&gt;

&lt;!ENTITY % Charset "CDATA" &gt;
    &lt;!-- a character encoding, as per [RFC2045]. --&gt;

&lt;!--HB: 2001-12-20 % Charsets removed as unused. --&gt;

&lt;!ENTITY % ContentType "CDATA" &gt;
    &lt;!-- media type, as per [RFC2046]. --&gt;

&lt;!--HB: 2001-12-20 % ContentTypes removed as unused. --&gt;

&lt;!--HB: 2001-12-20 % Datetime removed as unused. --&gt;

&lt;!ENTITY % LanguageCode "NMTOKEN" &gt;
    &lt;!-- a language code, per [RFC1766]. --&gt;

&lt;!ENTITY % Number "CDATA" &gt;
    &lt;!-- one or more digits. --&gt;

&lt;!ENTITY % LinkTypes "CDATA" &gt;
    &lt;!-- space-separated list of link types. --&gt;

&lt;!ENTITY % MediaDesc "CDATA" &gt;
    &lt;!-- single or comma-separated list of media descriptors;
        possible values include BRAILLE, PRINT, PROJECTION, SPEECH, ALL,
        or the default SCREEN. --&gt;

&lt;!ENTITY % StyleSheet "CDATA" &gt;
    &lt;!-- style sheet data. --&gt;

&lt;!ENTITY % Text "CDATA" &gt;
    &lt;!-- used for titles etc. --&gt;

&lt;!ENTITY % URI "CDATA" &gt;
    &lt;!-- a Uniform Resource Identifier, see [RFC2396]. --&gt;

&lt;!--================== dtbook External Module Inclusion ===================--&gt;

&lt;!ENTITY % externalblock "" &gt;
    &lt;!-- placeholder for block element expansion from external modules;
        if changed, string in external subset begins " | blockelementname". --&gt;

&lt;!ENTITY % externalinline "" &gt;
    &lt;!-- placeholder for inline element expansion from external modules;
        if changed, string in external subset begins " | inlineelementname". --&gt;

&lt;!--====================== dtbook110 Content Models =======================--&gt;

&lt;!ENTITY % list "list" &gt;
    &lt;!-- list container for ordered or unordered lists (distinguished
        by attribute value, not element types ol or ul). --&gt;

&lt;!--HB: 2001-12-20 % dtbookblock added imggroup. --&gt;

&lt;!ENTITY % dtbookblock
    "author | notice | prodnote | sidebar | note | imggroup |
        annotation %externalblock;" &gt;
    &lt;!-- block elements unique to dtbook. --&gt;

&lt;!--HB: 2001-12-20 % dtbookblocknoimggroup added. --&gt;

&lt;!ENTITY % dtbookblocknoimggroup
    "author | notice | prodnote | sidebar | note |
        annotation %externalblock;" &gt;
    &lt;!-- block elements unique to dtbook without imggroup. --&gt;

&lt;!--HB: 2001-12-20 % inlineinblock removed img. --&gt;

&lt;!ENTITY % inlineinblock
    "a | cite | caption | samp | kbd | pagenum" &gt;
    &lt;!-- inlines that may alternatively be in block elements. --&gt;

&lt;!--HB: 2001-12-20 % block added img and imggroup. --&gt;
&lt;!--MM: 2002-02-14 replaced %dtbookblock with %dtbookblocknoimggroup in
     % block to eliminate duplication of imggroup in content model. --&gt;

&lt;!ENTITY % block
    "p | %list; | dl | div | blockquote | hr | img | imggroup |
         table | address | line | %dtbookblocknoimggroup;" &gt;
    &lt;!-- block elements from [HTML401STRICT] dtd augmented by dtbook-unique
        elements (%list; differs.). --&gt;

&lt;!--HB: 2001-12-20 % blocknoimggroup added using %dtbookblocknoimggroup. --&gt;

&lt;!ENTITY % blocknoimggroup
    "p | %list; | dl | div | blockquote | hr |
         table | address | line | %dtbookblocknoimggroup;" &gt;
    &lt;!-- block elements from [HTML401STRICT] dtd augmented by dtbook-unique
        elements. --&gt;

&lt;!--===================== Character mnemonic entities =====================--&gt;

&lt;!-- Omitted as XML uses Unicode, so doesn't need them. May need
        character entities if the encoding is more restrictive. --&gt;

&lt;!--========================= Generic Attributes ==========================--&gt;

&lt;!ENTITY % coreattrs
    "id          ID             #IMPLIED
     class       CDATA          #IMPLIED
     style       %StyleSheet;   #IMPLIED
     title       %Text;         #IMPLIED" &gt;
    &lt;!-- coreattrs are attributes permissible for most elements

        id       document-wide unique id
        class    space separated list of classes used for rendering
        style    associated style info
        title    advisory title/amplification
    --&gt;

&lt;!ENTITY % i18n
    "lang        %LanguageCode; #IMPLIED
     xml:lang    %LanguageCode; #IMPLIED
     dir         (ltr|rtl)      #IMPLIED" &gt;
    &lt;!-- i18n internationalization attributes

        lang        language code (backwards compatible)

        xml:lang    language code (as per XML 1.0 spec)

        dir         direction for weak/neutral text
                    ltr=left to right
                    rtl=right to left

    xhtml recommendation: use both lang and xml:lang, with same value,
    such as "en-US", on the major containing block, to provide source for
    the #IMPLIED values of its descendent elements. See [RFC1556].
    should the values differ, the xml:lang takes precedence.
    See [RFC1556] for handling bi-directional text in MIME.
    --&gt;

&lt;!ENTITY % showin
    "showin (xxx|xxp|xlx|xlp|bxx|bxp|blx|blp) #IMPLIED" &gt;
    &lt;!--showin attribute applies for text elements to permit identification
        of the kinds of display appropriate for the element, so presentation
        choice by the reader among alternative readings can be provided, when
        appropriate. Values of showin are coded with three letters in order:
        "b"=Braille, "l"=Largeprint, and "p"=Print; or "x"=inappropriate:

            Value  Braille  Largeprint Print   Interpretation

            "xxx"                              hide
            "xxp"                      p       print only
            "xlx"           l                  largeprint only
            "xlp"           l          p       largeprint and print
            "bxx"   b                          braille only
            "bxp"   b                  p       braille and print
            "blx"   b       l                  braille and largeprint
            "blp"   b       l          p       braille, largeprint, and print

        There is no default value; this attribute value is implied
        from the most immediate ancestor that specifies a value.
        The usual default for showin is 'blp'. If only one showin
        value is needed it should be included with &lt;book&gt;.

        Different content for the same element (usually &lt;prodnote&gt;) meeting
        different needs is possible, with showin serving as a switch to
        differentiate among them. Both largeprint and print are appropriate
        for screen rendering as well as printing. Different corresponding
        styles may be appropriate.

        It is possible to include equivalent content from any major structure
        below &lt;book&gt; to provide the different content suitable for different
        media. These would be independent, sharing no direct content, possibly
        having common references to images, with different accompanying text
        descriptions.
    --&gt;

&lt;!ENTITY % attrs
    "%coreattrs;
     %i18n;
     smilref      CDATA       #IMPLIED
     %showin;" &gt;
    &lt;!-- %attrs; is part of most attribute lists. It includes

    %coreattrs; from which come the four #IMPLIED attributes:
        id, class, style, and title.

    %i18n; from which come the implied attributes: lang, xml:lang, and dir

    smilref is a pointer to a [SMIL2.0] file, normally to the time container
        (SMIL &lt;par&gt; or &lt;seq&gt;) containing the media object that references this
        element. However, in a text-only DTB consisting of a sequence of
        text media objects, &lt;smilref&gt; points to the media object that
        references this element. &lt;smilref&gt; allows resumption of SMIL
        presentation at the proper location after navigation via dtbook file.
        All &lt;smilref&gt; values are expected to be added to an augmented
        version of the &lt;dtbook&gt; during production.

    %showin; (See entity declaration.)
    --&gt;

&lt;!ENTITY % attrsrqd
    "id          ID             #REQUIRED
     class       CDATA          #IMPLIED
     style       %StyleSheet;   #IMPLIED
     title       %Text;         #IMPLIED
     smilref     CDATA          #IMPLIED
     %i18n;
     %showin; " &gt;
    &lt;!-- %attrsrqd; includes required id and implied class, style, and
        title.

    %i18n; from which come the implied attributes: lang, xml:lang, and dir

    smilref is a pointer to a [SMIL2.0] file, normally to the time container
        (SMIL &lt;par&gt; or &lt;seq&gt;) containing the media object that references this
        element. However, in a text-only DTB consisting of a sequence of
        text media objects, &lt;smilref&gt; points to the media object that
        references this element. &lt;smilref&gt; allows resumption of SMIL
        presentation at the proper location after navigation via dtbook file.
        All &lt;smilref&gt; values are expected to be added to an augmented
        version of the &lt;dtbook&gt; during production.

    %showin; (See entity declaration.)
    --&gt;

&lt;!--========================= Document Structure ==========================--&gt;

&lt;!ENTITY % dtbookcontent
    "head, book" &gt;
    &lt;!-- dtbookContent designates that each dtbook has a &lt;head&gt; of
        metainformation preceding the &lt;book&gt; content.
    --&gt;

&lt;!--Use: dtbook is the root element in the Digital Talking Book DTD.
    &lt;dtbook&gt; contains metadata in &lt;head&gt; and the contents itself
    in &lt;book&gt;.
    --&gt;

&lt;!ELEMENT dtbook (%dtbookcontent;) &gt;

&lt;!--Attuse: dtbook

    "version" is required, and contains the specific
    version of the dtd, so that the dtd version for any dtbook can
    be recognized.

    "%i18n;" internationalization attributes characterize the &lt;book&gt;.
    Those values may be adjusted for language changes within it.
    --&gt;

&lt;!ATTLIST dtbook
  version CDATA #FIXED '1.1.0'
  %i18n;
  &gt;

&lt;!--======================== Document Head Metadata =======================--&gt;

&lt;!--HB: 2001-12-20 % headmisc added comment --&gt;

&lt;!ENTITY % headmisc
    "style | meta | link" &gt;
    &lt;!-- optional head elements --&gt;

&lt;!--Use: head contains metainformation about the book but no
    actual content of the book itself, which is placed in &lt;book&gt;.
    This information is consonant with the &lt;head&gt; information
    in xhtml, see [XHTML11STRICT]. Other miscellaneous elements can
    occur before and after the required &lt;title&gt;. By convention
    &lt;title&gt; should occur first.
    --&gt;

&lt;!ELEMENT head ((%headmisc;)*, title, (%headmisc;)*) &gt;

&lt;!--Attuse: head

    "profile" gives one or more
    whitespace-separated profile URI targets that may provide
    additional information about the current document.
    --&gt;

&lt;!ATTLIST head
  %i18n;
  profile %URI; #IMPLIED
  &gt;

&lt;!--Use: title contains the title of the book but is used only as
    metainformation in &lt;head&gt;. Use &lt;doctitle&gt; within &lt;book&gt; for
    the actual book title, which will usually be the same.
    --&gt;

&lt;!ELEMENT title (#PCDATA) &gt;

&lt;!ATTLIST title
  %i18n;
  &gt;

&lt;!--Use: link is an empty element appearing in the &lt;head&gt; section
    of a document that establishes a connection between the current
    document and another document. The &lt;link&gt; element conveys
    relationship information (for example, "next" and "previous") that
    may be rendered by user agents in a variety of ways.
    --&gt;

&lt;!ELEMENT link EMPTY &gt;

&lt;!--Attuse: link

    Each attribute use indicated by a parameter entity is
    defined in the comment following its definition.
    --&gt;

&lt;!ATTLIST link
  %attrs;
  charset %Charset; #IMPLIED
  href %URI; #IMPLIED
  hreflang %LanguageCode; #IMPLIED
  type %ContentType; #IMPLIED
  rel %LinkTypes; #IMPLIED
  rev %LinkTypes; #IMPLIED
  media %MediaDesc; #IMPLIED
  &gt;

&lt;!--Use: meta indicates metadata about the book. It is an empty
    element that may appear repeatedly only in &lt;head&gt;.
    --&gt;

&lt;!ELEMENT meta EMPTY &gt;

&lt;!--Attuse: meta

    "http-equiv" connects the content attribute
    value to an http header field.

    "name" value identifies the specific kind of
    content value.

    "content" indicates the value for that "name",
    possibly constrained by the semantics for the individual names.

    "scheme" indicates a predetermined format for interpreting
    the content value, such as the Dublin Core.
    --&gt;

&lt;!ATTLIST meta
  %i18n;
  http-equiv NMTOKEN #IMPLIED
  name NMTOKEN #IMPLIED
  content CDATA #REQUIRED
  scheme CDATA #IMPLIED
  &gt;

&lt;!--Use: style provides the means to include styling information
    that applies to the book. It may appear only in &lt;head&gt;.
    It may include CDATA sections.
    --&gt;

&lt;!ELEMENT style (#PCDATA) &gt;

&lt;!--Attuse: style

    "type" indicates the MIME-Type [RFC2045].
    Type value should be 'text/css', rather than 'text/javascript'.

    "media" value indicates the media for stylesheet
    definition(s); if multiple, separated by commas.

    "title" can provide menu choice among alternative
    stylesheets.

    "xml:space" value='preserve' indicates that whitespace in
    the &lt;style&gt; content is preserved without need to include its
    value in each &lt;style&gt;. (xml:space='default' accepts system style
    adjustment, such as adding its own indenting.)
    --&gt;

&lt;!ATTLIST style
  %i18n;
  type %ContentType; #REQUIRED
  media %MediaDesc; #IMPLIED
  title %Text; #IMPLIED
  xml:space (default | preserve) 'preserve'
  &gt;

&lt;!--============================ Book Content =============================--&gt;

&lt;!--Use: book surrounds the actual content of the document, which
    is divided into &lt;frontmatter&gt;, &lt;bodymatter&gt;, and &lt;rearmatter&gt;.
    &lt;head&gt;, which contains metadata, precedes &lt;book&gt;.
    --&gt;

&lt;!ELEMENT book (frontmatter?, bodymatter?, rearmatter?) &gt;

&lt;!ATTLIST book
  %attrs;
  &gt;

&lt;!--======================== Book Major Structures ========================--&gt;

&lt;!--Use: frontmatter usually contains &lt;doctitle&gt; and &lt;docauthor&gt;, as
    well as preliminary material that is often enclosed in appropriate
    &lt;level&gt; or &lt;level1&gt;. Content may include copyright notice, foreword,
    acknowledgments, table of contents, etc. &lt;frontmatter&gt; serves as a
    guide to the content and nature of a &lt;book&gt;.
    --&gt;

&lt;!ELEMENT frontmatter (doctitle | docauthor | level | level1 | %block;)+ &gt;

&lt;!ATTLIST frontmatter
  %attrs;
  &gt;

&lt;!--Use: bodymatter consists of the text proper of a book, as contrasted
    with preliminary material &lt;frontmatter&gt; or supplementary information
    in &lt;rearmatter&gt;.
    --&gt;

&lt;!ELEMENT bodymatter (level | level1 | %block;)+ &gt;

&lt;!ATTLIST bodymatter
  %attrs;
  &gt;

&lt;!--Use: rearmatter contains supplementary material such as
    appendices, glossaries, bibliographies, and indices. It follows
    the &lt;bodymatter&gt; of the book.
    --&gt;

&lt;!ELEMENT rearmatter (level | level1 | %block;)+ &gt;

&lt;!ATTLIST rearmatter
  %attrs;
  &gt;

&lt;!--================== dtbook Recursive Structure level ===================--&gt;

&lt;!--MM: 2002-02-14 Added doctitle and docauthor to content model of level
    to allow them to be contained in a level marking the cover or title page of
    a document. --&gt;
&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level from * to +.  --&gt;

&lt;!--Use: level is an alternative tag for marking the major
    structures in a book. It may be used recursively, i.e., repeated
    indefinitely with each successive occurrence nesting within the
    previous. It may also be included in a subsequent higher level.
    Subordinate levels have greater depth. Contrast with the explicit
    &lt;level1&gt;...&lt;level6&gt; elements, which may not be intermixed with
    &lt;level&gt;.
    --&gt;

&lt;!ELEMENT level (levelhd | %block; | %inlineinblock; | level | doctitle | docauthor)+ &gt;

&lt;!--Attuse: level

    "class" identifies the actual name (e.g., part,
    chapter, section, subsection) of the structure it marks.

    "depth" indicates the nesting depth, starting at 1.
    --&gt;

&lt;!ATTLIST level
  %attrs;
  depth CDATA #IMPLIED
  &gt;

&lt;!--============ dtbook Hierarchic Structure level1 ... level6 ============--&gt;

&lt;!--MM: 2002-02-14 Added doctitle and docauthor to content model of level1
    to allow them to be contained in a level1 marking the cover or title
    page of a document. --&gt;
&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level1 from * to +.  --&gt;

&lt;!--Use: level1 is the highest-level container of major divisions of
    a book. Used in &lt;frontmatter&gt;, &lt;bodymatter&gt;, and &lt;rearmatter&gt; to
    mark the largest divisions of the book (usually parts or chapters),
    inside which level2 subdivisions (often sections) may nest.
    The class attribute identifies the actual name (e.g., part, chapter)
    of the structure it marks. Contrast with &lt;level&gt;.
    --&gt;

&lt;!ELEMENT level1 (h1 | level2 | %block; | %inlineinblock; | doctitle | docauthor)+ &gt;

&lt;!ATTLIST level1
  %attrs;
  &gt;

&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level2 from * to +.  --&gt;

&lt;!--Use: level2 contains subdivisions that nest within &lt;level1&gt;
    divisions. The class attribute identifies the actual name (e.g.,
    subpart, chapter, subsection) of the structure it marks.
    --&gt;

&lt;!ELEMENT level2 (h2 | level3 | %block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST level2
  %attrs;
  &gt;

&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level3 from * to +.  --&gt;

&lt;!--Use: level3 contains sub-subdivisions that nest within &lt;level2&gt;
    subdivisions (e.g., sub-subsections within subsections). The class
    attribute identifies the actual name (e.g., section, subpart,
    subsubsection) of the subordinate structure it marks.
    --&gt;

&lt;!ELEMENT level3 (h3 | level4 | %block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST level3
  %attrs;
  &gt;

&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level4 from * to +.  --&gt;

&lt;!--Use: level4 contains further subdivisions that nest within &lt;level3&gt;
    subdivisions. The class attribute identifies the actual name
    of the subordinate structure it marks.
    --&gt;

&lt;!ELEMENT level4 (h4 | level5 | %block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST level4
  %attrs;
  &gt;

&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level5 from * to +.  --&gt;

&lt;!--Use: level5 contains further subdivisions that nest within &lt;level4&gt;
    subdivisions. The class attribute identifies the actual name
    of the subordinate structure it marks.
    --&gt;

&lt;!ELEMENT level5 (h5 | level6 | %block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST level5
  %attrs;
  &gt;

&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of level6 from * to +.  --&gt;

&lt;!--Use: level6 contains further subdivisions that nest within &lt;level5&gt;
    subdivisions. The class attribute identifies the actual name
    of the subordinate structure it marks.
    --&gt;

&lt;!ELEMENT level6 (h6 | %block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST level6
  %attrs;
  &gt;

&lt;!--============================= Text Markup =============================--&gt;

&lt;!ENTITY % phrase
    "em | strong | dfn | code | samp | kbd | cite | abbr | acronym" &gt;
    &lt;!-- inline text elements --&gt;

&lt;!--HB: 2001-12-20 % special added imggroup --&gt;

&lt;!ENTITY % special
    "a | img | imggroup | br | q | sub | sup | span | bdo | linenum" &gt;
    &lt;!-- special inline text elements --&gt;

&lt;!--HB: 2001-12-20 % specialnoa added imggroup --&gt;

&lt;!ENTITY % specialnoa
    "img | imggroup | br | q | sub | sup | span | bdo | linenum" &gt;
    &lt;!-- specialnoa inline text elements for anchor &lt;a&gt; --&gt;

&lt;!--=========================== Inline Entities ===========================--&gt;

&lt;!--HB: 2001-12-20 % dtbookinline added annoref. --&gt;

&lt;!ENTITY % dtbookinline
     "sent | w | pagenum | prodnote | annoref | noteref %externalinline;" &gt;
    &lt;!-- dtbook added inline text elements --&gt;

&lt;!ENTITY % inline
    "#PCDATA | %phrase; | %special; | %dtbookinline;" &gt;
    &lt;!-- inline text elements --&gt;

&lt;!ENTITY % inlinenoa
    "#PCDATA | %phrase; | %specialnoa; %externalinline;" &gt;
    &lt;!-- inlinenoa excludes nested &lt;a&gt; --&gt;

&lt;!--HB: 2001-12-20 % inlines added annoref. --&gt;

&lt;!ENTITY % inlines
     "#PCDATA | %phrase; | %special; | pagenum | w | prodnote | annoref |
         noteref %externalinline;" &gt;
    &lt;!-- inlines excludes direct nesting of sentences &lt;sent&gt; --&gt;

&lt;!ENTITY % inlinew
     "#PCDATA | %phrase; | %special; %externalinline;" &gt;
    &lt;!-- inlinew for word &lt;w&gt; excludes any of the %dtbookinline; --&gt;

&lt;!--HB: 2001-12-20 % inlinenopagenum added annoref. --&gt;

&lt;!ENTITY % inlinenopagenum
     "#PCDATA | %phrase; | %special; |
          sent | w | annoref | noteref %externalinline;" &gt;
    &lt;!-- inlinenopagenum excludes direct &lt;pagenum&gt; in &lt;table&gt; &lt;th&gt; and &lt;td&gt; --&gt;

&lt;!--HB: 2001-12-20 % inlinenoprodnote added annoref. --&gt;

&lt;!ENTITY % inlinenoprodnote
     "#PCDATA | %phrase; | %special; |
          sent | w | pagenum | annoref | noteref %externalinline;" &gt;
    &lt;!-- inlinenoprodnote excludes direct &lt;prodnote&gt;, as they shouldn't nest --&gt;


&lt;!--=================== Flow (Block or Inline) Entities ===================--&gt;

&lt;!--HB: 2001-12-20 % flow changed %block; to %blocknoimggroup; --&gt;

&lt;!ENTITY % flow
    "%inlinenoprodnote; | %blocknoimggroup;" &gt;
    &lt;!-- flow elements add inlinenoprodnote to block --&gt;

&lt;!--HB: 2001-12-20 % flownopagenum changed %block; to %blocknoimggroup; --&gt;

&lt;!ENTITY % flownopagenum
    "%inlinenopagenum; | %blocknoimggroup;" &gt;
    &lt;!-- flownopagenum ideally excludes pagenum though can get in
        indirectly through elements of %blocknoimggroup; --&gt;

&lt;!--============ Br, Linenum, Address, and Div Content Models =============--&gt;


&lt;!--Use: br marks a forced line break.
     --&gt;

&lt;!ELEMENT br EMPTY &gt;

&lt;!--Attuse: br

    The %coreattrs; only appear, as there is no content
    to which the more general %attrs; apply.
    --&gt;

&lt;!ATTLIST br
  %coreattrs;
  &gt;

&lt;!--Use: linenum contains a line number, for example in legal text.
    --&gt;

&lt;!ELEMENT linenum (#PCDATA) &gt;

&lt;!ATTLIST linenum
  %attrs;
  &gt;

&lt;!--Use: address contains a location at which a person or agency
    may be contacted. By use of &lt;line&gt; to contain content of the
    individual lines, the class attribute can be used to identify
    the content of that &lt;line&gt;. For example, class values might include:
    name, address, region (state. province, etc.), country, location
    code (such as zipcode, provincial code), phone, fax, email, etc.
    --&gt;

&lt;!ELEMENT address (%inline; | line)* &gt;

&lt;!ATTLIST address
  %attrs;
  &gt;
&lt;!--MM: 2002-02-14 Added doctitle and docauthor to content model of div to
    allow them to be contained in a div marking the cover or title page of
    a document. --&gt;
&lt;!--MM: 2002-02-19 Changed occurrence indicator on content model of div from * to +.  --&gt;
    
&lt;!--Use: div is a generic container for subdivisions of a book. The
    &lt;level1&gt; ... &lt;level6&gt; hierarchy, or the &lt;level&gt; tag used recursively,
    should mark the major hierarchical structures of a book, while &lt;div&gt;
    is used in less formal circumstances or when for production purposes
    it is desired that a structure should be treated differently.
    Compare with &lt;span&gt;, which is used in inline settings.
    --&gt;

&lt;!ELEMENT div (%block; | %inlineinblock; | doctitle | docauthor)+ &gt;

&lt;!--Attuse: div

    "level" may extend or augment explicit levels,
    to indicate nesting level, with values the positive integers, with
    '1' corresponding to &lt;level1&gt;, and value generally one larger than
    the enclosing level.

    "class" value can identify the
    actual name (e.g., part, chapter, letter) of the structure it marks.
    --&gt;

&lt;!ATTLIST div
  %attrs;
  level CDATA #IMPLIED
  &gt;

&lt;!--======= dtbook Block Elements Author, Notice, Prodnote, Sidebar =======--&gt;

&lt;!--Use: author identifies the writer of a work other than this one.
    Contrast with &lt;docauthor&gt;,  which identifies the author of this work.
    &lt;author&gt; typically occurs within &lt;blockquote&gt; or &lt;cite&gt;.
    --&gt;

&lt;!ELEMENT author (%inline;)* &gt;

&lt;!ATTLIST author
  %attrs;
  &gt;

&lt;!--Use: notice contains a warning, caution, or other type of admonition
    normally found in the margin of a book. In contrast with &lt;sidebar&gt;
    a &lt;notice&gt; must be presented at a specific location within the
    text. Its presentation is not optional.
    --&gt;

&lt;!ELEMENT notice (%inline;)* &gt;

&lt;!ATTLIST notice
  %attrs;
  &gt;

&lt;!--Use: prodnote contains language added to the alternative-format
    version by the producer; commonly used to:
    1) provide descriptions of one or more visual elements such
        as charts, graphs, etc.
    2) supply operating instructions
    3) describe differences between the print book and the audio
    version.
    --&gt;

&lt;!ELEMENT prodnote (%flow;)* &gt;

&lt;!--Attuse: prodnote

    "imgref" identifies the space-separated id value(s)
    on pertinent images &lt;img&gt;.

    "render" indicates that the content is
    'required or 'optional' for the user. If optional, some user
    preference may allow skipping over the content. But &lt;prodnote
    render='required'&gt; is essential content for the user. An
    audible cue could announce the presence of the &lt;prodnote&gt;.
    --&gt;

&lt;!ATTLIST prodnote
  %attrs;
  imgref IDREFS #IMPLIED
  render (required | optional) #IMPLIED
  &gt;

&lt;!--Use: sidebar contains information supplementary to the main
    text and/or narrative flow and is often boxed and printed apart
    from the main text block on a page. It may have a heading &lt;hd&gt;.
    --&gt;

&lt;!ELEMENT sidebar (%flow; | hd)* &gt;

&lt;!ATTLIST sidebar
  %attrs;
  &gt;

&lt;!--Use: note marks a footnote, endnote, etc. Any local reference to
&lt;note id="yyy"&gt; is by &lt;noteref idref="#yyy"&gt;.
    --&gt;

&lt;!ELEMENT note (%block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST note
  %attrsrqd;
  &gt;

&lt;!--Use: annotation is a comment on or explanation of a portion of
    a printed book. It differs from &lt;note&gt; in that an &lt;annotation&gt;
    is usually set in the margin or on a facing page, often with
    no explicit reference to it inserted in the text. Any local
    reference to &lt;annotation id="xxx"&gt; is by &lt;annoref idref="#xxx"&gt;.
    --&gt;

&lt;!ELEMENT annotation (%block; | %inlineinblock;)+ &gt;

&lt;!ATTLIST annotation
  %attrsrqd;
  &gt;

&lt;!--Use: line marks a single logical line of text. Often used in
    conjunction with &lt;linenum&gt; in documents with numbered lines.
    --&gt;

&lt;!ELEMENT line (%inline;)* &gt;

&lt;!ATTLIST line
  %attrs;
  &gt;

&lt;!--========================= The Anchor Element ==========================--&gt;

&lt;!--Use: a contains an anchor, which is used to reference another
    location, within the same or another &lt;dtbook&gt;.
    --&gt;

&lt;!ELEMENT a (%inlinenoa;)* &gt;

&lt;!--Attuse: a

    "href" value may have three forms:

    1) '#idref', in the &lt;dtbook&gt;, to the element type having the
        referenced id value;

    2) 'uri', a uniform resource identifier to a resource, typically a
        document, see [RFC2396], possibly restricted to work with only
        the &lt;dtbook&gt; document content, as referenced content is
        expected to be available on the same media, and off-media
        references may not be available;

    3) 'uri#xxx', in the resource uri, the element with id='xxx'.

    Uses of the remaining attributes other than %attrs; are:

        "type" is advisory content MIME type of the target, see [RFC1556];

        "hreflang" is the language code of the href target, see [RFC1766];

        "rel" is a list of forward link type(s), the relationship(s)
            expressed by the href value to the target, space-separated
            if multiple;

        "rev" is a list of reverse link types, the relationship(s)
            to this location from the href target, space-separated
            if multiple;

        "accesskey"=accessibility key character shortcut;

        "tabindex"=tabbing order.
    --&gt;

&lt;!ATTLIST a
  %attrs;
  type %ContentType; #IMPLIED
  href %URI; #IMPLIED
  hreflang %LanguageCode; #IMPLIED
  rel %LinkTypes; #IMPLIED
  rev %LinkTypes; #IMPLIED
  accesskey %Character; #IMPLIED
  tabindex %Number; #IMPLIED
  &gt;

&lt;!--=========================== Inline Elements ===========================--&gt;

&lt;!--Use: em indicates emphasis. Usually &lt;em&gt; is rendered in italics.
Compare with &lt;strong&gt;.
    --&gt;

&lt;!ELEMENT em (%inline;)* &gt;

&lt;!ATTLIST em
  %attrs;
  &gt;

&lt;!--Use: strong marks stronger emphasis than &lt;em&gt;. Visually &lt;strong&gt; is
     usually rendered bold. --&gt;

&lt;!ELEMENT strong (%inline;)* &gt;

&lt;!ATTLIST strong
  %attrs;
  &gt;

&lt;!--Use: dfn marks the first occurrence of a word or term that is
    defined or explained there or elsewhere in &lt;book&gt;. Often
    &lt;dfn&gt; is rendered in italics, sometimes in parentheses.
    --&gt;

&lt;!ELEMENT dfn (%inline;)* &gt;

&lt;!ATTLIST dfn
  %attrs;
  &gt;

&lt;!--Use: kbd designates information that the reader is to input
    directly into a computer using the keyboard.
    --&gt;

&lt;!ELEMENT kbd (%inline;)* &gt;

&lt;!ATTLIST kbd
  %attrs;
  &gt;

&lt;!--Use: code designates a fragment of computer code.
    --&gt;

&lt;!ELEMENT code (%inline;)* &gt;

&lt;!--Attuse: code

    "xml:space" value='preserve' preserves
    whitespace therein (except that an XML parser strips leading
    and trailing whitespace before passing the internal content
    including its original whitespace to the application.) The value
    'default' leaves the whitespace handling to the application.
    --&gt;

&lt;!ATTLIST code
  %attrs;
  xml:space (default | preserve) 'preserve'
  &gt;

&lt;!--Use: samp contains a sample of work created by the author for
    use as an example or template. For example, a sample business
    letter, resume, computer program output, or form.
    --&gt;

&lt;!ELEMENT samp (%inline;)* &gt;

&lt;!--Attuse: samp

    "xml:space" value 'preserve' preserves
    whitespace therein (except that an XML parser strips leading
    and trailing whitespace before passing the internal content
    including its original whitespace to the application.) The value
    'default' leaves the whitespace handling to the application.
    --&gt;

&lt;!ATTLIST samp
  %attrs;
  xml:space (default | preserve) 'preserve'
  &gt;

&lt;!--Use: cite marks a reference (or citation) to another document.
    --&gt;

&lt;!ELEMENT cite (%inline;)* &gt;

&lt;!ATTLIST cite
  %attrs;
  &gt;

&lt;!--Use: abbr designates an abbreviation, a shortened form of a
    word. For examples: Mr., approx., lbs., rec'd.
    Contrast with &lt;acronym&gt;.
    --&gt;

&lt;!ELEMENT abbr (%inline;)* &gt;

&lt;!--Attuse: abbr

    "title" value may expand that abbreviation.
    --&gt;

&lt;!ATTLIST abbr
  %attrs;
  &gt;

&lt;!--Use: acronym marks a word formed from key letters (usually
    initials) of a group of words. For examples: UNESCO, NATO, XML, US.
    Contrast with &lt;abbr&gt;.
    --&gt;

&lt;!ELEMENT acronym (%inline;)* &gt;

&lt;!--Attuse: acronym

    "title" value may expand that acronym.
    "pronounce" value 'yes' indicates that the
    acronym is pronounceable as a word (for example, NATO);
    'no' that the acronym is best presented as a sequence
    of letters (for examples, "XML" or  "US").
    --&gt;

&lt;!ATTLIST acronym
  %attrs;
  pronounce (yes | no) #IMPLIED
  &gt;

&lt;!--Use: sub indicates a subscript character (printed below a
    character's normal baseline). Can be used recursively and/or
    intermixed with &lt;sup&gt;.
    --&gt;

&lt;!ELEMENT sub (%inline;)* &gt;

&lt;!ATTLIST sub
  %attrs;
  &gt;

&lt;!--Use: sup marks a superscript character (printed above a
    character's normal baseline). Can be used recursively and/or
    intermixed with &lt;sub&gt;.
    --&gt;

&lt;!ELEMENT sup (%inline;)* &gt;

&lt;!ATTLIST sup
  %attrs;
  &gt;

&lt;!--Use: span is a generic container for use in inline settings
    when no specific tag exists for a given situation. The class
    attribute may describe the nature of the text it marks (e.g.,
    a typographical error). May be used to mark a class of items
    to which styles are to be applied. Compare with &lt;div&gt;, which
    is used in a block settings.
    --&gt;

&lt;!ELEMENT span (%inline;)* &gt;

&lt;!ATTLIST span
  %attrs;
  &gt;

&lt;!--Use: bdo is used in special cases where the automatic actions
    of the bi-directional algorithm would result in incorrect display.
    --&gt;

&lt;!ELEMENT bdo (%inline;)* &gt;

&lt;!--Attuse: bdo

    "lang" indicates the language of the content.

    "dir" indicates the writing direction: 'ltr' is
    left-to-right, 'rtl' is right-to-left.
    --&gt;

&lt;!ATTLIST bdo
  %coreattrs;
  lang %LanguageCode; #IMPLIED
  dir (ltr | rtl) #REQUIRED
  &gt;

&lt;!--=================== dtbook Inline Sentence and Word ===================--&gt;

&lt;!--Use: sent marks a sentence.
    --&gt;

&lt;!ELEMENT sent (%inlines;)* &gt;

&lt;!ATTLIST sent
  %attrs;
  &gt;

&lt;!--Use: w marks a word.
    --&gt;

&lt;!ELEMENT w (%inlinew;)* &gt;

&lt;!ATTLIST w
  %attrs;
  &gt;

&lt;!--======== Inline Page Number, Footnote and Annotation Reference ========--&gt;

&lt;!--Use: pagenum contains one page number as it appears from the print
    document, usually inserted at the point within the file immediately
    preceding the first item of content on a new page.
    --&gt;

&lt;!ELEMENT pagenum (#PCDATA) &gt;

&lt;!--Attuse: pagenum

    "page" allows three kinds of page numbering
    schemes to be identified:
        'normal' Arabic numbering in the body of the book is
            the default,
        'front' pages (from the &lt;frontmatter&gt;, often roman numbering),
        'special' pagination schemes such as letter prefix hyphen Arabic
            number in appendices.
    Each pagenum needs a unique id value, by convention it is derived
    from the actual pagenumber. For multi-page continuous content,
    such as large &lt;img&gt; or &lt;table&gt;, put the sequence of &lt;pagenum&gt; on
    the page where that content starts.
    --&gt;

&lt;!ATTLIST pagenum
  %attrsrqd;
  page (front | normal | special) 'normal'
  &gt;

&lt;!--Use: noteref marks one or more characters that reference a footnote
    or endnote &lt;note&gt;. Contrast with &lt;annoref&gt;. &lt;noteref&gt; and &lt;note&gt;
    are independently skippable.
    --&gt;

&lt;!ELEMENT noteref (#PCDATA) &gt;

&lt;!--Attuse: noteref

    "idref" relates to the note, for example:
    &lt;noteref idref='yyy'&gt; refers to &lt;note id='yyy'&gt;.

    "type" provides advisory content MIME type of
    the target, see [RFC1556].
    --&gt;

&lt;!ATTLIST noteref
  %attrs;
  idref CDATA #REQUIRED
  type %ContentType; #IMPLIED
  &gt;

&lt;!--Use: annoref marks a text segment that references an &lt;annotation&gt;.
    Each &lt;annoref&gt; is usually a word, phrase, or whole line that
    is part of the surrounding text (identified in the original
    print book by bolding, italics, etc.). It should not normally
    be allowed to be turned off in a DTB application.
    --&gt;

&lt;!ELEMENT annoref (#PCDATA) &gt;

&lt;!--Attuse: annoref

    "idref" refers to the target id of an
    &lt;annotation&gt;.

    "type" provides advisory content MIME
    type of the targeted id, see [RFC1556].
    --&gt;

&lt;!ATTLIST annoref
  %attrs;
  idref CDATA #REQUIRED
  type %ContentType; #IMPLIED
  &gt;

&lt;!--============================ Inline Quotes ============================--&gt;

&lt;!--Use: q contains a short, inline quotation. Compare with
    &lt;blockquote&gt;, which marks a longer quotation set off from the
    surrounding text.
    --&gt;

&lt;!ELEMENT q (%inline;)* &gt;

&lt;!--Attuse: q

    "cite" may provide a URI reference.
    --&gt;

&lt;!ATTLIST q
  %attrs;
  cite %URI; #IMPLIED
  &gt;

&lt;!--=============================== Images ================================--&gt;

&lt;!-- Image &lt;img&gt; comes from HTML. An &lt;img&gt; may be grouped
       using &lt;imggroup&gt;, with &lt;caption&gt;, and special
       usage instructions or description with &lt;prodnote&gt;. The &lt;imggroup&gt;
       element may contain one or more &lt;img&gt; and any associated
       &lt;caption&gt; and &lt;prodnote&gt;. Multiple &lt;img&gt; may share a single
       caption, or multiple &lt;caption&gt; may apply if several captions
       refer to a single &lt;img&gt;. Multiple &lt;prodnote&gt; may apply if
       different versions are needed for different media.
    --&gt;

&lt;!ENTITY % Length "CDATA" &gt;
    &lt;!-- measured in pixels, percent (nn%) --&gt;

&lt;!ENTITY % MultiLength "CDATA" &gt;
    &lt;!-- measured in integer pixels "n", percent "nn%" of display width,
         "0*" indicating minimum appropriate width based on column
         content, or "nn*" the relative proportional width (".5*" is
         half the available width after any explicit widths have been
         consumed). The lengths are separated by commas or whitespace. --&gt;

&lt;!ENTITY % Pixels "CDATA" &gt;
    &lt;!-- 0 for no &lt;table&gt; border, positive integer for &lt;table&gt; border width
        in pixels. --&gt;

&lt;!--HB: 2001-12-20 img Use: changed idref to imgref. --&gt;

&lt;!--Use: img marks a visual image. An &lt;img&gt; will always contain an alt and
    generally contain a longdesc, a pointer to a related &lt;prodnote&gt;. The
    &lt;img&gt; may be referenced by a &lt;caption&gt; or &lt;prodnote&gt;, using, for
    example, the form &lt;caption imgref="#yyy"&gt;the Caption&lt;/caption&gt; for
    the &lt;img id="yyy"&gt;.
    --&gt;

&lt;!ELEMENT img EMPTY &gt;

&lt;!--Attuse: img

    "src" specifies by URI the location of the image file.

    "alt" is used to supply a short description of the &lt;img&gt;.

    "longdesc" generally contains a pointer to a related
    &lt;prodnote&gt; that contains a detailed description of the &lt;img&gt;.

    The attributes "height" and "width" provide visual sizing
    information, measured in pixels.
    --&gt;

&lt;!ATTLIST img
  %attrs;
  src %URI; #REQUIRED
  alt %Text; #REQUIRED
  longdesc %URI; #IMPLIED
  height %Length; #IMPLIED
  width %Length; #IMPLIED
  &gt;

&lt;!--Use: imggroup provides a container for one or more &lt;img&gt; and associated
    &lt;caption&gt;(s) and &lt;prodnote&gt;(s). A &lt;prodnote&gt; may contain a description
    of the image. The content model allows:

    1) multiple &lt;img&gt; if they share a caption, with the ids of
    each &lt;img&gt; in the &lt;caption imgref="id1 id2 ..."&gt;,

    2) multiple &lt;caption&gt; if several captions refer to a single
    &lt;img id="xxx"&gt; where each caption has the same
    &lt;caption imgref="xxx"&gt;,

    3) multiple &lt;prodnote&gt; if different versions are needed for different
    media (e.g., large print, braille, or print).  If several &lt;prodnote&gt;
    refer to a single &lt;img id="xxx"&gt;, each prodnote has the same &lt;prodnote
    imgref="xxx"&gt;.
    --&gt;

&lt;!ELEMENT imggroup (prodnote | img | caption)+ &gt;

&lt;!ATTLIST imggroup
  %attrs;
  &gt;

&lt;!--=========================== Horizontal Rule ===========================--&gt;

&lt;!--Use: hr is an empty element, minimally &lt;hr /&gt;, indicating a horizontal
    rule. It may be used to indicate a break in the text where only
    blank lines, a row of asterisks, a horizontal line, etc. are used
    in the print book.
    --&gt;

&lt;!ELEMENT hr EMPTY &gt;

&lt;!--Attuse: hr

    "title" may be used to suggest the reason for the break.
    --&gt;

&lt;!ATTLIST hr
  %coreattrs;
  &gt;

&lt;!--============================= Paragraphs ==============================--&gt;

&lt;!--Use: p contains a paragraph, which may contain subsidiary &lt;list&gt; or &lt;dl&gt;.
    --&gt;

&lt;!ELEMENT p (%inline; | %list; | dl)* &gt;

&lt;!ATTLIST p
  %attrs;
  &gt;

&lt;!--================== Doctitle, Docauthor, and Headings  ==================--&gt;

&lt;!--Use: doctitle marks the title of the book within &lt;frontmatter&gt;.
    By convention &lt;doctitle&gt; should appear only once. Contrast with
    &lt;title&gt;, which occurs as metadata in &lt;head&gt; and whose content
    is generally the same.
    --&gt;

&lt;!ELEMENT doctitle (%inline;)* &gt;

&lt;!ATTLIST doctitle
  %attrs;
  &gt;

&lt;!--Use: docauthor marks each author or editor of this work. Compare with
    &lt;author&gt;, used to mark the author of another work, within &lt;blockquote&gt;
    or &lt;cite&gt;.
    --&gt;

&lt;!ELEMENT docauthor (%inline;)* &gt;

&lt;!ATTLIST docauthor
  %attrs;
  &gt;

&lt;!--Use: levelhd contains the text of a heading within &lt;level&gt;.
    Corresponds to &lt;h1&gt; through &lt;h6&gt; used in &lt;level1&gt; through &lt;level6&gt;.
    --&gt;

&lt;!--Attuse: levelhd

    "depth" is a positive integer, corresponding to the &lt;h1&gt;...&lt;h6&gt;
    levelN, though not limited to just six levels. Any depth value,
    "n", should match that on the enclosing &lt;level depth="n"&gt;.
    --&gt;

&lt;!ELEMENT levelhd (%inline;)* &gt;

&lt;!ATTLIST levelhd
  %attrs;
  depth CDATA #IMPLIED
  &gt;

&lt;!--Use: h1 contains the text of the heading for a &lt;level1&gt; structure.
    --&gt;

&lt;!ELEMENT h1 (%inline;)* &gt;

&lt;!ATTLIST h1
  %attrs;
  &gt;

&lt;!--Use: h2 contains the text of the heading for a &lt;level2&gt; structure.
    --&gt;

&lt;!ELEMENT h2 (%inline;)* &gt;

&lt;!ATTLIST h2
  %attrs;
  &gt;

&lt;!--Use: h3 contains the text of the heading for a &lt;level3&gt; structure.
    --&gt;

&lt;!ELEMENT h3 (%inline;)* &gt;

&lt;!ATTLIST h3
  %attrs;
  &gt;

&lt;!--Use: h4 contains the text of the heading for a &lt;level4&gt; structure.
    --&gt;

&lt;!ELEMENT h4 (%inline;)* &gt;
&lt;!ATTLIST h4
  %attrs;
  &gt;

&lt;!--Use: h5 contains the text of the heading for a &lt;level5&gt; structure.
    --&gt;

&lt;!ELEMENT h5 (%inline;)* &gt;

&lt;!ATTLIST h5
  %attrs;
  &gt;

&lt;!--Use: h6 contains the text of the heading for a &lt;level6&gt; structure.
    --&gt;

&lt;!ELEMENT h6 (%inline;)* &gt;

&lt;!ATTLIST h6
  %attrs;
  &gt;

&lt;!--Use: hd marks the text of a heading in a &lt;list&gt; or &lt;sidebar&gt;.
    --&gt;

&lt;!ELEMENT hd (%inline;)* &gt;

&lt;!ATTLIST hd
  %attrs;
  &gt;

&lt;!--========================== Preformatted Text ==========================--&gt;

&lt;!-- HTML or XHTML preformatted text is omitted, as inappropriate for
        narrated material. --&gt;

&lt;!--========================== Block-like Quotes ==========================--&gt;

&lt;!--Use: blockquote indicates a block of quoted content that is set
    off from the surrounding text by paragraph breaks. Compare with
    &lt;q&gt;, which marks short, inline quotations.
    --&gt;

&lt;!ELEMENT blockquote (%block;)* &gt;

&lt;!--Attuse: blockquote

    "cite" permits inclusion of the
    URI from which the &lt;blockquote&gt; came.
    --&gt;

&lt;!ATTLIST blockquote
  %attrs;
  cite %URI; #IMPLIED
  &gt;

&lt;!--================== Definition List, and Other Lists ===================--&gt;

&lt;!--Use: dl contains a definition list, usually consisting of pairs of
    terms &lt;dt&gt; and definitions &lt;dd&gt;. Any definition can contain another
    definition list.
    --&gt;

&lt;!ELEMENT dl (dt | dd | pagenum)+ &gt;

&lt;!ATTLIST dl
 %attrs;
  &gt;

&lt;!--Use: dt marks a term in a definition list &lt;dl&gt; for which a
    definition &lt;dd&gt; follows.
    --&gt;

&lt;!ELEMENT dt (%inline;)* &gt;

&lt;!ATTLIST dt
  %attrs;
  &gt;

&lt;!--Use: dd marks a definition of the preceding term &lt;dt&gt; within a
    definition list &lt;dl&gt;. A definition without a preceding &lt;dt&gt; has
    no semantic interpretation, but is visually presented aligned
    with other &lt;dd&gt;.
    --&gt;

&lt;!ELEMENT dd (%flow;)* &gt;

&lt;!ATTLIST dd
  %attrs;
  &gt;

&lt;!--Use: list contains some form of list, ordered or unordered.
    The list may have intermixed heading &lt;hd&gt; (generally only one,
    possibly with &lt;prodnote&gt;) and an intermixture of list items &lt;li&gt;
    and &lt;pagenum&gt;. If bullets and outline enumerations are part of
    the print content, they are expected to prefix those list items
    in content, rather than be implicitly generated. Note: XHTML
    has explicitly distinguished list element types: ol for ordered,
    and ul for unordered.
    --&gt;

&lt;!ELEMENT list (hd | prodnote | li | pagenum)+ &gt;

&lt;!--Attuse: list

    "type" indicates whether the list items
    &lt;li&gt; are ordered 'ol' or unordered 'ul'.

    "depth" indicates nesting depth of lists within list items &lt;li&gt;
    of ancestor lists, starting at 1.

    "enum" indicates the kind of enumeration:
        '1'=integer,
        'a'=lowercase,
        'U'=uppercase,
        'i'=lowercase Roman, or
         X'=uppercase Roman.

    "bullet" can come from Unicode, using the entity
    reference form '&amp;xdddd;'.
    --&gt;

&lt;!ATTLIST list
  %attrs;
  type (ol | ul) #IMPLIED
  depth CDATA #IMPLIED
  enum (1 | a | U | i | X) #IMPLIED
  bullet CDATA #IMPLIED
  &gt;

&lt;!--Use: li marks each list item in a &lt;list&gt;. &lt;li&gt; content may be
    either inline or block and may include other nested
    lists. Alternatively it may contain a sequence of list item
    components, &lt;lic&gt;, that identify regularly occurring content,
    such as the heading and page number of each entry in a
    table of contents.
    --&gt;

&lt;!ELEMENT li (%flow; | lic)* &gt;

&lt;!ATTLIST li
  %attrs;
  &gt;

&lt;!--Use: lic ("list item component") allows ordered substructure
    within a list item &lt;li&gt;. Used when a list item is made up of
    two or more components, as in a table of contents entry.
    The same number of &lt;lic&gt; should occur in each &lt;li&gt;. If not,
    correspondence of &lt;lic&gt; in different &lt;li&gt; is in order of
    occurrence for the current writing direction of the &lt;li&gt;.
    --&gt;

&lt;!ELEMENT lic (%inline;)* &gt;

&lt;!--Attuse: lic

    class attribute may be used to identify the particular
    component of a list item &lt;li&gt;. For example, in a table of contents
    class values might include "section", and "pagenumber".
    --&gt;

&lt;!ATTLIST lic
  %attrs;
  &gt;

&lt;!--=============================== Tables ================================--&gt;

&lt;!-- The XHTML &lt;table&gt; model is used, including the presentational
        attributes that have little meaning in Digital Talking Books,
        but may be useful for concurrent display in different media.
        That model is derived from IETF HTML table standard, see [RFC1942].

        Note: The XHTML &lt;table&gt; model has been enhanced from HTML to allow
        a simple &lt;table&gt; of one or more rows &lt;tr&gt;.
    --&gt;

&lt;!ENTITY % Scope
    "(row | col | rowgroup | colgroup)" &gt;
    &lt;!-- Scope specifies a set of data cells for which the &lt;th&gt; provides
        header information. --&gt;

&lt;!ENTITY % TFrame
    "(void | above | below | hsides | lhs | rhs | vsides | box | border)" &gt;
    &lt;!-- TFrame identifies the sides that are visually framed. --&gt;

&lt;!--HB: 2001-12-20 % Trules added default meaning from xhtml strict dtd.--&gt;
&lt;!ENTITY % TRules
    "(none | groups | rows | cols | all)" &gt;
    &lt;!-- %TRules identifies where visual rulings appear.
        If no Trules is present then assume:
        'none' if border is absent or border='0' otherwise 'all'. --&gt;

&lt;!--HB: 2001-12-20 % cellhalign clarified interitance. --&gt;

&lt;!ENTITY % cellhalign
    "align      (left|center|right|justify|char) #IMPLIED
     char       %Character;    #IMPLIED
     charoff    %Length;       #IMPLIED" &gt;
    &lt;!-- % cellhalign
        cellhalign sets horizontal alignment of content in
        a table cell.

        char indicates a character expected in each table
        cell of a column that text should align on. The default is
        the decimal point for the current language.

        charoff sets the alignment offset of the first character
        to align on, as specified with char.

        Inheritance order for horizontal alignment is &lt;th&gt;|&lt;td&gt;,
        &lt;tr&gt;, &lt;thead&gt;|&lt;tfoot&gt;|&lt;tbody&gt;, &lt;col&gt;, &lt;colgroup&gt;, default. The
        default value is from the user agent, and may be affected
        by user preference. The recommended default alignment for
        &lt;th&gt; is center, and for &lt;td&gt; is left.
         --&gt;

&lt;!--HB: 2001-12-20 % cellvalign clarified interitance. --&gt;

&lt;!ENTITY % cellvalign
    "valign     (top|middle|bottom|baseline) #IMPLIED" &gt;
    &lt;!-- % cellvalign
        valign sets vertical alignment of content in a table cell.

        Inheritance order for vertical alignment is &lt;th&gt;|&lt;td&gt;, &lt;col&gt;,
        &lt;colgroup&gt;, &lt;tr&gt;, &lt;thead&gt;|&lt;tfoot&gt;|&lt;tbody&gt;, default. The
        default value is from the user agent, and may be affected
        by user preference. The recommended default is middle.
        --&gt;

&lt;!--Use: table contains cells of tabular data arranged in rows and
    columns. A &lt;table&gt; may have a &lt;caption&gt;. It may have descriptions of
    the columns in &lt;col&gt;s or groupings of several &lt;col&gt; in &lt;colgroup&gt;.
    A simple &lt;table&gt; may be made up of just rows &lt;tr&gt;. A long table
    crossing several pages of the print book should have separate
    &lt;pagenum&gt; values for each of the pages containing that &lt;table&gt;
    indicated on the page where it starts. Note the logical order of
    optional &lt;thead&gt;, optional &lt;tfoot&gt;, then one or more of either
    &lt;tbody&gt; or just rows &lt;tr&gt;. This order accommodates simple or large,
    complex tables. The &lt;thead&gt; and &lt;tfoot&gt; information usually helps
    identify content of the &lt;tbody&gt; rows, For a multiple-page print
    &lt;table&gt; the &lt;thead&gt; and &lt;tfoot&gt; are repeated on each page, but
    not redundantly tagged.
    --&gt;

&lt;!--HB: 2001-12-20 table updated model to xhtml strict dtd, adding
        simple table of just rows (tr). Added attribute inheritance
        information from RFC1942. --&gt;

&lt;!ELEMENT table (caption?, (col* | colgroup*), thead?, tfoot?, (tbody+| tr+)) &gt;

&lt;!--Attuse: table

    "summary" value provides a textual summary.

    The attributes: "width", "border", "frame", "rules", "cellspacing",
    and "cellpadding" provide visual presentation guidance. See their
    explanation in the comment following those parameter entity
    declarations.
    --&gt;

&lt;!ATTLIST table
  %attrs;
  summary %Text; #IMPLIED
  width %Length; #IMPLIED
  border %Pixels; #IMPLIED
  frame %TFrame; #IMPLIED
  rules %TRules; #IMPLIED
  cellspacing %Length; #IMPLIED
  cellpadding %Length; #IMPLIED
  &gt;
&lt;!--Use: caption describes a &lt;table&gt; or &lt;img&gt;. If used with &lt;table&gt; it
    must follow immediately after the &lt;table&gt; start tag. If used
    with &lt;img&gt; or &lt;imggroup&gt; it is not so constrained.
    --&gt;

&lt;!ELEMENT caption (%inline;)* &gt;

&lt;!--HB: 2001-12-20 caption added imgref extension for dtbook comment. --&gt;

&lt;!--Attuse: caption

    "imgref" value (or space-separated
    id values) identifies the id values of the &lt;img&gt;(s) to which the
    caption applies. Any internal id reference is preceded by '#id'.
    Note: imgref is an extension for dtbook.
    --&gt;

&lt;!ATTLIST caption
  %attrs;
  imgref IDREFS #IMPLIED
  &gt;

&lt;!--HB: 2001-12-20 thead updated Use to xhtml strict dtd. --&gt;

&lt;!--Use: thead marks header information in a &lt;table&gt;, consisting of
    one or more rows &lt;tr&gt; of &lt;th&gt; cells. Use &lt;thead&gt; to duplicate
    headers when breaking table across page boundaries, or for static
    headers when &lt;tbody&gt; sections are rendered in scrolling panel.
    --&gt;

&lt;!ELEMENT thead (tr)+ &gt;

&lt;!ATTLIST thead
  %attrs;
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--HB: 2001-12-20 tfoot updated Use to xhtml strict dtd. --&gt;

&lt;!--Use: tfoot marks footer information in a &lt;table&gt;, consisting of
    one or more rows &lt;tr&gt;, usually of &lt;th&gt; cells. Use &lt;tfoot&gt; to
    duplicate footers when breaking table across page boundaries,
    or for static footers when &lt;tbody&gt; sections are rendered in
    scrolling panel.
    --&gt;

&lt;!ELEMENT tfoot (tr)+ &gt;

&lt;!ATTLIST tfoot
  %attrs;
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--HB: 2001-12-20 tbody updated Use to xhtml strict dtd. --&gt;

&lt;!--Use: tbody marks a group of rows in the main body of a &lt;table&gt;. If
    the &lt;table&gt; is divided into several sections, each consisting of a
    number of rows, each section would be separately tagged with &lt;tbody&gt;.
    The same &lt;thead&gt; and &lt;tfoot&gt; apply to every &lt;tbody&gt; section.
    Use multiple &lt;tbody&gt; sections when rules are needed between groups
    of table rows.
    --&gt;

&lt;!ELEMENT tbody (tr)+ &gt;

&lt;!ATTLIST tbody
  %attrs;
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--Use: colgroup groups adjacent columns &lt;col&gt; that are semantically
    related.
    --&gt;

&lt;!ELEMENT colgroup (col)* &gt;

&lt;!--HB: 2001-12-20 colgroup updated Attuse to xhtml strict dtd. --&gt;

&lt;!--Attuse: colgroup

    "span" causes the attributes of one
    col element to apply to more than one column, extending in the
    writing direction for the language. Span is ignored if
    any &lt;col&gt; are present.

    "width" specifies the width of the columns, e.g.

        width='64'        width in screen pixels
        width='0.5*'      relative width of 0.5

    "width" may contain a space- or comma-separated list of widths
    for each &lt;col&gt;, or percentages if values end in '%', or relative
    'nn*' to indicate a fractional portion of the remaining
    widths after more explicit forms have been specified for other
    columns in the colgroup (presumably the sum encompasses all
    the columns). '0*' indicates minimal acceptable width based
    on column content.

    The &lt;col&gt; in a &lt;colgroup&gt; may inherit attribute values
    from it, or the closest enclosing ancestor element:
    &lt;thead&gt;|&lt;tfoot&gt;|&lt;tbody&gt;. If none, then the values are up to the
    user agent, possibly by user preference.
    --&gt;

&lt;!ATTLIST colgroup
  %attrs;
  span NMTOKEN '1'
  width %MultiLength; #IMPLIED
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--Use: col elements define the alignment properties for cells in
    one or more columns.
    --&gt;

&lt;!ELEMENT col EMPTY &gt;

&lt;!--Attuse: col
    "span" indicates how many columns the &lt;col&gt;
    extends, in the writing direction of the &lt;table&gt;. The
    attribute values apply to &lt;th&gt; and &lt;td&gt; that start in the
    column, even if they extend into the next column(s), by
    span value more than 1, and that next &lt;col&gt; may have different
    attribute values.

    "width" may contain a space- or comma-separated list of widths
    for each &lt;col&gt; of the span, or percentages if values end in '%',
    or relative 'nn*' to indicate a fractional portion of the remaining
    widths after more explicit forms have been specified for other
    columns in the span (presumably the sum encompasses all
    the columns of this span, and of other &lt;colgroup&gt;s). '0*' indicates
    minimal acceptable width based on individual &lt;col&gt; content.

    &lt;col&gt; may inherit attribute values from the most immediate
    enclosing ancestor element: &lt;colgroup&gt;, &lt;thead&gt;|&lt;tbody&gt;|&lt;tfoot&gt;.
    If none, it is up to the user agent, possibly by user preference.
    --&gt;

&lt;!ATTLIST col
  %attrs;
  span NMTOKEN '1'
  width %MultiLength; #IMPLIED
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--Use: tr marks one row of a &lt;table&gt; containing &lt;th&gt; or &lt;td&gt; cells.
    --&gt;

&lt;!ELEMENT tr (th | td)+ &gt;

&lt;!--Attuse: tr

    %cellvalign; values provide default vertical alignment
    values for &lt;th&gt; and &lt;td&gt; in the row, overriding any from
        &lt;thead&gt;|&lt;tbody&gt;|&lt;tfoot&gt;, &lt;col&gt;, &lt;colgroup&gt;
    If none, it is up to the user agent, possibly by user preference.

    %cellhalign; values provide default horizontal alignment from
        &lt;thead&gt;|&lt;tbody&gt;|&lt;tfoot&gt;
    If none, it is up to the user agent, possibly by user preference.

    --&gt;

&lt;!ATTLIST tr
  %attrs;
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--Use: th indicates a table cell containing header information.
    --&gt;

&lt;!ELEMENT th (%flownopagenum;)* &gt;

&lt;!--Attuse: th

    The uses of attributes other than %attrs; %cellvalign; and %cellhalign;
    are shown below. See [HTML401STRICT] for details and examples.

    "abbr" provides an abbreviated name for a &lt;th&gt; cell that can be used
    when referring to that &lt;th&gt; cell. Its default value is the cell content.

    "axis" is used to place cells into conceptual categories in order to
    provide improved access to information.

    "headers" provides the id value(s), used with &lt;td&gt; cells, to reference
    one or more cells with &lt;th id="xxx"&gt; that contain headings that
    collectively describe or qualify the content of the cell, for example
    &lt;td headers="id1 id2"&gt;.

    "scope" identifies one of
        (row | rowgroup | column | colgroup)
    to which the header information applies.

    "rowspan" indicates the total number of rows that the cell extends, by 
    default 1. All spanned cells share these attributes.

    "colspan" indicates the total number of columns the cell extends,
    by default 1, in the writing direction of the table. All spanned
    cells share these attributes.
    --&gt;

&lt;!ATTLIST th
  %attrs;
  abbr %Text; #IMPLIED
  axis CDATA #IMPLIED
  headers IDREFS #IMPLIED
  scope %Scope; #IMPLIED
  rowspan NMTOKEN '1'
  colspan NMTOKEN '1'
  %cellhalign;
  %cellvalign;
  &gt;

&lt;!--Use: td indicates a table cell containing data.
    --&gt;

&lt;!ELEMENT td (%flownopagenum;)* &gt;

&lt;!--Attuse: td

    The uses of attributes other than %attrs; %cellhalign; and %cellvalign;
    are shown below.  See [HTML401STRICT] for details and examples.

    "abbr" provides an abbreviated name for a &lt;th&gt; cell that can be used
    when referring to that &lt;th&gt; cell. Its default value is the cell content.

    "axis" is used to place cells into conceptual categories in order to
    provide improved access to information.

    "headers" provides the id value(s), used with &lt;td&gt; cells, to reference
    one or more cells with &lt;th id="xxx"&gt; that contain headings that
    collectively describe or qualify the content of the cell, for example
    &lt;td headers="id1 id2"&gt;.

    "scope" identifies one of
        (row | rowgroup | column | colgroup)
    to which the header information applies.
    
    "rowspan" indicates the total number of rows that the cell extends, by 
    default 1. All spanned cells share these attributes.

    "colspan" indicates the total number of columns the cell extends,
    by default 1, in the writing direction of the table. All spanned
    cells share these attributes.
    --&gt;

&lt;!ATTLIST td
  %attrs;
  abbr %Text; #IMPLIED
  axis CDATA #IMPLIED
  headers IDREFS #IMPLIED
  scope %Scope; #IMPLIED
  rowspan NMTOKEN '1'
  colspan NMTOKEN '1'
  %cellhalign;
  %cellvalign;
  &gt;


</samp>
</pre>


<p id="para_212o"><a href="#toc">Contents</a></p> 
<h1 id="h1_22"><a name="DTBSMILDTD">Appendix 2 - DTB-Specific SMIL DTD</a></h1>
<h3 id="h3_112">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at 
<a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>

<pre><samp id="smp_24">
&lt;!--SMIL 2.0 DTB-specific DTD Version 1.1.0 2002-02-12
file: dtbsmil110.dtd 

Authors: Michael Moodie, Tom McLaughlin, Lloyd Rasmussen
Change list:
2002-02-12  M. Moodie. Dropped version attribute on smil element, as this attribute 
is not present in SMIL specification.

Description:	
This DTD is intended for use only with DTB applications.  Documents valid to this DTD 
will also be valid to the DTB SMIL Profile, but not necessarily vice versa, as this 
DTD contains only a subset of the elements and attributes present in the DTB SMIL 
Profile.  This DTD is in some areas more restrictive than the Profile (e.g., requiring 
IDs on some elements), to enforce structure critical to the DTB application.

The following identifiers apply to this DTD: 
"-//NISO//DTD dtbsmil v1.1.0//EN"
"http://www.loc.gov/nls/z3986/v100/dtbsmil110.dtd"
--&gt;


&lt;!ENTITY	% Core.attrib
	"id		ID		#IMPLIED
	class		CDATA		#IMPLIED
	title		CDATA		#IMPLIED"
&gt;

&lt;!ENTITY % URI "CDATA"&gt;
    &lt;!-- a Uniform Resource Identifier, see [RFC2396] --&gt;

&lt;!ELEMENT	smil	(head, body) &gt;
&lt;!ATTLIST	smil
	%Core.attrib;
	xml:lang	NMTOKEN		#IMPLIED
&gt;

&lt;!ELEMENT	head	((meta)*, (layout)?, (customAttributes)? ) &gt;
&lt;!ATTLIST	head
	%Core.attrib;
	xml:lang	NMTOKEN		#IMPLIED
&gt;


&lt;!ELEMENT	meta	EMPTY &gt;
&lt;!ATTLIST	meta
	name		CDATA		#REQUIRED
	content		CDATA		#IMPLIED
&gt;

&lt;!-- only smil basic layout allowed; not CSS2. 
     root-layout not included, is implementation dependent.
--&gt;
&lt;!ELEMENT	layout	(region)+ &gt;
&lt;!ATTLIST	layout
	%Core.attrib;
	xml:lang	NMTOKEN		#IMPLIED
&gt;

&lt;!ELEMENT	region	EMPTY &gt;
&lt;!ATTLIST	region
	id			ID		#REQUIRED
	height			CDATA		'auto'
	width			CDATA		'auto'
	bottom			CDATA		'auto'
	top			CDATA		'auto'
	left			CDATA		'auto'
	right			CDATA		'auto'
	fit			(hidden|fill|meet|scroll|slice)	'hidden'
	z-index			CDATA		#IMPLIED
	backgroundColor		CDATA		#IMPLIED
	showBackground		(always|whenActive)	'always'
&gt;

&lt;!ELEMENT	customAttributes	(customTest)+ &gt;
&lt;!ATTLIST	customAttributes
	%Core.attrib;
	xml:lang	NMTOKEN		#IMPLIED
&gt;
	
&lt;!ELEMENT	customTest	EMPTY &gt;
&lt;!ATTLIST	customTest
	id			ID		#REQUIRED
	class			CDATA		#IMPLIED
	defaultState		(true|false) 	'false'
	title			CDATA		#IMPLIED
	xml:lang		NMTOKEN		#IMPLIED
	override		(visible|hidden) 'hidden'
&gt;

&lt;!-- Even though body functions as a seq, and you don't need a base set of seqs 
wrapping the whole presentation, for DTB applications a base set of seqs should be used.  
The dur attribute on the first seq is used by the player to determine the length of the 
SMIL presentation. --&gt;
&lt;!ELEMENT	body	(par|seq|text|audio|img|a)+ &gt;
&lt;!ATTLIST	body
	%Core.attrib;
	xml:lang	NMTOKEN		#IMPLIED
&gt;

&lt;!ELEMENT	seq	(par|seq|text|audio|img|a)+ &gt;
&lt;!ATTLIST	seq	
	id		ID		#REQUIRED 
	class		CDATA		#IMPLIED
	customTest 	IDREF		#IMPLIED
	dur		CDATA		#IMPLIED

&gt;

&lt;!-- pars are not allowed to nest.
--&gt;
&lt;!ELEMENT	par	(seq|text|audio|img|a)+ &gt;
&lt;!ATTLIST	par
	id		ID		#REQUIRED
	class		CDATA		#IMPLIED
	customTest 	IDREF		#IMPLIED
&gt;

&lt;!ELEMENT	text	EMPTY &gt;
&lt;!ATTLIST	text
	id		ID		#IMPLIED
	region		CDATA		#IMPLIED
	src		CDATA		#REQUIRED
	type		CDATA		#IMPLIED
&gt;
	
&lt;!ELEMENT	audio	EMPTY &gt;
&lt;!ATTLIST	audio
	id		ID		#IMPLIED
	src		CDATA		#REQUIRED
	type		CDATA		#IMPLIED
	clipBegin	CDATA		#IMPLIED
	clipEnd		CDATA		#IMPLIED
	region		CDATA		#IMPLIED
&gt;

&lt;!ELEMENT	img	EMPTY &gt;
&lt;!ATTLIST	img
	id		ID		#IMPLIED
	region		CDATA		#IMPLIED
	src		CDATA		#REQUIRED
	type		CDATA		#IMPLIED
&gt;

&lt;!ELEMENT	a	(text|audio|img)* &gt;
&lt;!ATTLIST	a
	href		%URI;		#REQUIRED
	xml:lang	NMTOKEN		#IMPLIED
	%Core.attrib;
&gt;
</samp>
</pre>


<p id="para_212p"><a href="#toc">Contents</a></p>

<h1 id="h1_23"><a name="NCXDTD">Appendix 3 - NCX DTD</a></h1>
<h3 id="h3_113">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at 
<a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>

<pre><samp id="smp_25">
&lt;!-- NCX 1.1.0 DTD  2002-02-27 
file: ncx110.dtd                                 

  Authors: Mark Hakkinen, George Kerscher, Tom McLaughlin, James Pritchett, and 
  Michael Moodie
  Change list:
  2002-02-12 M. Moodie. Changed content model of navLabel element to eliminate ambiguity.
  2002-02-27 M. Moodie. Grammatical changes suggested by editor.
           
  Description:
                                                  
  NCX (Navigation Control for XML applications) is a generalized navigation definition 
  DTD for application to Digital Talking Books, eBooks, and general web content models. 
  This DTD is an XML application that layers navigation functionality on top of SMIL 2.0 
  content.                                       
  
  The NCX defines a navigation path/model that may be applied upon existing publications,
  without modification of the existing publication source, so long as the navigation 
  targets within the source publication can be directly referenced via a URI.                      
         		
--&gt;
   
&lt;!-- The following identifiers apply to this DTD:
	"-//NISO//DTD ncx v1.1.0//EN"
	"http://www.loc.gov/nls/z3986/v100/ncx110.dtd"
--&gt;

&lt;!-- Basic Entities --&gt;

&lt;!ENTITY % i18n 
  "lang		NMTOKEN		#IMPLIED
  dir		(ltr|rtl)	#IMPLIED" &gt;

&lt;!ENTITY % SMILtimeVal	"CDATA" &gt;
&lt;!ENTITY % uri		"CDATA" &gt;
&lt;!ENTITY % script		"CDATA" &gt;

&lt;!-- ELEMENTS --&gt;

&lt;!-- Top Level NCX Container. --&gt;
&lt;!ELEMENT ncx (head, docTitle, docAuthor*, navMap, navList*)&gt;
&lt;!ATTLIST ncx 
  version     CDATA     #FIXED "1.1.0"
  %i18n;
&gt;

&lt;!-- Document Head - Contains all NCX metadata.  
--&gt;

&lt;!ELEMENT head (smilCustomTest | meta)+&gt;

&lt;!-- smilCustomTest - Duplicates customTest data found in SMIL files.  Each unique 
customTest element that appears in one or more SMIL files must have its attributes 
duplicated in a smilCustomTest element in the NCX.  The NCX thus gathers in one place 
all customTest elements used in the SMIL files, for presentation to the user.
--&gt;
&lt;!ELEMENT smilCustomTest EMPTY&gt;
&lt;!ATTLIST smilCustomTest
id		ID		#REQUIRED
defaultState	(true|false) 	'false'
override	(visible|hidden) 'hidden'&gt;  

&lt;!-- Meta Element - metadata about this NCX --&gt;
&lt;!ELEMENT meta EMPTY&gt;
&lt;!ATTLIST meta
  name		CDATA		#REQUIRED
  content	CDATA		#REQUIRED
  scheme	CDATA		#IMPLIED
&gt;

&lt;!-- DocTitle - the title of the document, required and must immediately follow head. 
--&gt;

&lt;!ELEMENT docTitle (text, audio?)&gt;
&lt;!ATTLIST docTitle
  id		ID		#IMPLIED
  %i18n;
&gt;

&lt;!-- DocAuthor - the author of the document, immediately follows docTitle.
--&gt;

&lt;!ELEMENT docAuthor (text, audio?)&gt;
&lt;!ATTLIST docAuthor
  id		ID		#IMPLIED
  %i18n;
&gt;

&lt;!-- Navigation Structure - container for all of the NCX objects that are part of the 
hierarchical structure of the document.
--&gt;

&lt;!ELEMENT navMap (navLabel*, navPoint+)&gt;
&lt;!ATTLIST navMap
  id		ID		#IMPLIED
&gt;

&lt;!-- Navigation Point - contains description(s) of target, as well as a pointer to 
entire content of target.  Hierarchy is represented by nesting navPoints.  "class" 
attribute describes the kind of structural unit this object represents (e.g., "chapter", 
"section").  "value" attribute is a numerical representation of the text content of 
the label if this is a purely numerical (integer only) label (e.g., a page number).  
"pageRef" is the id of the page navTarget on which this structure target begins.
--&gt;
&lt;!ELEMENT navPoint (navLabel+, content, navPoint*)&gt;
&lt;!ATTLIST navPoint
  id		ID		#REQUIRED
  onFocus	%script;	#IMPLIED
  onBlur	%script;	#IMPLIED
  class		CDATA		#IMPLIED
  value		CDATA		#IMPLIED
  pageRef	IDREF		#IMPLIED
&gt;

&lt;!-- Navigation List - container for distinct, flat sets of navigable elements, e.g.  page 
numbers, notes, figures, tables, etc.  Essentially a flat version of navMap.  The "class" 
attribute describes the type of object contained in this navList, using dtbook element names, 
e.g., pagenum, note.
--&gt;

&lt;!ELEMENT navList   (navLabel+, navTarget+) &gt;
&lt;!ATTLIST navList
  id		ID		#IMPLIED
  class		CDATA		#IMPLIED
&gt;

&lt;!-- Navigation Target - contains description(s) of target, as well as a pointer to entire 
content of target.  navTargets are the equivalent of navPoints for use in navLists. 
"mapRef" is the id of another navPoint within this NCX that contains this navTarget.  
"class" attribute describes the kind of structure this target represents, using its dtbook 
element name, e.g., pagenum, note.
--&gt;

&lt;!ELEMENT navTarget  (navLabel+, content) &gt;
&lt;!ATTLIST navTarget
  id		ID		#REQUIRED
  onFocus	%script;	#IMPLIED
  onBlur	%script;	#IMPLIED 
  class		CDATA		#IMPLIED
  value		CDATA		#IMPLIED
  mapRef	IDREF		#REQUIRED
&gt;

 
&lt;!-- Navigation Label - Contains a description of a given &lt;navMap&gt;, &lt;navPoint&gt;, &lt;navList&gt;, or &lt;navTarget&gt; in various media for presentation 
to the user. Can be repeated so descriptions can be provided in multiple languages. --&gt;
&lt;!ELEMENT navLabel (((text, audio?) | audio), img?)&gt;
&lt;!ATTLIST navLabel
	%i18n; 
&gt;


&lt;!-- Content Element - pointer into SMIL to beginning of navPoint. --&gt;
&lt;!ELEMENT content EMPTY&gt;
&lt;!ATTLIST content
  id		ID		#IMPLIED
  src		%uri;		#REQUIRED
&gt;

&lt;!-- Text Element - Contains text of docTitle, navPoint heading, navTarget (e.g., page 
number), or label for navMap or navList. --&gt;
&lt;!ELEMENT text (#PCDATA)&gt;
&lt;!ATTLIST text
  id		ID		#IMPLIED
  class		CDATA		#IMPLIED
&gt;

&lt;!-- Audio Element - audio clip of navPoint heading. --&gt;
&lt;!ELEMENT audio EMPTY&gt;
&lt;!ATTLIST audio
  id		ID		#IMPLIED
  class	 	CDATA		#IMPLIED
  src		%uri;		#REQUIRED
  clipBegin	%SMILtimeVal;	#IMPLIED
  clipEnd	%SMILtimeVal;	#IMPLIED
&gt;

&lt;!-- Image Element - image that may accompany heading. --&gt;
&lt;!ELEMENT img EMPTY&gt;
&lt;!ATTLIST img
  id		ID		#IMPLIED
  class		CDATA		#IMPLIED
  src		%uri;		#REQUIRED
&gt;

</samp>
</pre>

<p id="para_212q"><a href="#toc">Contents</a></p>


<h1 id="h1_24"><a name="BKMKDTD">Appendix 4 - DTD for Portable Bookmarks/Highlights</a></h1>
<h3 id="h3_114">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at <a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>
<pre><samp id="smp_26">
&lt;!-- bookmark 1.0.0 DTD 2001-09-27
file: bookmark100.dtd  
   
Authors: Tom McLaughlin and Michael Moodie


The following identifiers apply to this DTD: 
"-//NISO//DTD bookmark v1.0.0//EN"
"http://www.loc.gov/nls/z3986/v100/bookmark100.dtd"   
--&gt;  

      
&lt;!-- ********************* Entities ******************* --&gt;
&lt;!ENTITY % uri "CDATA"&gt;
&lt;!-- ********************* Elements ********************* --&gt;
&lt;!-- BookmarkSet: The set of bookmarks for a book consists of the title, a unique 
identifier of the book, the last place the reader left off and zero or more 
bookmarks, highlights, and associated audio or textual notes. This set is intended for 
export of bookmarks, highlights and notes to another player; the markup is not required 
for a player's internal representation of bookmarks.
 --&gt;
&lt;!ELEMENT bookmarkSet	(title, uid, lastmark?, (bookmark | hilite)*) &gt;
&lt;!-- Title: The book's title in text and an optional audio clip.
 --&gt;
&lt;!ELEMENT title	(text, audio?) &gt;

&lt;!-- uid: A globally unique identifier for the book.
 --&gt;
&lt;!ELEMENT uid	(#PCDATA) &gt;

&lt;!-- Bookmark: Location and optional note. Location consists of a uri pointing to 
the id attribute of the &lt;par&gt; element in the SMIL file that contains the bookmark 
plus a time offset in seconds (or character offset) to the exact place.  Player should 
by default automatically number bookmarks in the order in which they fall in the book.
 --&gt;
&lt;!ELEMENT bookmark	(ncxRef, uri, (timeOffset | charOffset), note?) &gt;
&lt;!ATTLIST bookmark
	label		CDATA		#IMPLIED
&gt;  

&lt;!-- NcxRef: Captures current location in NCX (the id of the current navPoint)at 
time lastmark, bookmark, or highlight is set.  Ensures that current location in NCX and 
SMIL are synchronized after moving to a lastmark, etc., so that any global navigation 
commands issued by the user will start from the current location. --&gt;
&lt;!ELEMENT ncxRef       (#PCDATA)&gt;

&lt;!-- Lastmark: Location where reader left off and where player will resume play when 
restarted.
 --&gt;
&lt;!ELEMENT lastmark	(ncxRef, uri, (timeOffset | charOffset)) &gt;

&lt;!-- Hilite: A block of text with an optional note attached.
 --&gt;
&lt;!ELEMENT hilite	(hiliteStart, hiliteEnd, note?) &gt;
&lt;!ATTLIST hilite
	label		CDATA		#IMPLIED
&gt;  

&lt;!-- HilStart: Starting point of highlighted block.
 --&gt;
&lt;!ELEMENT hiliteStart	(ncxRef, uri, (timeOffset | charOffset)) &gt;

&lt;!-- HilEnd: End point of highlighted block.
 --&gt;
&lt;!ELEMENT hiliteEnd		(ncxRef, uri, (timeOffset | charOffset)) &gt;

&lt;!-- Uri: pointer to id of &lt;par&gt; or &lt;seq&gt; in SMIL, to id in text-only file, 
or to audio file that contains the bookmark.
 --&gt;
&lt;!ELEMENT uri	(#PCDATA) &gt;

&lt;!-- Timeoffset: Exact position of bookmark in SMIL file or audio-only file referenced 
by the uri; in seconds.fraction (seconds=DIGIT+, fraction=3DIGIT).
 --&gt;
&lt;!ELEMENT timeOffset	(#PCDATA) &gt;

&lt;!-- Charoffset: Exact position of bookmark in text-only file referenced by the uri: 
in characters, counting from nearest previous tag with an id.  White space is normalized 
(collapsed to one character) and tags are not counted.
 --&gt;
&lt;!ELEMENT charOffset     (#PCDATA) &gt;

&lt;!-- Note: The note is for the user's input, random thoughts, musings, etc. It can be 
text or audio or both.
 --&gt;
&lt;!ELEMENT note		(text?, audio?) &gt;

&lt;!-- Text: Text of title or note. 
 --&gt;
&lt;!ELEMENT text	(#PCDATA) &gt;
&lt;!-- Audio: Audio clip of user-recorded note, in any format supported by standard.
 --&gt;
&lt;!ELEMENT audio	EMPTY &gt;
&lt;!ATTLIST audio
	
   src         %uri;    #REQUIRED
   clipBegin   CDATA    #IMPLIED
   clipEnd     CDATA    #IMPLIED
&gt;
</samp>
</pre>


<p id="para_212r"><a href="#toc">Contents</a></p>

<h1 id="h1_25"><a name="RESDTD">Appendix 5 - DTD for Resource File</a></h1>
<h3 id="h3_115">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at <a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>

<pre><samp id="smp_27">
&lt;!-- Resource File 1.1.O DTD 2002-02-27
 file: resource110.dtd  
 
Authors: Tom McLaughlin, Michael Moodie, Thomas Kjellberg Christensen
Change list:
2001-12-06  M. Moodie. Changed content model of resource element to eliminate ambiguity.
2002-02-12  M. Moodie. Changed dtd version from 1.0.1 to 1.1.0 per changes in other DTDs.
2002-02-27 M. Moodie. Grammatical changes suggested by editor.

The following identifiers apply to this DTD: 
"-//NISO//DTD resource v1.1.0//EN"
"http://www.loc.gov/nls/z3986/v100/resource110.dtd"
--&gt;

&lt;!-- ********** Attribute Types *********** --&gt;
&lt;!-- languagecode: An RFC1766 language code. --&gt;
&lt;!ENTITY % languagecode "NMTOKEN"&gt;

&lt;!-- SMILtimeVal: SMIL 2.0 clock value. --&gt;
&lt;!ENTITY % SMILtimeVal "CDATA"&gt;

&lt;!ENTITY % URI "CDATA"&gt;

&lt;!-- **************** Resource Elements ********** --&gt;

&lt;!-- Resources: Root element of DTD. 
--&gt;
&lt;!ELEMENT resources  (head?, (resource)+) &gt;
&lt;!ATTLIST resources
  version   	CDATA       	#FIXED "1.1.0"
&gt;

&lt;!-- Document Head - Contains metadata. 
--&gt;
&lt;!ELEMENT head (meta*)&gt;

&lt;!-- Resource element contains information about the alternative representations 
of an element present in the NCX or the textual content file. An alternative 
representation can be used to convey navigational information, e.g., provide 
a descriptive name for the kind of segment (part, chapter, section, etc.) 
the user is encountering.  In addition, it can supply accessible versions of dtbook 
element names and names of skippable structures listed in the head of the NCX.  
Text can be used for screen or Braille display, audio for digital talking book players, 
and image for screen display.
Attribute use:
type - Specifies whether the resource applies to the textual content file (dtbook) or 
the NCX (ncx). 
elementRef - Specifies the name of the element for which the resource is to be supplied.
classRef - Specifies the class attribute value of the element for which the resource is 
to be supplied. 
idRef - Specifies the name of the id attribute on the smilCustomTest element in NCX for 
which the resource is to be supplied. 
lang - Specifies the language of the resource item, using an RFC 1766 language code.
--&gt;

&lt;!ELEMENT resource  (((text, audio?) | audio), img?) &gt;

&lt;!ATTLIST resource
  type		(ncx | dtbook)	#REQUIRED
  elementRef   	CDATA       	#REQUIRED
  classRef	CDATA		#IMPLIED
  idRef		CDATA		#IMPLIED
  lang     	%languagecode;  #IMPLIED
&gt;

&lt;!ELEMENT text  (#PCDATA) &gt;
 
&lt;!ELEMENT audio  EMPTY &gt; 
&lt;!ATTLIST audio 
  src		%URI;		#REQUIRED 
  clipBegin	%SMILtimeVal;	#IMPLIED 
  clipEnd	%SMILtimeVal;	#IMPLIED 
&gt; 
 
&lt;!-- If the clipBegin attribute is not present in an instance of the 
audio element, the audio file referenced must be played from its beginning.  
If the clipEnd attribute is not present, the audio file must be played to 
its end. If the value of the clipEnd attribute exceeds the duration of 
the audio file, the value must be ignored, and the audio file played to 
its end.
--&gt; 
 
&lt;!ELEMENT img  EMPTY &gt; 
&lt;!ATTLIST img
  src		%URI;		#REQUIRED
&gt;
 
&lt;!-- Meta Element - producer-defined metadata about this resource file.
--&gt; 
&lt;!ELEMENT meta EMPTY&gt; 
&lt;!ATTLIST meta
  name		CDATA		#REQUIRED
  content	CDATA		#REQUIRED
  scheme	CDATA		#IMPLIED
&gt;

</samp></pre>
<p id="para_212s"><a href="#toc">Contents</a></p> 
<h1 id="h1_26"><a name="Distinfo">Appendix 6 - Distribution Information DTD</a></h1>
<h3 id="h3_116">(This section is normative.)</h3>
<p>The following DTD is available in plain-text form from the maintenance agency at 
<a href="http://www.loc.gov/nls/z3986/v100/">http://www.loc.gov/nls/z3986/v100/</a>.</p>

<pre><samp id="smp_28">
&lt;!-- distInfo 1.1.0 DTD 2002-02-27
file: distInfo110.dtd 

Author: James Pritchett
Change list:
2001-12-06  M. Moodie. Changed content model of changeMsg to eliminate ambiguity.
2002-02-12  M. Moodie. Changed dtd version from 1.0.1 to 1.1.0 per changes in other DTDs.
2002-02-27 M. Moodie. Grammatical changes suggested by editor.

Description:
An XML application to describe the contents of a single piece of DTB
distribution media.  It consists of a list of books to be found on the
media.  For each book, distInfo identifies the location of each book 
within the media filesystem.  If the book is being distributed on multiple 
distribution media (media units), the distInfo book element also includes:
1) the sequence id of this media unit
2) a distribution map for the book, telling where to find all the SMIL files for a book

The following identifiers apply to this DTD: 
"-//NISO//DTD distInfo v1.1.0//EN"
"http://www.loc.gov/nls/z3986/v100/distInfo110.dtd"

--&gt;
&lt;!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * --&gt;

&lt;!ENTITY % URI 		"CDATA"&gt;
&lt;!ENTITY % SMILtimeVal	"CDATA"&gt;

&lt;!-- distInfo:  Root element, consists of one or more books.
"version" specifies the version of this DTD used in this instance. Three 
digits, with decimal point separators; digits one, two and three will 
reflect major, moderate and minor changes, respectively. This attribute 
must be present but parsers will not enforce its presence, just its value.
--&gt;
&lt;!ELEMENT distInfo (book+)&gt;
&lt;!ATTLIST distInfo
	version		CDATA		#FIXED "1.1.0"
&gt;

&lt;!-- book:  a DTB that is present, in part or whole, on this piece of
distribution media.  The uid and pkgRef attributes are required.  "uid"
matches the package unique-identifier.  "pkgRef" is a URI that locates the
book's package file on this media unit.

If this is a book fragment, then the "media" attribute identifies which
fragment is stored on this media unit, and a single distMap element
is present to describe which SMIL files are present on which media units.
The media attribute is in the format "x:y", where x is the sequence
number of this media unit, and y is the total number of media units
in the distribution of this book.

In the case of a book fragment, &lt;book&gt; should contain exactly one 
&lt;distMap&gt; and optionally one or more &lt;changeMsg&gt; elements.
--&gt;
&lt;!ELEMENT book (distMap?, changeMsg*)&gt;
&lt;!ATTLIST book
	uid		CDATA		#REQUIRED
	pkgRef		CDATA		#REQUIRED
	media		CDATA		#IMPLIED
&gt;

&lt;!-- distMap:  a map identifying which media the various SMIL files
reside upon.  This consists of one or more smilRef elements.  The
distMap smilRefs should match one-to-one those of the book package spine.
--&gt;
&lt;!ELEMENT distMap (smilRef+)&gt;

&lt;!-- smilRef:  a reference to a DTB SMIL file.  These are referenced
by file name. The mediaRef attribute of each smilRef identifies the piece of 
media that the file resides upon, and is in the format "x:y" (see above).
--&gt;
&lt;!ELEMENT smilRef EMPTY&gt;
&lt;!ATTLIST smilRef
	file		CDATA		#REQUIRED
	mediaRef	CDATA 		#REQUIRED
&gt;

&lt;!-- changeMsg:  A pointer to a custom message to be read when a new disk is
requested by the reading system.  "mediaRef" identifies the media unit which 
this message (e.g., "Insert disc 2") specifies.  Player invokes the correct 
&lt;changeMsg&gt; by matching its "mediaRef" attribute to the "mediaRef" attribute 
of the selected &lt;smilRef&gt;.  "mediaRef" is in the format "x:y", where x is 
the sequence number of the specified media unit, and y is the total number of media 
pieces in the distribution of this book. 
--&gt;
&lt;!ELEMENT changeMsg ((text, audio?) | audio)&gt;
&lt;!ATTLIST changeMsg
	mediaRef	CDATA		#REQUIRED
	lang 		NMTOKEN 	#IMPLIED 
&gt;

&lt;!-- text: Contains text of media change message.
--&gt;
&lt;!ELEMENT text (#PCDATA)&gt;

&lt;!-- audio: Pointer to audio content of media change message.
--&gt;
&lt;!ELEMENT audio EMPTY&gt;
&lt;!ATTLIST audio
	src		%URI;			#REQUIRED
	clipBegin	%SMILtimeVal;		#IMPLIED
	clipEnd		%SMILtimeVal;		#IMPLIED
&gt;
</samp>
</pre>



<p id="para_212t"><a href="#toc">Contents</a></p>

<h1 id="h1_27"><a name="MaintDes">Appendix 7 - Designation of Maintenance Agency</a></h1>

<p id="para_213">(This Appendix is not part of American National
Standard Z39.86-2002, Specifications for the Digital Talking Book. It
is included for information only.)</p>

<p id="para_214">The functions assigned to the maintenance agency as
specified in section 1.7 will be administered by the National Library
Service for the Blind and Physically Handicapped, Library of Congress.
Questions concerning the implementation of this standard and requests
for information should be sent to the Research and Development Officer,
National Library Service for the Blind and Physically Handicapped,
Library of Congress, Washington, DC 20542, or nls@loc.gov, including
"Z3986" in the subject line.</p>

<p id="para_215"><a href="#toc">Contents</a></p>
</body></html>